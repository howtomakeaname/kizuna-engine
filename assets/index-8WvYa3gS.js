(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();function Uh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var uu={exports:{}},uo={};var Pm;function H0(){if(Pm)return uo;Pm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,u,d){var p=null;if(d!==void 0&&(p=""+d),u.key!==void 0&&(p=""+u.key),"key"in u){d={};for(var g in u)g!=="key"&&(d[g]=u[g])}else d=u;return u=d.ref,{$$typeof:i,type:a,key:p,ref:u!==void 0?u:null,props:d}}return uo.Fragment=t,uo.jsx=o,uo.jsxs=o,uo}var Hm;function V0(){return Hm||(Hm=1,uu.exports=H0()),uu.exports}var T=V0(),cu={exports:{}},fe={};var Vm;function z0(){if(Vm)return fe;Vm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),E=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,B={};function O(M,V,Q){this.props=M,this.context=V,this.refs=B,this.updater=Q||G}O.prototype.isReactComponent={},O.prototype.setState=function(M,V){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,V,"setState")},O.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function J(){}J.prototype=O.prototype;function z(M,V,Q){this.props=M,this.context=V,this.refs=B,this.updater=Q||G}var Z=z.prototype=new J;Z.constructor=z,P(Z,O.prototype),Z.isPureReactComponent=!0;var F=Array.isArray;function W(){}var Y={H:null,A:null,T:null,S:null},me=Object.prototype.hasOwnProperty;function te(M,V,Q){var $=Q.ref;return{$$typeof:i,type:M,key:V,ref:$!==void 0?$:null,props:Q}}function le(M,V){return te(M.type,V,M.props)}function ye(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function se(M){var V={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Q){return V[Q]})}var re=/\/+/g;function Be(M,V){return typeof M=="object"&&M!==null&&M.key!=null?se(""+M.key):V.toString(36)}function ue(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(W,W):(M.status="pending",M.then(function(V){M.status==="pending"&&(M.status="fulfilled",M.value=V)},function(V){M.status==="pending"&&(M.status="rejected",M.reason=V)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function D(M,V,Q,$,ce){var he=typeof M;(he==="undefined"||he==="boolean")&&(M=null);var Ne=!1;if(M===null)Ne=!0;else switch(he){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(M.$$typeof){case i:case t:Ne=!0;break;case v:return Ne=M._init,D(Ne(M._payload),V,Q,$,ce)}}if(Ne)return ce=ce(M),Ne=$===""?"."+Be(M,0):$,F(ce)?(Q="",Ne!=null&&(Q=Ne.replace(re,"$&/")+"/"),D(ce,V,Q,"",function(Xn){return Xn})):ce!=null&&(ye(ce)&&(ce=le(ce,Q+(ce.key==null||M&&M.key===ce.key?"":(""+ce.key).replace(re,"$&/")+"/")+Ne)),V.push(ce)),1;Ne=0;var nt=$===""?".":$+":";if(F(M))for(var Oe=0;Oe<M.length;Oe++)$=M[Oe],he=nt+Be($,Oe),Ne+=D($,V,Q,he,ce);else if(Oe=A(M),typeof Oe=="function")for(M=Oe.call(M),Oe=0;!($=M.next()).done;)$=$.value,he=nt+Be($,Oe++),Ne+=D($,V,Q,he,ce);else if(he==="object"){if(typeof M.then=="function")return D(ue(M),V,Q,$,ce);throw V=String(M),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function k(M,V,Q){if(M==null)return M;var $=[],ce=0;return D(M,$,"","",function(he){return V.call(Q,he,ce++)}),$}function ee(M){if(M._status===-1){var V=M._result;V=V(),V.then(function(Q){(M._status===0||M._status===-1)&&(M._status=1,M._result=Q)},function(Q){(M._status===0||M._status===-1)&&(M._status=2,M._result=Q)}),M._status===-1&&(M._status=0,M._result=V)}if(M._status===1)return M._result.default;throw M._result}var _e=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ae={map:k,forEach:function(M,V,Q){k(M,function(){V.apply(this,arguments)},Q)},count:function(M){var V=0;return k(M,function(){V++}),V},toArray:function(M){return k(M,function(V){return V})||[]},only:function(M){if(!ye(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return fe.Activity=x,fe.Children=Ae,fe.Component=O,fe.Fragment=o,fe.Profiler=u,fe.PureComponent=z,fe.StrictMode=a,fe.Suspense=y,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,fe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return Y.H.useMemoCache(M)}},fe.cache=function(M){return function(){return M.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(M,V,Q){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var $=P({},M.props),ce=M.key;if(V!=null)for(he in V.key!==void 0&&(ce=""+V.key),V)!me.call(V,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&V.ref===void 0||($[he]=V[he]);var he=arguments.length-2;if(he===1)$.children=Q;else if(1<he){for(var Ne=Array(he),nt=0;nt<he;nt++)Ne[nt]=arguments[nt+2];$.children=Ne}return te(M.type,ce,$)},fe.createContext=function(M){return M={$$typeof:p,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:d,_context:M},M},fe.createElement=function(M,V,Q){var $,ce={},he=null;if(V!=null)for($ in V.key!==void 0&&(he=""+V.key),V)me.call(V,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ce[$]=V[$]);var Ne=arguments.length-2;if(Ne===1)ce.children=Q;else if(1<Ne){for(var nt=Array(Ne),Oe=0;Oe<Ne;Oe++)nt[Oe]=arguments[Oe+2];ce.children=nt}if(M&&M.defaultProps)for($ in Ne=M.defaultProps,Ne)ce[$]===void 0&&(ce[$]=Ne[$]);return te(M,he,ce)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(M){return{$$typeof:g,render:M}},fe.isValidElement=ye,fe.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ee}},fe.memo=function(M,V){return{$$typeof:h,type:M,compare:V===void 0?null:V}},fe.startTransition=function(M){var V=Y.T,Q={};Y.T=Q;try{var $=M(),ce=Y.S;ce!==null&&ce(Q,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(W,_e)}catch(he){_e(he)}finally{V!==null&&Q.types!==null&&(V.types=Q.types),Y.T=V}},fe.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},fe.use=function(M){return Y.H.use(M)},fe.useActionState=function(M,V,Q){return Y.H.useActionState(M,V,Q)},fe.useCallback=function(M,V){return Y.H.useCallback(M,V)},fe.useContext=function(M){return Y.H.useContext(M)},fe.useDebugValue=function(){},fe.useDeferredValue=function(M,V){return Y.H.useDeferredValue(M,V)},fe.useEffect=function(M,V){return Y.H.useEffect(M,V)},fe.useEffectEvent=function(M){return Y.H.useEffectEvent(M)},fe.useId=function(){return Y.H.useId()},fe.useImperativeHandle=function(M,V,Q){return Y.H.useImperativeHandle(M,V,Q)},fe.useInsertionEffect=function(M,V){return Y.H.useInsertionEffect(M,V)},fe.useLayoutEffect=function(M,V){return Y.H.useLayoutEffect(M,V)},fe.useMemo=function(M,V){return Y.H.useMemo(M,V)},fe.useOptimistic=function(M,V){return Y.H.useOptimistic(M,V)},fe.useReducer=function(M,V,Q){return Y.H.useReducer(M,V,Q)},fe.useRef=function(M){return Y.H.useRef(M)},fe.useState=function(M){return Y.H.useState(M)},fe.useSyncExternalStore=function(M,V,Q){return Y.H.useSyncExternalStore(M,V,Q)},fe.useTransition=function(){return Y.H.useTransition()},fe.version="19.2.0",fe}var zm;function wu(){return zm||(zm=1,cu.exports=z0()),cu.exports}var K=wu();const B0=Uh(K);var fu={exports:{}},co={},du={exports:{}},mu={};var Bm;function O0(){return Bm||(Bm=1,(function(i){function t(D,k){var ee=D.length;D.push(k);e:for(;0<ee;){var _e=ee-1>>>1,Ae=D[_e];if(0<u(Ae,k))D[_e]=k,D[ee]=Ae,ee=_e;else break e}}function o(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var k=D[0],ee=D.pop();if(ee!==k){D[0]=ee;e:for(var _e=0,Ae=D.length,M=Ae>>>1;_e<M;){var V=2*(_e+1)-1,Q=D[V],$=V+1,ce=D[$];if(0>u(Q,ee))$<Ae&&0>u(ce,Q)?(D[_e]=ce,D[$]=ee,_e=$):(D[_e]=Q,D[V]=ee,_e=V);else if($<Ae&&0>u(ce,ee))D[_e]=ce,D[$]=ee,_e=$;else break e}}return k}function u(D,k){var ee=D.sortIndex-k.sortIndex;return ee!==0?ee:D.id-k.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],h=[],v=1,x=null,E=3,A=!1,G=!1,P=!1,B=!1,O=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function Z(D){for(var k=o(h);k!==null;){if(k.callback===null)a(h);else if(k.startTime<=D)a(h),k.sortIndex=k.expirationTime,t(y,k);else break;k=o(h)}}function F(D){if(P=!1,Z(D),!G)if(o(y)!==null)G=!0,W||(W=!0,se());else{var k=o(h);k!==null&&ue(F,k.startTime-D)}}var W=!1,Y=-1,me=5,te=-1;function le(){return B?!0:!(i.unstable_now()-te<me)}function ye(){if(B=!1,W){var D=i.unstable_now();te=D;var k=!0;try{e:{G=!1,P&&(P=!1,J(Y),Y=-1),A=!0;var ee=E;try{t:{for(Z(D),x=o(y);x!==null&&!(x.expirationTime>D&&le());){var _e=x.callback;if(typeof _e=="function"){x.callback=null,E=x.priorityLevel;var Ae=_e(x.expirationTime<=D);if(D=i.unstable_now(),typeof Ae=="function"){x.callback=Ae,Z(D),k=!0;break t}x===o(y)&&a(y),Z(D)}else a(y);x=o(y)}if(x!==null)k=!0;else{var M=o(h);M!==null&&ue(F,M.startTime-D),k=!1}}break e}finally{x=null,E=ee,A=!1}k=void 0}}finally{k?se():W=!1}}}var se;if(typeof z=="function")se=function(){z(ye)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Be=re.port2;re.port1.onmessage=ye,se=function(){Be.postMessage(null)}}else se=function(){O(ye,0)};function ue(D,k){Y=O(function(){D(i.unstable_now())},k)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(D){D.callback=null},i.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<D?Math.floor(1e3/D):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(D){switch(E){case 1:case 2:case 3:var k=3;break;default:k=E}var ee=E;E=k;try{return D()}finally{E=ee}},i.unstable_requestPaint=function(){B=!0},i.unstable_runWithPriority=function(D,k){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var ee=E;E=D;try{return k()}finally{E=ee}},i.unstable_scheduleCallback=function(D,k,ee){var _e=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?_e+ee:_e):ee=_e,D){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ee+Ae,D={id:v++,callback:k,priorityLevel:D,startTime:ee,expirationTime:Ae,sortIndex:-1},ee>_e?(D.sortIndex=ee,t(h,D),o(y)===null&&D===o(h)&&(P?(J(Y),Y=-1):P=!0,ue(F,ee-_e))):(D.sortIndex=Ae,t(y,D),G||A||(G=!0,W||(W=!0,se()))),D},i.unstable_shouldYield=le,i.unstable_wrapCallback=function(D){var k=E;return function(){var ee=E;E=k;try{return D.apply(this,arguments)}finally{E=ee}}}})(mu)),mu}var Om;function F0(){return Om||(Om=1,du.exports=O0()),du.exports}var pu={exports:{}},ct={};var Fm;function J0(){if(Fm)return ct;Fm=1;var i=wu();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(y,h,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:y,containerInfo:h,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ct.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return d(y,h,null,v)},ct.flushSync=function(y){var h=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=h,a.p=v,a.d.f()}},ct.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},ct.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},ct.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,x=g(v,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:E,fetchPriority:A}):v==="script"&&a.d.X(y,{crossOrigin:x,integrity:E,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ct.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},ct.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,x=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ct.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},ct.requestFormReset=function(y){a.d.r(y)},ct.unstable_batchedUpdates=function(y,h){return y(h)},ct.useFormState=function(y,h,v){return p.H.useFormState(y,h,v)},ct.useFormStatus=function(){return p.H.useHostTransitionStatus()},ct.version="19.2.0",ct}var Jm;function Y0(){if(Jm)return pu.exports;Jm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),pu.exports=J0(),pu.exports}var Ym;function K0(){if(Ym)return co;Ym=1;var i=F0(),t=wu(),o=Y0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(a(188));return n!==e?null:e}for(var l=e,s=n;;){var f=l.return;if(f===null)break;var m=f.alternate;if(m===null){if(s=f.return,s!==null){l=s;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===l)return y(f),e;if(m===s)return y(f),n;m=m.sibling}throw Error(a(188))}if(l.return!==s.return)l=f,s=m;else{for(var S=!1,_=f.child;_;){if(_===l){S=!0,l=f,s=m;break}if(_===s){S=!0,s=f,l=m;break}_=_.sibling}if(!S){for(_=m.child;_;){if(_===l){S=!0,l=m,s=f;break}if(_===s){S=!0,s=m,l=f;break}_=_.sibling}if(!S)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),z=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=ye&&e[ye]||e["@@iterator"],typeof e=="function"?e:null)}var re=Symbol.for("react.client.reference");function Be(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case O:return"Profiler";case B:return"StrictMode";case F:return"Suspense";case W:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case z:return e.displayName||"Context";case J:return(e._context.displayName||"Context")+".Consumer";case Z:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return n=e.displayName||null,n!==null?n:Be(e.type)||"Memo";case me:n=e._payload,e=e._init;try{return Be(e(n))}catch{}}return null}var ue=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},_e=[],Ae=-1;function M(e){return{current:e}}function V(e){0>Ae||(e.current=_e[Ae],_e[Ae]=null,Ae--)}function Q(e,n){Ae++,_e[Ae]=e.current,e.current=n}var $=M(null),ce=M(null),he=M(null),Ne=M(null);function nt(e,n){switch(Q(he,n),Q(ce,e),Q($,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?sm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=sm(n),e=rm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V($),Q($,e)}function Oe(){V($),V(ce),V(he)}function Xn(e){e.memoizedState!==null&&Q(Ne,e);var n=$.current,l=rm(n,e.type);n!==l&&(Q(ce,e),Q($,l))}function vi(e){ce.current===e&&(V($),V(ce)),Ne.current===e&&(V(Ne),oo._currentValue=ee)}var ml,pl;function Yt(e){if(ml===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);ml=n&&n[1]||"",pl=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ml+e+pl}var hl=!1;function ie(e,n){if(!e||hl)return"";hl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(U){var I=U}Reflect.construct(e,[],H)}else{try{H.call()}catch(U){I=U}e.call(H.prototype)}}else{try{throw Error()}catch(U){I=U}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(U){if(U&&I&&typeof U.stack=="string")return[U.stack,I.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),S=m[0],_=m[1];if(S&&_){var C=S.split(`
`),R=_.split(`
`);for(f=s=0;s<C.length&&!C[s].includes("DetermineComponentFrameRoot");)s++;for(;f<R.length&&!R[f].includes("DetermineComponentFrameRoot");)f++;if(s===C.length||f===R.length)for(s=C.length-1,f=R.length-1;1<=s&&0<=f&&C[s]!==R[f];)f--;for(;1<=s&&0<=f;s--,f--)if(C[s]!==R[f]){if(s!==1||f!==1)do if(s--,f--,0>f||C[s]!==R[f]){var L=`
`+C[s].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=s&&0<=f);break}}}finally{hl=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Yt(l):""}function je(e,n){switch(e.tag){case 26:case 27:case 5:return Yt(e.type);case 16:return Yt("Lazy");case 13:return e.child!==n&&n!==null?Yt("Suspense Fallback"):Yt("Suspense");case 19:return Yt("SuspenseList");case 0:case 15:return ie(e.type,!1);case 11:return ie(e.type.render,!1);case 1:return ie(e.type,!0);case 31:return Yt("Activity");default:return""}}function it(e){try{var n="",l=null;do n+=je(e,l),l=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var qe=Object.prototype.hasOwnProperty,Wt=i.unstable_scheduleCallback,Zn=i.unstable_cancelCallback,Si=i.unstable_shouldYield,Za=i.unstable_requestPaint,lt=i.unstable_now,jt=i.unstable_getCurrentPriorityLevel,vo=i.unstable_ImmediatePriority,So=i.unstable_UserBlockingPriority,mt=i.unstable_NormalPriority,Rt=i.unstable_LowPriority,gl=i.unstable_IdlePriority,xg=i.log,Eg=i.unstable_setDisableYieldValue,yl=null,xt=null;function En(e){if(typeof xg=="function"&&Eg(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(yl,e)}catch{}}var Et=Math.clz32?Math.clz32:Ag,_g=Math.log,Cg=Math.LN2;function Ag(e){return e>>>=0,e===0?32:31-(_g(e)/Cg|0)|0}var To=256,xo=262144,Eo=4194304;function $n(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _o(e,n,l){var s=e.pendingLanes;if(s===0)return 0;var f=0,m=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~m,s!==0?f=$n(s):(S&=_,S!==0?f=$n(S):l||(l=_&~e,l!==0&&(f=$n(l))))):(_=s&~m,_!==0?f=$n(_):S!==0?f=$n(S):l||(l=s&~e,l!==0&&(f=$n(l)))),f===0?0:n!==0&&n!==f&&(n&m)===0&&(m=f&-f,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:f}function vl(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ng(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zu(){var e=Eo;return Eo<<=1,(Eo&62914560)===0&&(Eo=4194304),e}function $a(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function Sl(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Mg(e,n,l,s,f,m){var S=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var _=e.entanglements,C=e.expirationTimes,R=e.hiddenUpdates;for(l=S&~l;0<l;){var L=31-Et(l),H=1<<L;_[L]=0,C[L]=-1;var I=R[L];if(I!==null)for(R[L]=null,L=0;L<I.length;L++){var U=I[L];U!==null&&(U.lane&=-536870913)}l&=~H}s!==0&&Bu(e,s,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(S&~n))}function Bu(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Et(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function Ou(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var s=31-Et(l),f=1<<s;f&n|e[s]&n&&(e[s]|=n),l&=~f}}function Fu(e,n){var l=n&-n;return l=(l&42)!==0?1:Wa(l),(l&(e.suspendedLanes|n))!==0?0:l}function Wa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ja(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ju(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:Im(e.type))}function Yu(e,n){var l=k.p;try{return k.p=e,n()}finally{k.p=l}}var _n=Math.random().toString(36).slice(2),ot="__reactFiber$"+_n,pt="__reactProps$"+_n,Ti="__reactContainer$"+_n,es="__reactEvents$"+_n,wg="__reactListeners$"+_n,bg="__reactHandles$"+_n,Ku="__reactResources$"+_n,Tl="__reactMarker$"+_n;function ts(e){delete e[ot],delete e[pt],delete e[es],delete e[wg],delete e[bg]}function xi(e){var n=e[ot];if(n)return n;for(var l=e.parentNode;l;){if(n=l[Ti]||l[ot]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=hm(e);e!==null;){if(l=e[ot])return l;e=hm(e)}return n}e=l,l=e.parentNode}return null}function Ei(e){if(e=e[ot]||e[Ti]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function xl(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function _i(e){var n=e[Ku];return n||(n=e[Ku]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function et(e){e[Tl]=!0}var Qu=new Set,Xu={};function Wn(e,n){Ci(e,n),Ci(e+"Capture",n)}function Ci(e,n){for(Xu[e]=n,e=0;e<n.length;e++)Qu.add(n[e])}var Rg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zu={},$u={};function Ig(e){return qe.call($u,e)?!0:qe.call(Zu,e)?!1:Rg.test(e)?$u[e]=!0:(Zu[e]=!0,!1)}function Co(e,n,l){if(Ig(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Ao(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function en(e,n,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+s)}}function It(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wu(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Dg(e,n,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(S){l=""+S,m.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ns(e){if(!e._valueTracker){var n=Wu(e)?"checked":"value";e._valueTracker=Dg(e,n,""+e[n])}}function ju(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),s="";return e&&(s=Wu(e)?e.checked?"true":"false":e.value),e=s,e!==l?(n.setValue(e),!0):!1}function No(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ug=/[\n"\\]/g;function Dt(e){return e.replace(Ug,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function is(e,n,l,s,f,m,S,_){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+It(n)):e.value!==""+It(n)&&(e.value=""+It(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?ls(e,S,It(n)):l!=null?ls(e,S,It(l)):s!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+It(_):e.removeAttribute("name")}function ec(e,n,l,s,f,m,S,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){ns(e);return}l=l!=null?""+It(l):"",n=n!=null?""+It(n):l,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??f,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),ns(e)}function ls(e,n,l){n==="number"&&No(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ai(e,n,l,s){if(e=e.options,n){n={};for(var f=0;f<l.length;f++)n["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=n.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&s&&(e[l].defaultSelected=!0)}else{for(l=""+It(l),n=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,s&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function tc(e,n,l){if(n!=null&&(n=""+It(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+It(l):""}function nc(e,n,l,s){if(n==null){if(s!=null){if(l!=null)throw Error(a(92));if(ue(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),n=l}l=It(n),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),ns(e)}function Ni(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var kg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ic(e,n,l){var s=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,l):typeof l!="number"||l===0||kg.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function lc(e,n,l){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var f in n)s=n[f],n.hasOwnProperty(f)&&l[f]!==s&&ic(e,f,s)}else for(var m in n)n.hasOwnProperty(m)&&ic(e,m,n[m])}function os(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mo(e){return Gg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function tn(){}var as=null;function ss(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mi=null,wi=null;function oc(e){var n=Ei(e);if(n&&(e=n.stateNode)){var l=e[pt]||null;e:switch(e=n.stateNode,n.type){case"input":if(is(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Dt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var s=l[n];if(s!==e&&s.form===e.form){var f=s[pt]||null;if(!f)throw Error(a(90));is(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<l.length;n++)s=l[n],s.form===e.form&&ju(s)}break e;case"textarea":tc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Ai(e,!!l.multiple,n,!1)}}}var rs=!1;function ac(e,n,l){if(rs)return e(n,l);rs=!0;try{var s=e(n);return s}finally{if(rs=!1,(Mi!==null||wi!==null)&&(pa(),Mi&&(n=Mi,e=wi,wi=Mi=null,oc(n),e)))for(n=0;n<e.length;n++)oc(e[n])}}function El(e,n){var l=e.stateNode;if(l===null)return null;var s=l[pt]||null;if(s===null)return null;l=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,n,typeof l));return l}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),us=!1;if(nn)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){us=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{us=!1}var Cn=null,cs=null,wo=null;function sc(){if(wo)return wo;var e,n=cs,l=n.length,s,f="value"in Cn?Cn.value:Cn.textContent,m=f.length;for(e=0;e<l&&n[e]===f[e];e++);var S=l-e;for(s=1;s<=S&&n[l-s]===f[m-s];s++);return wo=f.slice(e,1<s?1-s:void 0)}function bo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ro(){return!0}function rc(){return!1}function ht(e){function n(l,s,f,m,S){this._reactName=l,this._targetInst=f,this.type=s,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(l=e[_],this[_]=l?l(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ro:rc,this.isPropagationStopped=rc,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),n}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Io=ht(jn),Cl=x({},jn,{view:0,detail:0}),qg=ht(Cl),fs,ds,Al,Do=x({},Cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Al&&(Al&&e.type==="mousemove"?(fs=e.screenX-Al.screenX,ds=e.screenY-Al.screenY):ds=fs=0,Al=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:ds}}),uc=ht(Do),Pg=x({},Do,{dataTransfer:0}),Hg=ht(Pg),Vg=x({},Cl,{relatedTarget:0}),ms=ht(Vg),zg=x({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Bg=ht(zg),Og=x({},jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fg=ht(Og),Jg=x({},jn,{data:0}),cc=ht(Jg),Yg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Qg[e])?!!n[e]:!1}function ps(){return Xg}var Zg=x({},Cl,{key:function(e){if(e.key){var n=Yg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=bo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(e){return e.type==="keypress"?bo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$g=ht(Zg),Wg=x({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fc=ht(Wg),jg=x({},Cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),ey=ht(jg),ty=x({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ny=ht(ty),iy=x({},Do,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ly=ht(iy),oy=x({},jn,{newState:0,oldState:0}),ay=ht(oy),sy=[9,13,27,32],hs=nn&&"CompositionEvent"in window,Nl=null;nn&&"documentMode"in document&&(Nl=document.documentMode);var ry=nn&&"TextEvent"in window&&!Nl,dc=nn&&(!hs||Nl&&8<Nl&&11>=Nl),mc=" ",pc=!1;function hc(e,n){switch(e){case"keyup":return sy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bi=!1;function uy(e,n){switch(e){case"compositionend":return gc(n);case"keypress":return n.which!==32?null:(pc=!0,mc);case"textInput":return e=n.data,e===mc&&pc?null:e;default:return null}}function cy(e,n){if(bi)return e==="compositionend"||!hs&&hc(e,n)?(e=sc(),wo=cs=Cn=null,bi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return dc&&n.locale!=="ko"?null:n.data;default:return null}}var fy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!fy[e.type]:n==="textarea"}function vc(e,n,l,s){Mi?wi?wi.push(s):wi=[s]:Mi=s,n=xa(n,"onChange"),0<n.length&&(l=new Io("onChange","change",null,l,s),e.push({event:l,listeners:n}))}var Ml=null,wl=null;function dy(e){tm(e,0)}function Uo(e){var n=xl(e);if(ju(n))return e}function Sc(e,n){if(e==="change")return n}var Tc=!1;if(nn){var gs;if(nn){var ys="oninput"in document;if(!ys){var xc=document.createElement("div");xc.setAttribute("oninput","return;"),ys=typeof xc.oninput=="function"}gs=ys}else gs=!1;Tc=gs&&(!document.documentMode||9<document.documentMode)}function Ec(){Ml&&(Ml.detachEvent("onpropertychange",_c),wl=Ml=null)}function _c(e){if(e.propertyName==="value"&&Uo(wl)){var n=[];vc(n,wl,e,ss(e)),ac(dy,n)}}function my(e,n,l){e==="focusin"?(Ec(),Ml=n,wl=l,Ml.attachEvent("onpropertychange",_c)):e==="focusout"&&Ec()}function py(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uo(wl)}function hy(e,n){if(e==="click")return Uo(n)}function gy(e,n){if(e==="input"||e==="change")return Uo(n)}function yy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _t=typeof Object.is=="function"?Object.is:yy;function bl(e,n){if(_t(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),s=Object.keys(n);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var f=l[s];if(!qe.call(n,f)||!_t(e[f],n[f]))return!1}return!0}function Cc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ac(e,n){var l=Cc(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=n&&s>=n)return{node:l,offset:n-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Cc(l)}}function Nc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Nc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Mc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=No(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=No(e.document)}return n}function vs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var vy=nn&&"documentMode"in document&&11>=document.documentMode,Ri=null,Ss=null,Rl=null,Ts=!1;function wc(e,n,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ts||Ri==null||Ri!==No(s)||(s=Ri,"selectionStart"in s&&vs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Rl&&bl(Rl,s)||(Rl=s,s=xa(Ss,"onSelect"),0<s.length&&(n=new Io("onSelect","select",null,n,l),e.push({event:n,listeners:s}),n.target=Ri)))}function ei(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Ii={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionrun:ei("Transition","TransitionRun"),transitionstart:ei("Transition","TransitionStart"),transitioncancel:ei("Transition","TransitionCancel"),transitionend:ei("Transition","TransitionEnd")},xs={},bc={};nn&&(bc=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function ti(e){if(xs[e])return xs[e];if(!Ii[e])return e;var n=Ii[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in bc)return xs[e]=n[l];return e}var Rc=ti("animationend"),Ic=ti("animationiteration"),Dc=ti("animationstart"),Sy=ti("transitionrun"),Ty=ti("transitionstart"),xy=ti("transitioncancel"),Uc=ti("transitionend"),kc=new Map,Es="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Es.push("scrollEnd");function Bt(e,n){kc.set(e,n),Wn(n,[e])}var ko=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ut=[],Di=0,_s=0;function Lo(){for(var e=Di,n=_s=Di=0;n<e;){var l=Ut[n];Ut[n++]=null;var s=Ut[n];Ut[n++]=null;var f=Ut[n];Ut[n++]=null;var m=Ut[n];if(Ut[n++]=null,s!==null&&f!==null){var S=s.pending;S===null?f.next=f:(f.next=S.next,S.next=f),s.pending=f}m!==0&&Lc(l,f,m)}}function Go(e,n,l,s){Ut[Di++]=e,Ut[Di++]=n,Ut[Di++]=l,Ut[Di++]=s,_s|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Cs(e,n,l,s){return Go(e,n,l,s),qo(e)}function ni(e,n){return Go(e,null,null,n),qo(e)}function Lc(e,n,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var f=!1,m=e.return;m!==null;)m.childLanes|=l,s=m.alternate,s!==null&&(s.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&n!==null&&(f=31-Et(l),e=m.hiddenUpdates,s=e[f],s===null?e[f]=[n]:s.push(n),n.lane=l|536870912),m):null}function qo(e){if(50<Wl)throw Wl=0,Ur=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ui={};function Ey(e,n,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,n,l,s){return new Ey(e,n,l,s)}function As(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ln(e,n){var l=e.alternate;return l===null?(l=Ct(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Gc(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Po(e,n,l,s,f,m){var S=0;if(s=e,typeof e=="function")As(e)&&(S=1);else if(typeof e=="string")S=M0(e,l,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=Ct(31,l,n,f),e.elementType=te,e.lanes=m,e;case P:return ii(l.children,f,m,n);case B:S=8,f|=24;break;case O:return e=Ct(12,l,n,f|2),e.elementType=O,e.lanes=m,e;case F:return e=Ct(13,l,n,f),e.elementType=F,e.lanes=m,e;case W:return e=Ct(19,l,n,f),e.elementType=W,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:S=10;break e;case J:S=9;break e;case Z:S=11;break e;case Y:S=14;break e;case me:S=16,s=null;break e}S=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=Ct(S,l,n,f),n.elementType=e,n.type=s,n.lanes=m,n}function ii(e,n,l,s){return e=Ct(7,e,s,n),e.lanes=l,e}function Ns(e,n,l){return e=Ct(6,e,null,n),e.lanes=l,e}function qc(e){var n=Ct(18,null,null,0);return n.stateNode=e,n}function Ms(e,n,l){return n=Ct(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Pc=new WeakMap;function kt(e,n){if(typeof e=="object"&&e!==null){var l=Pc.get(e);return l!==void 0?l:(n={value:e,source:n,stack:it(n)},Pc.set(e,n),n)}return{value:e,source:n,stack:it(n)}}var ki=[],Li=0,Ho=null,Il=0,Lt=[],Gt=0,An=null,Kt=1,Qt="";function on(e,n){ki[Li++]=Il,ki[Li++]=Ho,Ho=e,Il=n}function Hc(e,n,l){Lt[Gt++]=Kt,Lt[Gt++]=Qt,Lt[Gt++]=An,An=e;var s=Kt;e=Qt;var f=32-Et(s)-1;s&=~(1<<f),l+=1;var m=32-Et(n)+f;if(30<m){var S=f-f%5;m=(s&(1<<S)-1).toString(32),s>>=S,f-=S,Kt=1<<32-Et(n)+f|l<<f|s,Qt=m+e}else Kt=1<<m|l<<f|s,Qt=e}function ws(e){e.return!==null&&(on(e,1),Hc(e,1,0))}function bs(e){for(;e===Ho;)Ho=ki[--Li],ki[Li]=null,Il=ki[--Li],ki[Li]=null;for(;e===An;)An=Lt[--Gt],Lt[Gt]=null,Qt=Lt[--Gt],Lt[Gt]=null,Kt=Lt[--Gt],Lt[Gt]=null}function Vc(e,n){Lt[Gt++]=Kt,Lt[Gt++]=Qt,Lt[Gt++]=An,Kt=n.id,Qt=n.overflow,An=e}var at=null,Pe=null,Ee=!1,Nn=null,qt=!1,Rs=Error(a(519));function Mn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dl(kt(n,e)),Rs}function zc(e){var n=e.stateNode,l=e.type,s=e.memoizedProps;switch(n[ot]=e,n[pt]=s,l){case"dialog":Se("cancel",n),Se("close",n);break;case"iframe":case"object":case"embed":Se("load",n);break;case"video":case"audio":for(l=0;l<eo.length;l++)Se(eo[l],n);break;case"source":Se("error",n);break;case"img":case"image":case"link":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"input":Se("invalid",n),ec(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Se("invalid",n);break;case"textarea":Se("invalid",n),nc(n,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||s.suppressHydrationWarning===!0||om(n.textContent,l)?(s.popover!=null&&(Se("beforetoggle",n),Se("toggle",n)),s.onScroll!=null&&Se("scroll",n),s.onScrollEnd!=null&&Se("scrollend",n),s.onClick!=null&&(n.onclick=tn),n=!0):n=!1,n||Mn(e,!0)}function Bc(e){for(at=e.return;at;)switch(at.tag){case 5:case 31:case 13:qt=!1;return;case 27:case 3:qt=!0;return;default:at=at.return}}function Gi(e){if(e!==at)return!1;if(!Ee)return Bc(e),Ee=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Qr(e.type,e.memoizedProps)),l=!l),l&&Pe&&Mn(e),Bc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Pe=pm(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Pe=pm(e)}else n===27?(n=Pe,zn(e.type)?(e=jr,jr=null,Pe=e):Pe=n):Pe=at?Ht(e.stateNode.nextSibling):null;return!0}function li(){Pe=at=null,Ee=!1}function Is(){var e=Nn;return e!==null&&(St===null?St=e:St.push.apply(St,e),Nn=null),e}function Dl(e){Nn===null?Nn=[e]:Nn.push(e)}var Ds=M(null),oi=null,an=null;function wn(e,n,l){Q(Ds,n._currentValue),n._currentValue=l}function sn(e){e._currentValue=Ds.current,V(Ds)}function Us(e,n,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===l)break;e=e.return}}function ks(e,n,l,s){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var S=f.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=f;for(var C=0;C<n.length;C++)if(_.context===n[C]){m.lanes|=l,_=m.alternate,_!==null&&(_.lanes|=l),Us(m.return,l,e),s||(S=null);break e}m=_.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(a(341));S.lanes|=l,m=S.alternate,m!==null&&(m.lanes|=l),Us(S,l,e),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===e){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function qi(e,n,l,s){e=null;for(var f=n,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var _=f.type;_t(f.pendingProps.value,S.value)||(e!==null?e.push(_):e=[_])}}else if(f===Ne.current){if(S=f.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(oo):e=[oo])}f=f.return}e!==null&&ks(n,e,l,s),n.flags|=262144}function Vo(e){for(e=e.firstContext;e!==null;){if(!_t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ai(e){oi=e,an=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function st(e){return Oc(oi,e)}function zo(e,n){return oi===null&&ai(e),Oc(e,n)}function Oc(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},an===null){if(e===null)throw Error(a(308));an=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else an=an.next=n;return l}var _y=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},Cy=i.unstable_scheduleCallback,Ay=i.unstable_NormalPriority,Qe={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ls(){return{controller:new _y,data:new Map,refCount:0}}function Ul(e){e.refCount--,e.refCount===0&&Cy(Ay,function(){e.controller.abort()})}var kl=null,Gs=0,Pi=0,Hi=null;function Ny(e,n){if(kl===null){var l=kl=[];Gs=0,Pi=Hr(),Hi={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Gs++,n.then(Fc,Fc),n}function Fc(){if(--Gs===0&&kl!==null){Hi!==null&&(Hi.status="fulfilled");var e=kl;kl=null,Pi=0,Hi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function My(e,n){var l=[],s={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var f=0;f<l.length;f++)(0,l[f])(n)},function(f){for(s.status="rejected",s.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),s}var Jc=D.S;D.S=function(e,n){bd=lt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Ny(e,n),Jc!==null&&Jc(e,n)};var si=M(null);function qs(){var e=si.current;return e!==null?e:Ge.pooledCache}function Bo(e,n){n===null?Q(si,si.current):Q(si,n.pool)}function Yc(){var e=qs();return e===null?null:{parent:Qe._currentValue,pool:e}}var Vi=Error(a(460)),Ps=Error(a(474)),Oo=Error(a(542)),Fo={then:function(){}};function Kc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qc(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(tn,tn),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zc(e),e;default:if(typeof n.status=="string")n.then(tn,tn);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=s}},function(s){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zc(e),e}throw ui=n,Vi}}function ri(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ui=l,Vi):l}}var ui=null;function Xc(){if(ui===null)throw Error(a(459));var e=ui;return ui=null,e}function Zc(e){if(e===Vi||e===Oo)throw Error(a(483))}var zi=null,Ll=0;function Jo(e){var n=Ll;return Ll+=1,zi===null&&(zi=[]),Qc(zi,e,n)}function Gl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Yo(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function $c(e){function n(w,N){if(e){var b=w.deletions;b===null?(w.deletions=[N],w.flags|=16):b.push(N)}}function l(w,N){if(!e)return null;for(;N!==null;)n(w,N),N=N.sibling;return null}function s(w){for(var N=new Map;w!==null;)w.key!==null?N.set(w.key,w):N.set(w.index,w),w=w.sibling;return N}function f(w,N){return w=ln(w,N),w.index=0,w.sibling=null,w}function m(w,N,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<N?(w.flags|=67108866,N):b):(w.flags|=67108866,N)):(w.flags|=1048576,N)}function S(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function _(w,N,b,q){return N===null||N.tag!==6?(N=Ns(b,w.mode,q),N.return=w,N):(N=f(N,b),N.return=w,N)}function C(w,N,b,q){var oe=b.type;return oe===P?L(w,N,b.props.children,q,b.key):N!==null&&(N.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===me&&ri(oe)===N.type)?(N=f(N,b.props),Gl(N,b),N.return=w,N):(N=Po(b.type,b.key,b.props,null,w.mode,q),Gl(N,b),N.return=w,N)}function R(w,N,b,q){return N===null||N.tag!==4||N.stateNode.containerInfo!==b.containerInfo||N.stateNode.implementation!==b.implementation?(N=Ms(b,w.mode,q),N.return=w,N):(N=f(N,b.children||[]),N.return=w,N)}function L(w,N,b,q,oe){return N===null||N.tag!==7?(N=ii(b,w.mode,q,oe),N.return=w,N):(N=f(N,b),N.return=w,N)}function H(w,N,b){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ns(""+N,w.mode,b),N.return=w,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return b=Po(N.type,N.key,N.props,null,w.mode,b),Gl(b,N),b.return=w,b;case G:return N=Ms(N,w.mode,b),N.return=w,N;case me:return N=ri(N),H(w,N,b)}if(ue(N)||se(N))return N=ii(N,w.mode,b,null),N.return=w,N;if(typeof N.then=="function")return H(w,Jo(N),b);if(N.$$typeof===z)return H(w,zo(w,N),b);Yo(w,N)}return null}function I(w,N,b,q){var oe=N!==null?N.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return oe!==null?null:_(w,N,""+b,q);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case A:return b.key===oe?C(w,N,b,q):null;case G:return b.key===oe?R(w,N,b,q):null;case me:return b=ri(b),I(w,N,b,q)}if(ue(b)||se(b))return oe!==null?null:L(w,N,b,q,null);if(typeof b.then=="function")return I(w,N,Jo(b),q);if(b.$$typeof===z)return I(w,N,zo(w,b),q);Yo(w,b)}return null}function U(w,N,b,q,oe){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return w=w.get(b)||null,_(N,w,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return w=w.get(q.key===null?b:q.key)||null,C(N,w,q,oe);case G:return w=w.get(q.key===null?b:q.key)||null,R(N,w,q,oe);case me:return q=ri(q),U(w,N,b,q,oe)}if(ue(q)||se(q))return w=w.get(b)||null,L(N,w,q,oe,null);if(typeof q.then=="function")return U(w,N,b,Jo(q),oe);if(q.$$typeof===z)return U(w,N,b,zo(N,q),oe);Yo(N,q)}return null}function j(w,N,b,q){for(var oe=null,Me=null,ne=N,pe=N=0,xe=null;ne!==null&&pe<b.length;pe++){ne.index>pe?(xe=ne,ne=null):xe=ne.sibling;var we=I(w,ne,b[pe],q);if(we===null){ne===null&&(ne=xe);break}e&&ne&&we.alternate===null&&n(w,ne),N=m(we,N,pe),Me===null?oe=we:Me.sibling=we,Me=we,ne=xe}if(pe===b.length)return l(w,ne),Ee&&on(w,pe),oe;if(ne===null){for(;pe<b.length;pe++)ne=H(w,b[pe],q),ne!==null&&(N=m(ne,N,pe),Me===null?oe=ne:Me.sibling=ne,Me=ne);return Ee&&on(w,pe),oe}for(ne=s(ne);pe<b.length;pe++)xe=U(ne,w,pe,b[pe],q),xe!==null&&(e&&xe.alternate!==null&&ne.delete(xe.key===null?pe:xe.key),N=m(xe,N,pe),Me===null?oe=xe:Me.sibling=xe,Me=xe);return e&&ne.forEach(function(Yn){return n(w,Yn)}),Ee&&on(w,pe),oe}function ae(w,N,b,q){if(b==null)throw Error(a(151));for(var oe=null,Me=null,ne=N,pe=N=0,xe=null,we=b.next();ne!==null&&!we.done;pe++,we=b.next()){ne.index>pe?(xe=ne,ne=null):xe=ne.sibling;var Yn=I(w,ne,we.value,q);if(Yn===null){ne===null&&(ne=xe);break}e&&ne&&Yn.alternate===null&&n(w,ne),N=m(Yn,N,pe),Me===null?oe=Yn:Me.sibling=Yn,Me=Yn,ne=xe}if(we.done)return l(w,ne),Ee&&on(w,pe),oe;if(ne===null){for(;!we.done;pe++,we=b.next())we=H(w,we.value,q),we!==null&&(N=m(we,N,pe),Me===null?oe=we:Me.sibling=we,Me=we);return Ee&&on(w,pe),oe}for(ne=s(ne);!we.done;pe++,we=b.next())we=U(ne,w,pe,we.value,q),we!==null&&(e&&we.alternate!==null&&ne.delete(we.key===null?pe:we.key),N=m(we,N,pe),Me===null?oe=we:Me.sibling=we,Me=we);return e&&ne.forEach(function(P0){return n(w,P0)}),Ee&&on(w,pe),oe}function Le(w,N,b,q){if(typeof b=="object"&&b!==null&&b.type===P&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case A:e:{for(var oe=b.key;N!==null;){if(N.key===oe){if(oe=b.type,oe===P){if(N.tag===7){l(w,N.sibling),q=f(N,b.props.children),q.return=w,w=q;break e}}else if(N.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===me&&ri(oe)===N.type){l(w,N.sibling),q=f(N,b.props),Gl(q,b),q.return=w,w=q;break e}l(w,N);break}else n(w,N);N=N.sibling}b.type===P?(q=ii(b.props.children,w.mode,q,b.key),q.return=w,w=q):(q=Po(b.type,b.key,b.props,null,w.mode,q),Gl(q,b),q.return=w,w=q)}return S(w);case G:e:{for(oe=b.key;N!==null;){if(N.key===oe)if(N.tag===4&&N.stateNode.containerInfo===b.containerInfo&&N.stateNode.implementation===b.implementation){l(w,N.sibling),q=f(N,b.children||[]),q.return=w,w=q;break e}else{l(w,N);break}else n(w,N);N=N.sibling}q=Ms(b,w.mode,q),q.return=w,w=q}return S(w);case me:return b=ri(b),Le(w,N,b,q)}if(ue(b))return j(w,N,b,q);if(se(b)){if(oe=se(b),typeof oe!="function")throw Error(a(150));return b=oe.call(b),ae(w,N,b,q)}if(typeof b.then=="function")return Le(w,N,Jo(b),q);if(b.$$typeof===z)return Le(w,N,zo(w,b),q);Yo(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,N!==null&&N.tag===6?(l(w,N.sibling),q=f(N,b),q.return=w,w=q):(l(w,N),q=Ns(b,w.mode,q),q.return=w,w=q),S(w)):l(w,N)}return function(w,N,b,q){try{Ll=0;var oe=Le(w,N,b,q);return zi=null,oe}catch(ne){if(ne===Vi||ne===Oo)throw ne;var Me=Ct(29,ne,null,w.mode);return Me.lanes=q,Me.return=w,Me}finally{}}}var ci=$c(!0),Wc=$c(!1),bn=!1;function Hs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function In(e,n,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Re&2)!==0){var f=s.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),s.pending=n,n=qo(e),Lc(e,null,l),n}return Go(e,s,n,l),qo(e)}function ql(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,Ou(e,l)}}function zs(e,n){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var f=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?f=m=S:m=m.next=S,l=l.next}while(l!==null);m===null?f=m=n:m=m.next=n}else f=m=n;l={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Bs=!1;function Pl(){if(Bs){var e=Hi;if(e!==null)throw e}}function Hl(e,n,l,s){Bs=!1;var f=e.updateQueue;bn=!1;var m=f.firstBaseUpdate,S=f.lastBaseUpdate,_=f.shared.pending;if(_!==null){f.shared.pending=null;var C=_,R=C.next;C.next=null,S===null?m=R:S.next=R,S=C;var L=e.alternate;L!==null&&(L=L.updateQueue,_=L.lastBaseUpdate,_!==S&&(_===null?L.firstBaseUpdate=R:_.next=R,L.lastBaseUpdate=C))}if(m!==null){var H=f.baseState;S=0,L=R=C=null,_=m;do{var I=_.lane&-536870913,U=I!==_.lane;if(U?(Te&I)===I:(s&I)===I){I!==0&&I===Pi&&(Bs=!0),L!==null&&(L=L.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var j=e,ae=_;I=n;var Le=l;switch(ae.tag){case 1:if(j=ae.payload,typeof j=="function"){H=j.call(Le,H,I);break e}H=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=ae.payload,I=typeof j=="function"?j.call(Le,H,I):j,I==null)break e;H=x({},H,I);break e;case 2:bn=!0}}I=_.callback,I!==null&&(e.flags|=64,U&&(e.flags|=8192),U=f.callbacks,U===null?f.callbacks=[I]:U.push(I))}else U={lane:I,tag:_.tag,payload:_.payload,callback:_.callback,next:null},L===null?(R=L=U,C=H):L=L.next=U,S|=I;if(_=_.next,_===null){if(_=f.shared.pending,_===null)break;U=_,_=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);L===null&&(C=H),f.baseState=C,f.firstBaseUpdate=R,f.lastBaseUpdate=L,m===null&&(f.shared.lanes=0),Gn|=S,e.lanes=S,e.memoizedState=H}}function jc(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function ef(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)jc(l[e],n)}var Bi=M(null),Ko=M(0);function tf(e,n){e=gn,Q(Ko,e),Q(Bi,n),gn=e|n.baseLanes}function Os(){Q(Ko,gn),Q(Bi,Bi.current)}function Fs(){gn=Ko.current,V(Bi),V(Ko)}var At=M(null),Pt=null;function Dn(e){var n=e.alternate;Q(Ye,Ye.current&1),Q(At,e),Pt===null&&(n===null||Bi.current!==null||n.memoizedState!==null)&&(Pt=e)}function Js(e){Q(Ye,Ye.current),Q(At,e),Pt===null&&(Pt=e)}function nf(e){e.tag===22?(Q(Ye,Ye.current),Q(At,e),Pt===null&&(Pt=e)):Un()}function Un(){Q(Ye,Ye.current),Q(At,At.current)}function Nt(e){V(At),Pt===e&&(Pt=null),V(Ye)}var Ye=M(0);function Qo(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||$r(l)||Wr(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rn=0,de=null,Ue=null,Xe=null,Xo=!1,Oi=!1,fi=!1,Zo=0,Vl=0,Fi=null,wy=0;function Fe(){throw Error(a(321))}function Ys(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!_t(e[l],n[l]))return!1;return!0}function Ks(e,n,l,s,f,m){return rn=m,de=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,D.H=e===null||e.memoizedState===null?Vf:rr,fi=!1,m=l(s,f),fi=!1,Oi&&(m=of(n,l,s,f)),lf(e),m}function lf(e){D.H=Ol;var n=Ue!==null&&Ue.next!==null;if(rn=0,Xe=Ue=de=null,Xo=!1,Vl=0,Fi=null,n)throw Error(a(300));e===null||Ze||(e=e.dependencies,e!==null&&Vo(e)&&(Ze=!0))}function of(e,n,l,s){de=e;var f=0;do{if(Oi&&(Fi=null),Vl=0,Oi=!1,25<=f)throw Error(a(301));if(f+=1,Xe=Ue=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}D.H=zf,m=n(l,s)}while(Oi);return m}function by(){var e=D.H,n=e.useState()[0];return n=typeof n.then=="function"?zl(n):n,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(de.flags|=1024),n}function Qs(){var e=Zo!==0;return Zo=0,e}function Xs(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function Zs(e){if(Xo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Xo=!1}rn=0,Xe=Ue=de=null,Oi=!1,Vl=Zo=0,Fi=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?de.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ke(){if(Ue===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var n=Xe===null?de.memoizedState:Xe.next;if(n!==null)Xe=n,Ue=e;else{if(e===null)throw de.alternate===null?Error(a(467)):Error(a(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Xe===null?de.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function $o(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zl(e){var n=Vl;return Vl+=1,Fi===null&&(Fi=[]),e=Qc(Fi,e,n),n=de,(Xe===null?n.memoizedState:Xe.next)===null&&(n=n.alternate,D.H=n===null||n.memoizedState===null?Vf:rr),e}function Wo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zl(e);if(e.$$typeof===z)return st(e)}throw Error(a(438,String(e)))}function $s(e){var n=null,l=de.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var s=de.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=$o(),de.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),s=0;s<e;s++)l[s]=le;return n.index++,l}function un(e,n){return typeof n=="function"?n(e):n}function jo(e){var n=Ke();return Ws(n,Ue,e)}function Ws(e,n,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var f=e.baseQueue,m=s.pending;if(m!==null){if(f!==null){var S=f.next;f.next=m.next,m.next=S}n.baseQueue=f=m,s.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{n=f.next;var _=S=null,C=null,R=n,L=!1;do{var H=R.lane&-536870913;if(H!==R.lane?(Te&H)===H:(rn&H)===H){var I=R.revertLane;if(I===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),H===Pi&&(L=!0);else if((rn&I)===I){R=R.next,I===Pi&&(L=!0);continue}else H={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},C===null?(_=C=H,S=m):C=C.next=H,de.lanes|=I,Gn|=I;H=R.action,fi&&l(m,H),m=R.hasEagerState?R.eagerState:l(m,H)}else I={lane:H,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},C===null?(_=C=I,S=m):C=C.next=I,de.lanes|=H,Gn|=H;R=R.next}while(R!==null&&R!==n);if(C===null?S=m:C.next=_,!_t(m,e.memoizedState)&&(Ze=!0,L&&(l=Hi,l!==null)))throw l;e.memoizedState=m,e.baseState=S,e.baseQueue=C,s.lastRenderedState=m}return f===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function js(e){var n=Ke(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,f=l.pending,m=n.memoizedState;if(f!==null){l.pending=null;var S=f=f.next;do m=e(m,S.action),S=S.next;while(S!==f);_t(m,n.memoizedState)||(Ze=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,s]}function af(e,n,l){var s=de,f=Ke(),m=Ee;if(m){if(l===void 0)throw Error(a(407));l=l()}else l=n();var S=!_t((Ue||f).memoizedState,l);if(S&&(f.memoizedState=l,Ze=!0),f=f.queue,nr(uf.bind(null,s,f,e),[e]),f.getSnapshot!==n||S||Xe!==null&&Xe.memoizedState.tag&1){if(s.flags|=2048,Ji(9,{destroy:void 0},rf.bind(null,s,f,l,n),null),Ge===null)throw Error(a(349));m||(rn&127)!==0||sf(s,n,l)}return l}function sf(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=de.updateQueue,n===null?(n=$o(),de.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function rf(e,n,l,s){n.value=l,n.getSnapshot=s,cf(n)&&ff(e)}function uf(e,n,l){return l(function(){cf(n)&&ff(e)})}function cf(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!_t(e,l)}catch{return!0}}function ff(e){var n=ni(e,2);n!==null&&Tt(n,e,2)}function er(e){var n=dt();if(typeof e=="function"){var l=e;if(e=l(),fi){En(!0);try{l()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:e},n}function df(e,n,l,s){return e.baseState=l,Ws(e,Ue,typeof s=="function"?s:un)}function Ry(e,n,l,s,f){if(na(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};D.T!==null?l(!0):m.isTransition=!1,s(m),l=n.pending,l===null?(m.next=n.pending=m,mf(n,m)):(m.next=l.next,n.pending=l.next=m)}}function mf(e,n){var l=n.action,s=n.payload,f=e.state;if(n.isTransition){var m=D.T,S={};D.T=S;try{var _=l(f,s),C=D.S;C!==null&&C(S,_),pf(e,n,_)}catch(R){tr(e,n,R)}finally{m!==null&&S.types!==null&&(m.types=S.types),D.T=m}}else try{m=l(f,s),pf(e,n,m)}catch(R){tr(e,n,R)}}function pf(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){hf(e,n,s)},function(s){return tr(e,n,s)}):hf(e,n,l)}function hf(e,n,l){n.status="fulfilled",n.value=l,gf(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,mf(e,l)))}function tr(e,n,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=l,gf(n),n=n.next;while(n!==s)}e.action=null}function gf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function yf(e,n){return n}function vf(e,n){if(Ee){var l=Ge.formState;if(l!==null){e:{var s=de;if(Ee){if(Pe){t:{for(var f=Pe,m=qt;f.nodeType!==8;){if(!m){f=null;break t}if(f=Ht(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Pe=Ht(f.nextSibling),s=f.data==="F!";break e}}Mn(s)}s=!1}s&&(n=l[0])}}return l=dt(),l.memoizedState=l.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yf,lastRenderedState:n},l.queue=s,l=qf.bind(null,de,s),s.dispatch=l,s=er(!1),m=sr.bind(null,de,!1,s.queue),s=dt(),f={state:n,dispatch:null,action:e,pending:null},s.queue=f,l=Ry.bind(null,de,f,m,l),f.dispatch=l,s.memoizedState=e,[n,l,!1]}function Sf(e){var n=Ke();return Tf(n,Ue,e)}function Tf(e,n,l){if(n=Ws(e,n,yf)[0],e=jo(un)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=zl(n)}catch(S){throw S===Vi?Oo:S}else s=n;n=Ke();var f=n.queue,m=f.dispatch;return l!==n.memoizedState&&(de.flags|=2048,Ji(9,{destroy:void 0},Iy.bind(null,f,l),null)),[s,m,e]}function Iy(e,n){e.action=n}function xf(e){var n=Ke(),l=Ue;if(l!==null)return Tf(n,l,e);Ke(),n=n.memoizedState,l=Ke();var s=l.queue.dispatch;return l.memoizedState=e,[n,s,!1]}function Ji(e,n,l,s){return e={tag:e,create:l,deps:s,inst:n,next:null},n=de.updateQueue,n===null&&(n=$o(),de.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,n.lastEffect=e),e}function Ef(){return Ke().memoizedState}function ea(e,n,l,s){var f=dt();de.flags|=e,f.memoizedState=Ji(1|n,{destroy:void 0},l,s===void 0?null:s)}function ta(e,n,l,s){var f=Ke();s=s===void 0?null:s;var m=f.memoizedState.inst;Ue!==null&&s!==null&&Ys(s,Ue.memoizedState.deps)?f.memoizedState=Ji(n,m,l,s):(de.flags|=e,f.memoizedState=Ji(1|n,m,l,s))}function _f(e,n){ea(8390656,8,e,n)}function nr(e,n){ta(2048,8,e,n)}function Dy(e){de.flags|=4;var n=de.updateQueue;if(n===null)n=$o(),de.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function Cf(e){var n=Ke().memoizedState;return Dy({ref:n,nextImpl:e}),function(){if((Re&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Af(e,n){return ta(4,2,e,n)}function Nf(e,n){return ta(4,4,e,n)}function Mf(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function wf(e,n,l){l=l!=null?l.concat([e]):null,ta(4,4,Mf.bind(null,n,e),l)}function ir(){}function bf(e,n){var l=Ke();n=n===void 0?null:n;var s=l.memoizedState;return n!==null&&Ys(n,s[1])?s[0]:(l.memoizedState=[e,n],e)}function Rf(e,n){var l=Ke();n=n===void 0?null:n;var s=l.memoizedState;if(n!==null&&Ys(n,s[1]))return s[0];if(s=e(),fi){En(!0);try{e()}finally{En(!1)}}return l.memoizedState=[s,n],s}function lr(e,n,l){return l===void 0||(rn&1073741824)!==0&&(Te&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=Id(),de.lanes|=e,Gn|=e,l)}function If(e,n,l,s){return _t(l,n)?l:Bi.current!==null?(e=lr(e,l,s),_t(e,n)||(Ze=!0),e):(rn&42)===0||(rn&1073741824)!==0&&(Te&261930)===0?(Ze=!0,e.memoizedState=l):(e=Id(),de.lanes|=e,Gn|=e,n)}function Df(e,n,l,s,f){var m=k.p;k.p=m!==0&&8>m?m:8;var S=D.T,_={};D.T=_,sr(e,!1,n,l);try{var C=f(),R=D.S;if(R!==null&&R(_,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var L=My(C,s);Bl(e,n,L,bt(e))}else Bl(e,n,s,bt(e))}catch(H){Bl(e,n,{then:function(){},status:"rejected",reason:H},bt())}finally{k.p=m,S!==null&&_.types!==null&&(S.types=_.types),D.T=S}}function Uy(){}function or(e,n,l,s){if(e.tag!==5)throw Error(a(476));var f=Uf(e).queue;Df(e,f,n,ee,l===null?Uy:function(){return kf(e),l(s)})}function Uf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:ee},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function kf(e){var n=Uf(e);n.next===null&&(n=e.alternate.memoizedState),Bl(e,n.next.queue,{},bt())}function ar(){return st(oo)}function Lf(){return Ke().memoizedState}function Gf(){return Ke().memoizedState}function ky(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=bt();e=Rn(l);var s=In(n,e,l);s!==null&&(Tt(s,n,l),ql(s,n,l)),n={cache:Ls()},e.payload=n;return}n=n.return}}function Ly(e,n,l){var s=bt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},na(e)?Pf(n,l):(l=Cs(e,n,l,s),l!==null&&(Tt(l,e,s),Hf(l,n,s)))}function qf(e,n,l){var s=bt();Bl(e,n,l,s)}function Bl(e,n,l,s){var f={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(na(e))Pf(n,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var S=n.lastRenderedState,_=m(S,l);if(f.hasEagerState=!0,f.eagerState=_,_t(_,S))return Go(e,n,f,0),Ge===null&&Lo(),!1}catch{}finally{}if(l=Cs(e,n,f,s),l!==null)return Tt(l,e,s),Hf(l,n,s),!0}return!1}function sr(e,n,l,s){if(s={lane:2,revertLane:Hr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},na(e)){if(n)throw Error(a(479))}else n=Cs(e,l,s,2),n!==null&&Tt(n,e,2)}function na(e){var n=e.alternate;return e===de||n!==null&&n===de}function Pf(e,n){Oi=Xo=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Hf(e,n,l){if((l&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,Ou(e,l)}}var Ol={readContext:st,use:Wo,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};Ol.useEffectEvent=Fe;var Vf={readContext:st,use:Wo,useCallback:function(e,n){return dt().memoizedState=[e,n===void 0?null:n],e},useContext:st,useEffect:_f,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,ea(4194308,4,Mf.bind(null,n,e),l)},useLayoutEffect:function(e,n){return ea(4194308,4,e,n)},useInsertionEffect:function(e,n){ea(4,2,e,n)},useMemo:function(e,n){var l=dt();n=n===void 0?null:n;var s=e();if(fi){En(!0);try{e()}finally{En(!1)}}return l.memoizedState=[s,n],s},useReducer:function(e,n,l){var s=dt();if(l!==void 0){var f=l(n);if(fi){En(!0);try{l(n)}finally{En(!1)}}}else f=n;return s.memoizedState=s.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},s.queue=e,e=e.dispatch=Ly.bind(null,de,e),[s.memoizedState,e]},useRef:function(e){var n=dt();return e={current:e},n.memoizedState=e},useState:function(e){e=er(e);var n=e.queue,l=qf.bind(null,de,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:ir,useDeferredValue:function(e,n){var l=dt();return lr(l,e,n)},useTransition:function(){var e=er(!1);return e=Df.bind(null,de,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var s=de,f=dt();if(Ee){if(l===void 0)throw Error(a(407));l=l()}else{if(l=n(),Ge===null)throw Error(a(349));(Te&127)!==0||sf(s,n,l)}f.memoizedState=l;var m={value:l,getSnapshot:n};return f.queue=m,_f(uf.bind(null,s,m,e),[e]),s.flags|=2048,Ji(9,{destroy:void 0},rf.bind(null,s,m,l,n),null),l},useId:function(){var e=dt(),n=Ge.identifierPrefix;if(Ee){var l=Qt,s=Kt;l=(s&~(1<<32-Et(s)-1)).toString(32)+l,n="_"+n+"R_"+l,l=Zo++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=wy++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ar,useFormState:vf,useActionState:vf,useOptimistic:function(e){var n=dt();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=sr.bind(null,de,!0,l),l.dispatch=n,[e,n]},useMemoCache:$s,useCacheRefresh:function(){return dt().memoizedState=ky.bind(null,de)},useEffectEvent:function(e){var n=dt(),l={impl:e};return n.memoizedState=l,function(){if((Re&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},rr={readContext:st,use:Wo,useCallback:bf,useContext:st,useEffect:nr,useImperativeHandle:wf,useInsertionEffect:Af,useLayoutEffect:Nf,useMemo:Rf,useReducer:jo,useRef:Ef,useState:function(){return jo(un)},useDebugValue:ir,useDeferredValue:function(e,n){var l=Ke();return If(l,Ue.memoizedState,e,n)},useTransition:function(){var e=jo(un)[0],n=Ke().memoizedState;return[typeof e=="boolean"?e:zl(e),n]},useSyncExternalStore:af,useId:Lf,useHostTransitionStatus:ar,useFormState:Sf,useActionState:Sf,useOptimistic:function(e,n){var l=Ke();return df(l,Ue,e,n)},useMemoCache:$s,useCacheRefresh:Gf};rr.useEffectEvent=Cf;var zf={readContext:st,use:Wo,useCallback:bf,useContext:st,useEffect:nr,useImperativeHandle:wf,useInsertionEffect:Af,useLayoutEffect:Nf,useMemo:Rf,useReducer:js,useRef:Ef,useState:function(){return js(un)},useDebugValue:ir,useDeferredValue:function(e,n){var l=Ke();return Ue===null?lr(l,e,n):If(l,Ue.memoizedState,e,n)},useTransition:function(){var e=js(un)[0],n=Ke().memoizedState;return[typeof e=="boolean"?e:zl(e),n]},useSyncExternalStore:af,useId:Lf,useHostTransitionStatus:ar,useFormState:xf,useActionState:xf,useOptimistic:function(e,n){var l=Ke();return Ue!==null?df(l,Ue,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:$s,useCacheRefresh:Gf};zf.useEffectEvent=Cf;function ur(e,n,l,s){n=e.memoizedState,l=l(s,n),l=l==null?n:x({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var cr={enqueueSetState:function(e,n,l){e=e._reactInternals;var s=bt(),f=Rn(s);f.payload=n,l!=null&&(f.callback=l),n=In(e,f,s),n!==null&&(Tt(n,e,s),ql(n,e,s))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var s=bt(),f=Rn(s);f.tag=1,f.payload=n,l!=null&&(f.callback=l),n=In(e,f,s),n!==null&&(Tt(n,e,s),ql(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=bt(),s=Rn(l);s.tag=2,n!=null&&(s.callback=n),n=In(e,s,l),n!==null&&(Tt(n,e,l),ql(n,e,l))}};function Bf(e,n,l,s,f,m,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,S):n.prototype&&n.prototype.isPureReactComponent?!bl(l,s)||!bl(f,m):!0}function Of(e,n,l,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,s),n.state!==e&&cr.enqueueReplaceState(n,n.state,null)}function di(e,n){var l=n;if("ref"in n){l={};for(var s in n)s!=="ref"&&(l[s]=n[s])}if(e=e.defaultProps){l===n&&(l=x({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}function Ff(e){ko(e)}function Jf(e){console.error(e)}function Yf(e){ko(e)}function ia(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Kf(e,n,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function fr(e,n,l){return l=Rn(l),l.tag=3,l.payload={element:null},l.callback=function(){ia(e,n)},l}function Qf(e){return e=Rn(e),e.tag=3,e}function Xf(e,n,l,s){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var m=s.value;e.payload=function(){return f(m)},e.callback=function(){Kf(n,l,s)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Kf(n,l,s),typeof f!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function Gy(e,n,l,s,f){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=l.alternate,n!==null&&qi(n,l,f,!0),l=At.current,l!==null){switch(l.tag){case 31:case 13:return Pt===null?ha():l.alternate===null&&Je===0&&(Je=3),l.flags&=-257,l.flags|=65536,l.lanes=f,s===Fo?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([s]):n.add(s),Gr(e,s,f)),!1;case 22:return l.flags|=65536,s===Fo?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([s]):l.add(s)),Gr(e,s,f)),!1}throw Error(a(435,l.tag))}return Gr(e,s,f),ha(),!1}if(Ee)return n=At.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,s!==Rs&&(e=Error(a(422),{cause:s}),Dl(kt(e,l)))):(s!==Rs&&(n=Error(a(423),{cause:s}),Dl(kt(n,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,s=kt(s,l),f=fr(e.stateNode,s,f),zs(e,f),Je!==4&&(Je=2)),!1;var m=Error(a(520),{cause:s});if(m=kt(m,l),$l===null?$l=[m]:$l.push(m),Je!==4&&(Je=2),n===null)return!0;s=kt(s,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=fr(l.stateNode,s,e),zs(l,e),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(qn===null||!qn.has(m))))return l.flags|=65536,f&=-f,l.lanes|=f,f=Qf(f),Xf(f,e,l,s),zs(l,f),!1}l=l.return}while(l!==null);return!1}var dr=Error(a(461)),Ze=!1;function rt(e,n,l,s){n.child=e===null?Wc(n,null,l,s):ci(n,e.child,l,s)}function Zf(e,n,l,s,f){l=l.render;var m=n.ref;if("ref"in s){var S={};for(var _ in s)_!=="ref"&&(S[_]=s[_])}else S=s;return ai(n),s=Ks(e,n,l,S,m,f),_=Qs(),e!==null&&!Ze?(Xs(e,n,f),cn(e,n,f)):(Ee&&_&&ws(n),n.flags|=1,rt(e,n,s,f),n.child)}function $f(e,n,l,s,f){if(e===null){var m=l.type;return typeof m=="function"&&!As(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,Wf(e,n,m,s,f)):(e=Po(l.type,null,s,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Tr(e,f)){var S=m.memoizedProps;if(l=l.compare,l=l!==null?l:bl,l(S,s)&&e.ref===n.ref)return cn(e,n,f)}return n.flags|=1,e=ln(m,s),e.ref=n.ref,e.return=n,n.child=e}function Wf(e,n,l,s,f){if(e!==null){var m=e.memoizedProps;if(bl(m,s)&&e.ref===n.ref)if(Ze=!1,n.pendingProps=s=m,Tr(e,f))(e.flags&131072)!==0&&(Ze=!0);else return n.lanes=e.lanes,cn(e,n,f)}return mr(e,n,l,s,f)}function jf(e,n,l,s){var f=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(s=n.child=e.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;s=f&~m}else s=0,n.child=null;return ed(e,n,m,l,s)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bo(n,m!==null?m.cachePool:null),m!==null?tf(n,m):Os(),nf(n);else return s=n.lanes=536870912,ed(e,n,m!==null?m.baseLanes|l:l,l,s)}else m!==null?(Bo(n,m.cachePool),tf(n,m),Un(),n.memoizedState=null):(e!==null&&Bo(n,null),Os(),Un());return rt(e,n,f,l),n.child}function Fl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ed(e,n,l,s,f){var m=qs();return m=m===null?null:{parent:Qe._currentValue,pool:m},n.memoizedState={baseLanes:l,cachePool:m},e!==null&&Bo(n,null),Os(),nf(n),e!==null&&qi(e,n,s,!0),n.childLanes=f,null}function la(e,n){return n=aa({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function td(e,n,l){return ci(n,e.child,null,l),e=la(n,n.pendingProps),e.flags|=2,Nt(n),n.memoizedState=null,e}function qy(e,n,l){var s=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ee){if(s.mode==="hidden")return e=la(n,s),n.lanes=536870912,Fl(null,e);if(Js(n),(e=Pe)?(e=mm(e,qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:An!==null?{id:Kt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},l=qc(e),l.return=n,n.child=l,at=n,Pe=null)):e=null,e===null)throw Mn(n);return n.lanes=536870912,null}return la(n,s)}var m=e.memoizedState;if(m!==null){var S=m.dehydrated;if(Js(n),f)if(n.flags&256)n.flags&=-257,n=td(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ze||qi(e,n,l,!1),f=(l&e.childLanes)!==0,Ze||f){if(s=Ge,s!==null&&(S=Fu(s,l),S!==0&&S!==m.retryLane))throw m.retryLane=S,ni(e,S),Tt(s,e,S),dr;ha(),n=td(e,n,l)}else e=m.treeContext,Pe=Ht(S.nextSibling),at=n,Ee=!0,Nn=null,qt=!1,e!==null&&Vc(n,e),n=la(n,s),n.flags|=4096;return n}return e=ln(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function oa(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function mr(e,n,l,s,f){return ai(n),l=Ks(e,n,l,s,void 0,f),s=Qs(),e!==null&&!Ze?(Xs(e,n,f),cn(e,n,f)):(Ee&&s&&ws(n),n.flags|=1,rt(e,n,l,f),n.child)}function nd(e,n,l,s,f,m){return ai(n),n.updateQueue=null,l=of(n,s,l,f),lf(e),s=Qs(),e!==null&&!Ze?(Xs(e,n,m),cn(e,n,m)):(Ee&&s&&ws(n),n.flags|=1,rt(e,n,l,m),n.child)}function id(e,n,l,s,f){if(ai(n),n.stateNode===null){var m=Ui,S=l.contextType;typeof S=="object"&&S!==null&&(m=st(S)),m=new l(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=cr,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},Hs(n),S=l.contextType,m.context=typeof S=="object"&&S!==null?st(S):Ui,m.state=n.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(ur(n,l,S,s),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&cr.enqueueReplaceState(m,m.state,null),Hl(n,s,m,f),Pl(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var _=n.memoizedProps,C=di(l,_);m.props=C;var R=m.context,L=l.contextType;S=Ui,typeof L=="object"&&L!==null&&(S=st(L));var H=l.getDerivedStateFromProps;L=typeof H=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,L||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||R!==S)&&Of(n,m,s,S),bn=!1;var I=n.memoizedState;m.state=I,Hl(n,s,m,f),Pl(),R=n.memoizedState,_||I!==R||bn?(typeof H=="function"&&(ur(n,l,H,s),R=n.memoizedState),(C=bn||Bf(n,l,C,s,I,R,S))?(L||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=R),m.props=s,m.state=R,m.context=S,s=C):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,Vs(e,n),S=n.memoizedProps,L=di(l,S),m.props=L,H=n.pendingProps,I=m.context,R=l.contextType,C=Ui,typeof R=="object"&&R!==null&&(C=st(R)),_=l.getDerivedStateFromProps,(R=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==H||I!==C)&&Of(n,m,s,C),bn=!1,I=n.memoizedState,m.state=I,Hl(n,s,m,f),Pl();var U=n.memoizedState;S!==H||I!==U||bn||e!==null&&e.dependencies!==null&&Vo(e.dependencies)?(typeof _=="function"&&(ur(n,l,_,s),U=n.memoizedState),(L=bn||Bf(n,l,L,s,I,U,C)||e!==null&&e.dependencies!==null&&Vo(e.dependencies))?(R||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,U,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,U,C)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=U),m.props=s,m.state=U,m.context=C,s=L):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,oa(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=ci(n,e.child,null,f),n.child=ci(n,null,l,f)):rt(e,n,l,f),n.memoizedState=m.state,e=n.child):e=cn(e,n,f),e}function ld(e,n,l,s){return li(),n.flags|=256,rt(e,n,l,s),n.child}var pr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hr(e){return{baseLanes:e,cachePool:Yc()}}function gr(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=wt),e}function od(e,n,l){var s=n.pendingProps,f=!1,m=(n.flags&128)!==0,S;if((S=m)||(S=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),S&&(f=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ee){if(f?Dn(n):Un(),(e=Pe)?(e=mm(e,qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:An!==null?{id:Kt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},l=qc(e),l.return=n,n.child=l,at=n,Pe=null)):e=null,e===null)throw Mn(n);return Wr(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,f?(Un(),f=n.mode,_=aa({mode:"hidden",children:_},f),s=ii(s,f,l,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=hr(l),s.childLanes=gr(e,S,l),n.memoizedState=pr,Fl(null,s)):(Dn(n),yr(n,_))}var C=e.memoizedState;if(C!==null&&(_=C.dehydrated,_!==null)){if(m)n.flags&256?(Dn(n),n.flags&=-257,n=vr(e,n,l)):n.memoizedState!==null?(Un(),n.child=e.child,n.flags|=128,n=null):(Un(),_=s.fallback,f=n.mode,s=aa({mode:"visible",children:s.children},f),_=ii(_,f,l,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,ci(n,e.child,null,l),s=n.child,s.memoizedState=hr(l),s.childLanes=gr(e,S,l),n.memoizedState=pr,n=Fl(null,s));else if(Dn(n),Wr(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var R=S.dgst;S=R,s=Error(a(419)),s.stack="",s.digest=S,Dl({value:s,source:null,stack:null}),n=vr(e,n,l)}else if(Ze||qi(e,n,l,!1),S=(l&e.childLanes)!==0,Ze||S){if(S=Ge,S!==null&&(s=Fu(S,l),s!==0&&s!==C.retryLane))throw C.retryLane=s,ni(e,s),Tt(S,e,s),dr;$r(_)||ha(),n=vr(e,n,l)}else $r(_)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,Pe=Ht(_.nextSibling),at=n,Ee=!0,Nn=null,qt=!1,e!==null&&Vc(n,e),n=yr(n,s.children),n.flags|=4096);return n}return f?(Un(),_=s.fallback,f=n.mode,C=e.child,R=C.sibling,s=ln(C,{mode:"hidden",children:s.children}),s.subtreeFlags=C.subtreeFlags&65011712,R!==null?_=ln(R,_):(_=ii(_,f,l,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,Fl(null,s),s=n.child,_=e.child.memoizedState,_===null?_=hr(l):(f=_.cachePool,f!==null?(C=Qe._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=Yc(),_={baseLanes:_.baseLanes|l,cachePool:f}),s.memoizedState=_,s.childLanes=gr(e,S,l),n.memoizedState=pr,Fl(e.child,s)):(Dn(n),l=e.child,e=l.sibling,l=ln(l,{mode:"visible",children:s.children}),l.return=n,l.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=l,n.memoizedState=null,l)}function yr(e,n){return n=aa({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function aa(e,n){return e=Ct(22,e,null,n),e.lanes=0,e}function vr(e,n,l){return ci(n,e.child,null,l),e=yr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ad(e,n,l){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Us(e.return,n,l)}function Sr(e,n,l,s,f,m){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:f,treeForkCount:m}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=l,S.tailMode=f,S.treeForkCount=m)}function sd(e,n,l){var s=n.pendingProps,f=s.revealOrder,m=s.tail;s=s.children;var S=Ye.current,_=(S&2)!==0;if(_?(S=S&1|2,n.flags|=128):S&=1,Q(Ye,S),rt(e,n,s,l),s=Ee?Il:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ad(e,l,n);else if(e.tag===19)ad(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(l=n.child,f=null;l!==null;)e=l.alternate,e!==null&&Qo(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=n.child,n.child=null):(f=l.sibling,l.sibling=null),Sr(n,!1,f,l,m,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Qo(e)===null){n.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}Sr(n,!0,l,null,m,s);break;case"together":Sr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function cn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Gn|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(qi(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,l=ln(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=ln(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Tr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Vo(e)))}function Py(e,n,l){switch(n.tag){case 3:nt(n,n.stateNode.containerInfo),wn(n,Qe,e.memoizedState.cache),li();break;case 27:case 5:Xn(n);break;case 4:nt(n,n.stateNode.containerInfo);break;case 10:wn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Js(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Dn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?od(e,n,l):(Dn(n),e=cn(e,n,l),e!==null?e.sibling:null);Dn(n);break;case 19:var f=(e.flags&128)!==0;if(s=(l&n.childLanes)!==0,s||(qi(e,n,l,!1),s=(l&n.childLanes)!==0),f){if(s)return sd(e,n,l);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Q(Ye,Ye.current),s)break;return null;case 22:return n.lanes=0,jf(e,n,l,n.pendingProps);case 24:wn(n,Qe,e.memoizedState.cache)}return cn(e,n,l)}function rd(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ze=!0;else{if(!Tr(e,l)&&(n.flags&128)===0)return Ze=!1,Py(e,n,l);Ze=(e.flags&131072)!==0}else Ze=!1,Ee&&(n.flags&1048576)!==0&&Hc(n,Il,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=ri(n.elementType),n.type=e,typeof e=="function")As(e)?(s=di(e,s),n.tag=1,n=id(null,n,e,s,l)):(n.tag=0,n=mr(null,n,e,s,l));else{if(e!=null){var f=e.$$typeof;if(f===Z){n.tag=11,n=Zf(null,n,e,s,l);break e}else if(f===Y){n.tag=14,n=$f(null,n,e,s,l);break e}}throw n=Be(e)||e,Error(a(306,n,""))}}return n;case 0:return mr(e,n,n.type,n.pendingProps,l);case 1:return s=n.type,f=di(s,n.pendingProps),id(e,n,s,f,l);case 3:e:{if(nt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;f=m.element,Vs(e,n),Hl(n,s,null,l);var S=n.memoizedState;if(s=S.cache,wn(n,Qe,s),s!==m.cache&&ks(n,[Qe],l,!0),Pl(),s=S.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=ld(e,n,s,l);break e}else if(s!==f){f=kt(Error(a(424)),n),Dl(f),n=ld(e,n,s,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Pe=Ht(e.firstChild),at=n,Ee=!0,Nn=null,qt=!0,l=Wc(n,null,s,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(li(),s===f){n=cn(e,n,l);break e}rt(e,n,s,l)}n=n.child}return n;case 26:return oa(e,n),e===null?(l=Sm(n.type,null,n.pendingProps,null))?n.memoizedState=l:Ee||(l=n.type,e=n.pendingProps,s=Ea(he.current).createElement(l),s[ot]=n,s[pt]=e,ut(s,l,e),et(s),n.stateNode=s):n.memoizedState=Sm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Xn(n),e===null&&Ee&&(s=n.stateNode=gm(n.type,n.pendingProps,he.current),at=n,qt=!0,f=Pe,zn(n.type)?(jr=f,Pe=Ht(s.firstChild)):Pe=f),rt(e,n,n.pendingProps.children,l),oa(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ee&&((f=s=Pe)&&(s=p0(s,n.type,n.pendingProps,qt),s!==null?(n.stateNode=s,at=n,Pe=Ht(s.firstChild),qt=!1,f=!0):f=!1),f||Mn(n)),Xn(n),f=n.type,m=n.pendingProps,S=e!==null?e.memoizedProps:null,s=m.children,Qr(f,m)?s=null:S!==null&&Qr(f,S)&&(n.flags|=32),n.memoizedState!==null&&(f=Ks(e,n,by,null,null,l),oo._currentValue=f),oa(e,n),rt(e,n,s,l),n.child;case 6:return e===null&&Ee&&((e=l=Pe)&&(l=h0(l,n.pendingProps,qt),l!==null?(n.stateNode=l,at=n,Pe=null,e=!0):e=!1),e||Mn(n)),null;case 13:return od(e,n,l);case 4:return nt(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=ci(n,null,s,l):rt(e,n,s,l),n.child;case 11:return Zf(e,n,n.type,n.pendingProps,l);case 7:return rt(e,n,n.pendingProps,l),n.child;case 8:return rt(e,n,n.pendingProps.children,l),n.child;case 12:return rt(e,n,n.pendingProps.children,l),n.child;case 10:return s=n.pendingProps,wn(n,n.type,s.value),rt(e,n,s.children,l),n.child;case 9:return f=n.type._context,s=n.pendingProps.children,ai(n),f=st(f),s=s(f),n.flags|=1,rt(e,n,s,l),n.child;case 14:return $f(e,n,n.type,n.pendingProps,l);case 15:return Wf(e,n,n.type,n.pendingProps,l);case 19:return sd(e,n,l);case 31:return qy(e,n,l);case 22:return jf(e,n,l,n.pendingProps);case 24:return ai(n),s=st(Qe),e===null?(f=qs(),f===null&&(f=Ge,m=Ls(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=l),f=m),n.memoizedState={parent:s,cache:f},Hs(n),wn(n,Qe,f)):((e.lanes&l)!==0&&(Vs(e,n),Hl(n,null,null,l),Pl()),f=e.memoizedState,m=n.memoizedState,f.parent!==s?(f={parent:s,cache:s},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),wn(n,Qe,s)):(s=m.cache,wn(n,Qe,s),s!==f.cache&&ks(n,[Qe],l,!0))),rt(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function fn(e){e.flags|=4}function xr(e,n,l,s,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Ld())e.flags|=8192;else throw ui=Fo,Ps}else e.flags&=-16777217}function ud(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Cm(n))if(Ld())e.flags|=8192;else throw ui=Fo,Ps}function sa(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?zu():536870912,e.lanes|=n,Xi|=n)}function Jl(e,n){if(!Ee)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function He(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(n)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,s|=f.subtreeFlags&65011712,s|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=s,e.childLanes=l,n}function Hy(e,n,l){var s=n.pendingProps;switch(bs(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(n),null;case 1:return He(n),null;case 3:return l=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),sn(Qe),Oe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Gi(n)?fn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Is())),He(n),null;case 26:var f=n.type,m=n.memoizedState;return e===null?(fn(n),m!==null?(He(n),ud(n,m)):(He(n),xr(n,f,null,s,l))):m?m!==e.memoizedState?(fn(n),He(n),ud(n,m)):(He(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&fn(n),He(n),xr(n,f,e,s,l)),null;case 27:if(vi(n),l=he.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&fn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return He(n),null}e=$.current,Gi(n)?zc(n):(e=gm(f,s,l),n.stateNode=e,fn(n))}return He(n),null;case 5:if(vi(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&fn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return He(n),null}if(m=$.current,Gi(n))zc(n);else{var S=Ea(he.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?S.createElement(f,{is:s.is}):S.createElement(f)}}m[ot]=n,m[pt]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=m;e:switch(ut(m,f,s),f){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&fn(n)}}return He(n),xr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&fn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=he.current,Gi(n)){if(e=n.stateNode,l=n.memoizedProps,s=null,f=at,f!==null)switch(f.tag){case 27:case 5:s=f.memoizedProps}e[ot]=n,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||om(e.nodeValue,l)),e||Mn(n,!0)}else e=Ea(e).createTextNode(s),e[ot]=n,n.stateNode=e}return He(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(s=Gi(n),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ot]=n}else li(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;He(n),e=!1}else l=Is(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(Nt(n),n):(Nt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return He(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Gi(n),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ot]=n}else li(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;He(n),f=!1}else f=Is(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Nt(n),n):(Nt(n),null)}return Nt(n),(n.flags&128)!==0?(n.lanes=l,n):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=n.child,f=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(f=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==f&&(s.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),sa(n,n.updateQueue),He(n),null);case 4:return Oe(),e===null&&Or(n.stateNode.containerInfo),He(n),null;case 10:return sn(n.type),He(n),null;case 19:if(V(Ye),s=n.memoizedState,s===null)return He(n),null;if(f=(n.flags&128)!==0,m=s.rendering,m===null)if(f)Jl(s,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=Qo(e),m!==null){for(n.flags|=128,Jl(s,!1),e=m.updateQueue,n.updateQueue=e,sa(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Gc(l,e),l=l.sibling;return Q(Ye,Ye.current&1|2),Ee&&on(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&lt()>da&&(n.flags|=128,f=!0,Jl(s,!1),n.lanes=4194304)}else{if(!f)if(e=Qo(m),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,sa(n,e),Jl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!Ee)return He(n),null}else 2*lt()-s.renderingStartTime>da&&l!==536870912&&(n.flags|=128,f=!0,Jl(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=lt(),e.sibling=null,l=Ye.current,Q(Ye,f?l&1|2:l&1),Ee&&on(n,s.treeForkCount),e):(He(n),null);case 22:case 23:return Nt(n),Fs(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(l&536870912)!==0&&(n.flags&128)===0&&(He(n),n.subtreeFlags&6&&(n.flags|=8192)):He(n),l=n.updateQueue,l!==null&&sa(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(n.flags|=2048),e!==null&&V(si),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),sn(Qe),He(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Vy(e,n){switch(bs(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return sn(Qe),Oe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return vi(n),null;case 31:if(n.memoizedState!==null){if(Nt(n),n.alternate===null)throw Error(a(340));li()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Nt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));li()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return V(Ye),null;case 4:return Oe(),null;case 10:return sn(n.type),null;case 22:case 23:return Nt(n),Fs(),e!==null&&V(si),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return sn(Qe),null;case 25:return null;default:return null}}function cd(e,n){switch(bs(n),n.tag){case 3:sn(Qe),Oe();break;case 26:case 27:case 5:vi(n);break;case 4:Oe();break;case 31:n.memoizedState!==null&&Nt(n);break;case 13:Nt(n);break;case 19:V(Ye);break;case 10:sn(n.type);break;case 22:case 23:Nt(n),Fs(),e!==null&&V(si);break;case 24:sn(Qe)}}function Yl(e,n){try{var l=n.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var f=s.next;l=f;do{if((l.tag&e)===e){s=void 0;var m=l.create,S=l.inst;s=m(),S.destroy=s}l=l.next}while(l!==f)}}catch(_){De(n,n.return,_)}}function kn(e,n,l){try{var s=n.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var m=f.next;s=m;do{if((s.tag&e)===e){var S=s.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,f=n;var C=l,R=_;try{R()}catch(L){De(f,C,L)}}}s=s.next}while(s!==m)}}catch(L){De(n,n.return,L)}}function fd(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{ef(n,l)}catch(s){De(e,e.return,s)}}}function dd(e,n,l){l.props=di(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){De(e,n,s)}}function Kl(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(f){De(e,n,f)}}function Xt(e,n){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(f){De(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){De(e,n,f)}else l.current=null}function md(e){var n=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(f){De(e,e.return,f)}}function Er(e,n,l){try{var s=e.stateNode;r0(s,e.type,l,n),s[pt]=n}catch(f){De(e,e.return,f)}}function pd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zn(e.type)||e.tag===4}function _r(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cr(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=tn));else if(s!==4&&(s===27&&zn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Cr(e,n,l),e=e.sibling;e!==null;)Cr(e,n,l),e=e.sibling}function ra(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(s!==4&&(s===27&&zn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(ra(e,n,l),e=e.sibling;e!==null;)ra(e,n,l),e=e.sibling}function hd(e){var n=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);ut(n,s,l),n[ot]=e,n[pt]=l}catch(m){De(e,e.return,m)}}var dn=!1,$e=!1,Ar=!1,gd=typeof WeakSet=="function"?WeakSet:Set,tt=null;function zy(e,n){if(e=e.containerInfo,Yr=ba,e=Mc(e),vs(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var f=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var S=0,_=-1,C=-1,R=0,L=0,H=e,I=null;t:for(;;){for(var U;H!==l||f!==0&&H.nodeType!==3||(_=S+f),H!==m||s!==0&&H.nodeType!==3||(C=S+s),H.nodeType===3&&(S+=H.nodeValue.length),(U=H.firstChild)!==null;)I=H,H=U;for(;;){if(H===e)break t;if(I===l&&++R===f&&(_=S),I===m&&++L===s&&(C=S),(U=H.nextSibling)!==null)break;H=I,I=H.parentNode}H=U}l=_===-1||C===-1?null:{start:_,end:C}}else l=null}l=l||{start:0,end:0}}else l=null;for(Kr={focusedElem:e,selectionRange:l},ba=!1,tt=n;tt!==null;)if(n=tt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,tt=e;else for(;tt!==null;){switch(n=tt,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)f=e[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=n,f=m.memoizedProps,m=m.memoizedState,s=l.stateNode;try{var j=di(l.type,f);e=s.getSnapshotBeforeUpdate(j,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(ae){De(l,l.return,ae)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)Zr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,tt=e;break}tt=n.return}}function yd(e,n,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:pn(e,l),s&4&&Yl(5,l);break;case 1:if(pn(e,l),s&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(S){De(l,l.return,S)}else{var f=di(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){De(l,l.return,S)}}s&64&&fd(l),s&512&&Kl(l,l.return);break;case 3:if(pn(e,l),s&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{ef(e,n)}catch(S){De(l,l.return,S)}}break;case 27:n===null&&s&4&&hd(l);case 26:case 5:pn(e,l),n===null&&s&4&&md(l),s&512&&Kl(l,l.return);break;case 12:pn(e,l);break;case 31:pn(e,l),s&4&&Td(e,l);break;case 13:pn(e,l),s&4&&xd(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Zy.bind(null,l),g0(e,l))));break;case 22:if(s=l.memoizedState!==null||dn,!s){n=n!==null&&n.memoizedState!==null||$e,f=dn;var m=$e;dn=s,($e=n)&&!m?hn(e,l,(l.subtreeFlags&8772)!==0):pn(e,l),dn=f,$e=m}break;case 30:break;default:pn(e,l)}}function vd(e){var n=e.alternate;n!==null&&(e.alternate=null,vd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ts(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,gt=!1;function mn(e,n,l){for(l=l.child;l!==null;)Sd(e,n,l),l=l.sibling}function Sd(e,n,l){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(yl,l)}catch{}switch(l.tag){case 26:$e||Xt(l,n),mn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:$e||Xt(l,n);var s=ze,f=gt;zn(l.type)&&(ze=l.stateNode,gt=!1),mn(e,n,l),no(l.stateNode),ze=s,gt=f;break;case 5:$e||Xt(l,n);case 6:if(s=ze,f=gt,ze=null,mn(e,n,l),ze=s,gt=f,ze!==null)if(gt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(l.stateNode)}catch(m){De(l,n,m)}else try{ze.removeChild(l.stateNode)}catch(m){De(l,n,m)}break;case 18:ze!==null&&(gt?(e=ze,fm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),il(e)):fm(ze,l.stateNode));break;case 4:s=ze,f=gt,ze=l.stateNode.containerInfo,gt=!0,mn(e,n,l),ze=s,gt=f;break;case 0:case 11:case 14:case 15:kn(2,l,n),$e||kn(4,l,n),mn(e,n,l);break;case 1:$e||(Xt(l,n),s=l.stateNode,typeof s.componentWillUnmount=="function"&&dd(l,n,s)),mn(e,n,l);break;case 21:mn(e,n,l);break;case 22:$e=(s=$e)||l.memoizedState!==null,mn(e,n,l),$e=s;break;default:mn(e,n,l)}}function Td(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{il(e)}catch(l){De(n,n.return,l)}}}function xd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{il(e)}catch(l){De(n,n.return,l)}}function By(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new gd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new gd),n;default:throw Error(a(435,e.tag))}}function ua(e,n){var l=By(e);n.forEach(function(s){if(!l.has(s)){l.add(s);var f=$y.bind(null,e,s);s.then(f,f)}})}function yt(e,n){var l=n.deletions;if(l!==null)for(var s=0;s<l.length;s++){var f=l[s],m=e,S=n,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(zn(_.type)){ze=_.stateNode,gt=!1;break e}break;case 5:ze=_.stateNode,gt=!1;break e;case 3:case 4:ze=_.stateNode.containerInfo,gt=!0;break e}_=_.return}if(ze===null)throw Error(a(160));Sd(m,S,f),ze=null,gt=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ed(n,e),n=n.sibling}var Ot=null;function Ed(e,n){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yt(n,e),vt(e),s&4&&(kn(3,e,e.return),Yl(3,e),kn(5,e,e.return));break;case 1:yt(n,e),vt(e),s&512&&($e||l===null||Xt(l,l.return)),s&64&&dn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var f=Ot;if(yt(n,e),vt(e),s&512&&($e||l===null||Xt(l,l.return)),s&4){var m=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,f=f.ownerDocument||f;t:switch(s){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Tl]||m[ot]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(s),f.head.insertBefore(m,f.querySelector("head > title"))),ut(m,s,l),m[ot]=e,et(m),s=m;break e;case"link":var S=Em("link","href",f).get(s+(l.href||""));if(S){for(var _=0;_<S.length;_++)if(m=S[_],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(_,1);break t}}m=f.createElement(s),ut(m,s,l),f.head.appendChild(m);break;case"meta":if(S=Em("meta","content",f).get(s+(l.content||""))){for(_=0;_<S.length;_++)if(m=S[_],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(_,1);break t}}m=f.createElement(s),ut(m,s,l),f.head.appendChild(m);break;default:throw Error(a(468,s))}m[ot]=e,et(m),s=m}e.stateNode=s}else _m(f,e.type,e.stateNode);else e.stateNode=xm(f,s,e.memoizedProps);else m!==s?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,s===null?_m(f,e.type,e.stateNode):xm(f,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Er(e,e.memoizedProps,l.memoizedProps)}break;case 27:yt(n,e),vt(e),s&512&&($e||l===null||Xt(l,l.return)),l!==null&&s&4&&Er(e,e.memoizedProps,l.memoizedProps);break;case 5:if(yt(n,e),vt(e),s&512&&($e||l===null||Xt(l,l.return)),e.flags&32){f=e.stateNode;try{Ni(f,"")}catch(j){De(e,e.return,j)}}s&4&&e.stateNode!=null&&(f=e.memoizedProps,Er(e,f,l!==null?l.memoizedProps:f)),s&1024&&(Ar=!0);break;case 6:if(yt(n,e),vt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(j){De(e,e.return,j)}}break;case 3:if(Aa=null,f=Ot,Ot=_a(n.containerInfo),yt(n,e),Ot=f,vt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{il(n.containerInfo)}catch(j){De(e,e.return,j)}Ar&&(Ar=!1,_d(e));break;case 4:s=Ot,Ot=_a(e.stateNode.containerInfo),yt(n,e),vt(e),Ot=s;break;case 12:yt(n,e),vt(e);break;case 31:yt(n,e),vt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ua(e,s)));break;case 13:yt(n,e),vt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(fa=lt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ua(e,s)));break;case 22:f=e.memoizedState!==null;var C=l!==null&&l.memoizedState!==null,R=dn,L=$e;if(dn=R||f,$e=L||C,yt(n,e),$e=L,dn=R,vt(e),s&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(l===null||C||dn||$e||mi(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){C=l=n;try{if(m=C.stateNode,f)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=C.stateNode;var H=C.memoizedProps.style,I=H!=null&&H.hasOwnProperty("display")?H.display:null;_.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(j){De(C,C.return,j)}}}else if(n.tag===6){if(l===null){C=n;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(j){De(C,C.return,j)}}}else if(n.tag===18){if(l===null){C=n;try{var U=C.stateNode;f?dm(U,!0):dm(C.stateNode,!1)}catch(j){De(C,C.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,ua(e,l))));break;case 19:yt(n,e),vt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ua(e,s)));break;case 30:break;case 21:break;default:yt(n,e),vt(e)}}function vt(e){var n=e.flags;if(n&2){try{for(var l,s=e.return;s!==null;){if(pd(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var f=l.stateNode,m=_r(e);ra(e,m,f);break;case 5:var S=l.stateNode;l.flags&32&&(Ni(S,""),l.flags&=-33);var _=_r(e);ra(e,_,S);break;case 3:case 4:var C=l.stateNode.containerInfo,R=_r(e);Cr(e,R,C);break;default:throw Error(a(161))}}catch(L){De(e,e.return,L)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function _d(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;_d(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function pn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yd(e,n.alternate,n),n=n.sibling}function mi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:kn(4,n,n.return),mi(n);break;case 1:Xt(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&dd(n,n.return,l),mi(n);break;case 27:no(n.stateNode);case 26:case 5:Xt(n,n.return),mi(n);break;case 22:n.memoizedState===null&&mi(n);break;case 30:mi(n);break;default:mi(n)}e=e.sibling}}function hn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,f=e,m=n,S=m.flags;switch(m.tag){case 0:case 11:case 15:hn(f,m,l),Yl(4,m);break;case 1:if(hn(f,m,l),s=m,f=s.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(R){De(s,s.return,R)}if(s=m,f=s.updateQueue,f!==null){var _=s.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)jc(C[f],_)}catch(R){De(s,s.return,R)}}l&&S&64&&fd(m),Kl(m,m.return);break;case 27:hd(m);case 26:case 5:hn(f,m,l),l&&s===null&&S&4&&md(m),Kl(m,m.return);break;case 12:hn(f,m,l);break;case 31:hn(f,m,l),l&&S&4&&Td(f,m);break;case 13:hn(f,m,l),l&&S&4&&xd(f,m);break;case 22:m.memoizedState===null&&hn(f,m,l),Kl(m,m.return);break;case 30:break;default:hn(f,m,l)}n=n.sibling}}function Nr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Ul(l))}function Mr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ul(e))}function Ft(e,n,l,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cd(e,n,l,s),n=n.sibling}function Cd(e,n,l,s){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Ft(e,n,l,s),f&2048&&Yl(9,n);break;case 1:Ft(e,n,l,s);break;case 3:Ft(e,n,l,s),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ul(e)));break;case 12:if(f&2048){Ft(e,n,l,s),e=n.stateNode;try{var m=n.memoizedProps,S=m.id,_=m.onPostCommit;typeof _=="function"&&_(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){De(n,n.return,C)}}else Ft(e,n,l,s);break;case 31:Ft(e,n,l,s);break;case 13:Ft(e,n,l,s);break;case 23:break;case 22:m=n.stateNode,S=n.alternate,n.memoizedState!==null?m._visibility&2?Ft(e,n,l,s):Ql(e,n):m._visibility&2?Ft(e,n,l,s):(m._visibility|=2,Yi(e,n,l,s,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Nr(S,n);break;case 24:Ft(e,n,l,s),f&2048&&Mr(n.alternate,n);break;default:Ft(e,n,l,s)}}function Yi(e,n,l,s,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,S=n,_=l,C=s,R=S.flags;switch(S.tag){case 0:case 11:case 15:Yi(m,S,_,C,f),Yl(8,S);break;case 23:break;case 22:var L=S.stateNode;S.memoizedState!==null?L._visibility&2?Yi(m,S,_,C,f):Ql(m,S):(L._visibility|=2,Yi(m,S,_,C,f)),f&&R&2048&&Nr(S.alternate,S);break;case 24:Yi(m,S,_,C,f),f&&R&2048&&Mr(S.alternate,S);break;default:Yi(m,S,_,C,f)}n=n.sibling}}function Ql(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,s=n,f=s.flags;switch(s.tag){case 22:Ql(l,s),f&2048&&Nr(s.alternate,s);break;case 24:Ql(l,s),f&2048&&Mr(s.alternate,s);break;default:Ql(l,s)}n=n.sibling}}var Xl=8192;function Ki(e,n,l){if(e.subtreeFlags&Xl)for(e=e.child;e!==null;)Ad(e,n,l),e=e.sibling}function Ad(e,n,l){switch(e.tag){case 26:Ki(e,n,l),e.flags&Xl&&e.memoizedState!==null&&w0(l,Ot,e.memoizedState,e.memoizedProps);break;case 5:Ki(e,n,l);break;case 3:case 4:var s=Ot;Ot=_a(e.stateNode.containerInfo),Ki(e,n,l),Ot=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Xl,Xl=16777216,Ki(e,n,l),Xl=s):Ki(e,n,l));break;default:Ki(e,n,l)}}function Nd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Zl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];tt=s,wd(s,e)}Nd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Md(e),e=e.sibling}function Md(e){switch(e.tag){case 0:case 11:case 15:Zl(e),e.flags&2048&&kn(9,e,e.return);break;case 3:Zl(e);break;case 12:Zl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ca(e)):Zl(e);break;default:Zl(e)}}function ca(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];tt=s,wd(s,e)}Nd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:kn(8,n,n.return),ca(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,ca(n));break;default:ca(n)}e=e.sibling}}function wd(e,n){for(;tt!==null;){var l=tt;switch(l.tag){case 0:case 11:case 15:kn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ul(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,tt=s;else e:for(l=e;tt!==null;){s=tt;var f=s.sibling,m=s.return;if(vd(s),s===l){tt=null;break e}if(f!==null){f.return=m,tt=f;break e}tt=m}}}var Oy={getCacheForType:function(e){var n=st(Qe),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return st(Qe).controller.signal}},Fy=typeof WeakMap=="function"?WeakMap:Map,Re=0,Ge=null,ve=null,Te=0,Ie=0,Mt=null,Ln=!1,Qi=!1,wr=!1,gn=0,Je=0,Gn=0,pi=0,br=0,wt=0,Xi=0,$l=null,St=null,Rr=!1,fa=0,bd=0,da=1/0,ma=null,qn=null,We=0,Pn=null,Zi=null,yn=0,Ir=0,Dr=null,Rd=null,Wl=0,Ur=null;function bt(){return(Re&2)!==0&&Te!==0?Te&-Te:D.T!==null?Hr():Ju()}function Id(){if(wt===0)if((Te&536870912)===0||Ee){var e=xo;xo<<=1,(xo&3932160)===0&&(xo=262144),wt=e}else wt=536870912;return e=At.current,e!==null&&(e.flags|=32),wt}function Tt(e,n,l){(e===Ge&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&($i(e,0),Hn(e,Te,wt,!1)),Sl(e,l),((Re&2)===0||e!==Ge)&&(e===Ge&&((Re&2)===0&&(pi|=l),Je===4&&Hn(e,Te,wt,!1)),Zt(e))}function Dd(e,n,l){if((Re&6)!==0)throw Error(a(327));var s=!l&&(n&127)===0&&(n&e.expiredLanes)===0||vl(e,n),f=s?Ky(e,n):Lr(e,n,!0),m=s;do{if(f===0){Qi&&!s&&Hn(e,n,0,!1);break}else{if(l=e.current.alternate,m&&!Jy(l)){f=Lr(e,n,!1),m=!1;continue}if(f===2){if(m=n,e.errorRecoveryDisabledLanes&m)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var _=e;f=$l;var C=_.current.memoizedState.isDehydrated;if(C&&($i(_,S).flags|=256),S=Lr(_,S,!1),S!==2){if(wr&&!C){_.errorRecoveryDisabledLanes|=m,pi|=m,f=4;break e}m=St,St=f,m!==null&&(St===null?St=m:St.push.apply(St,m))}f=S}if(m=!1,f!==2)continue}}if(f===1){$i(e,0),Hn(e,n,0,!0);break}e:{switch(s=e,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Hn(s,n,wt,!Ln);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=fa+300-lt(),10<f)){if(Hn(s,n,wt,!Ln),_o(s,0,!0)!==0)break e;yn=n,s.timeoutHandle=um(Ud.bind(null,s,l,St,ma,Rr,n,wt,pi,Xi,Ln,m,"Throttled",-0,0),f);break e}Ud(s,l,St,ma,Rr,n,wt,pi,Xi,Ln,m,null,-0,0)}}break}while(!0);Zt(e)}function Ud(e,n,l,s,f,m,S,_,C,R,L,H,I,U){if(e.timeoutHandle=-1,H=n.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:tn},Ad(n,m,H);var j=(m&62914560)===m?fa-lt():(m&4194048)===m?bd-lt():0;if(j=b0(H,j),j!==null){yn=m,e.cancelPendingCommit=j(zd.bind(null,e,n,m,l,s,f,S,_,C,L,H,null,I,U)),Hn(e,m,S,!R);return}}zd(e,n,m,l,s,f,S,_,C)}function Jy(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var f=l[s],m=f.getSnapshot;f=f.value;try{if(!_t(m(),f))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hn(e,n,l,s){n&=~br,n&=~pi,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var f=n;0<f;){var m=31-Et(f),S=1<<m;s[m]=-1,f&=~S}l!==0&&Bu(e,l,n)}function pa(){return(Re&6)===0?(jl(0),!1):!0}function kr(){if(ve!==null){if(Ie===0)var e=ve.return;else e=ve,an=oi=null,Zs(e),zi=null,Ll=0,e=ve;for(;e!==null;)cd(e.alternate,e),e=e.return;ve=null}}function $i(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,f0(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),yn=0,kr(),Ge=e,ve=l=ln(e.current,null),Te=n,Ie=0,Mt=null,Ln=!1,Qi=vl(e,n),wr=!1,Xi=wt=br=pi=Gn=Je=0,St=$l=null,Rr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var f=31-Et(s),m=1<<f;n|=e[f],s&=~m}return gn=n,Lo(),l}function kd(e,n){de=null,D.H=Ol,n===Vi||n===Oo?(n=Xc(),Ie=3):n===Ps?(n=Xc(),Ie=4):Ie=n===dr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Mt=n,ve===null&&(Je=1,ia(e,kt(n,e.current)))}function Ld(){var e=At.current;return e===null?!0:(Te&4194048)===Te?Pt===null:(Te&62914560)===Te||(Te&536870912)!==0?e===Pt:!1}function Gd(){var e=D.H;return D.H=Ol,e===null?Ol:e}function qd(){var e=D.A;return D.A=Oy,e}function ha(){Je=4,Ln||(Te&4194048)!==Te&&At.current!==null||(Qi=!0),(Gn&134217727)===0&&(pi&134217727)===0||Ge===null||Hn(Ge,Te,wt,!1)}function Lr(e,n,l){var s=Re;Re|=2;var f=Gd(),m=qd();(Ge!==e||Te!==n)&&(ma=null,$i(e,n)),n=!1;var S=Je;e:do try{if(Ie!==0&&ve!==null){var _=ve,C=Mt;switch(Ie){case 8:kr(),S=6;break e;case 3:case 2:case 9:case 6:At.current===null&&(n=!0);var R=Ie;if(Ie=0,Mt=null,Wi(e,_,C,R),l&&Qi){S=0;break e}break;default:R=Ie,Ie=0,Mt=null,Wi(e,_,C,R)}}Yy(),S=Je;break}catch(L){kd(e,L)}while(!0);return n&&e.shellSuspendCounter++,an=oi=null,Re=s,D.H=f,D.A=m,ve===null&&(Ge=null,Te=0,Lo()),S}function Yy(){for(;ve!==null;)Pd(ve)}function Ky(e,n){var l=Re;Re|=2;var s=Gd(),f=qd();Ge!==e||Te!==n?(ma=null,da=lt()+500,$i(e,n)):Qi=vl(e,n);e:do try{if(Ie!==0&&ve!==null){n=ve;var m=Mt;t:switch(Ie){case 1:Ie=0,Mt=null,Wi(e,n,m,1);break;case 2:case 9:if(Kc(m)){Ie=0,Mt=null,Hd(n);break}n=function(){Ie!==2&&Ie!==9||Ge!==e||(Ie=7),Zt(e)},m.then(n,n);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:Kc(m)?(Ie=0,Mt=null,Hd(n)):(Ie=0,Mt=null,Wi(e,n,m,7));break;case 5:var S=null;switch(ve.tag){case 26:S=ve.memoizedState;case 5:case 27:var _=ve;if(S?Cm(S):_.stateNode.complete){Ie=0,Mt=null;var C=_.sibling;if(C!==null)ve=C;else{var R=_.return;R!==null?(ve=R,ga(R)):ve=null}break t}}Ie=0,Mt=null,Wi(e,n,m,5);break;case 6:Ie=0,Mt=null,Wi(e,n,m,6);break;case 8:kr(),Je=6;break e;default:throw Error(a(462))}}Qy();break}catch(L){kd(e,L)}while(!0);return an=oi=null,D.H=s,D.A=f,Re=l,ve!==null?0:(Ge=null,Te=0,Lo(),Je)}function Qy(){for(;ve!==null&&!Si();)Pd(ve)}function Pd(e){var n=rd(e.alternate,e,gn);e.memoizedProps=e.pendingProps,n===null?ga(e):ve=n}function Hd(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=nd(l,n,n.pendingProps,n.type,void 0,Te);break;case 11:n=nd(l,n,n.pendingProps,n.type.render,n.ref,Te);break;case 5:Zs(n);default:cd(l,n),n=ve=Gc(n,gn),n=rd(l,n,gn)}e.memoizedProps=e.pendingProps,n===null?ga(e):ve=n}function Wi(e,n,l,s){an=oi=null,Zs(n),zi=null,Ll=0;var f=n.return;try{if(Gy(e,f,n,l,Te)){Je=1,ia(e,kt(l,e.current)),ve=null;return}}catch(m){if(f!==null)throw ve=f,m;Je=1,ia(e,kt(l,e.current)),ve=null;return}n.flags&32768?(Ee||s===1?e=!0:Qi||(Te&536870912)!==0?e=!1:(Ln=e=!0,(s===2||s===9||s===3||s===6)&&(s=At.current,s!==null&&s.tag===13&&(s.flags|=16384))),Vd(n,e)):ga(n)}function ga(e){var n=e;do{if((n.flags&32768)!==0){Vd(n,Ln);return}e=n.return;var l=Hy(n.alternate,n,gn);if(l!==null){ve=l;return}if(n=n.sibling,n!==null){ve=n;return}ve=n=e}while(n!==null);Je===0&&(Je=5)}function Vd(e,n){do{var l=Vy(e.alternate,e);if(l!==null){l.flags&=32767,ve=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){ve=e;return}ve=e=l}while(e!==null);Je=6,ve=null}function zd(e,n,l,s,f,m,S,_,C){e.cancelPendingCommit=null;do ya();while(We!==0);if((Re&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=_s,Mg(e,l,m,S,_,C),e===Ge&&(ve=Ge=null,Te=0),Zi=n,Pn=e,yn=l,Ir=m,Dr=f,Rd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Wy(mt,function(){return Yd(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=D.T,D.T=null,f=k.p,k.p=2,S=Re,Re|=4;try{zy(e,n,l)}finally{Re=S,k.p=f,D.T=s}}We=1,Bd(),Od(),Fd()}}function Bd(){if(We===1){We=0;var e=Pn,n=Zi,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=D.T,D.T=null;var s=k.p;k.p=2;var f=Re;Re|=4;try{Ed(n,e);var m=Kr,S=Mc(e.containerInfo),_=m.focusedElem,C=m.selectionRange;if(S!==_&&_&&_.ownerDocument&&Nc(_.ownerDocument.documentElement,_)){if(C!==null&&vs(_)){var R=C.start,L=C.end;if(L===void 0&&(L=R),"selectionStart"in _)_.selectionStart=R,_.selectionEnd=Math.min(L,_.value.length);else{var H=_.ownerDocument||document,I=H&&H.defaultView||window;if(I.getSelection){var U=I.getSelection(),j=_.textContent.length,ae=Math.min(C.start,j),Le=C.end===void 0?ae:Math.min(C.end,j);!U.extend&&ae>Le&&(S=Le,Le=ae,ae=S);var w=Ac(_,ae),N=Ac(_,Le);if(w&&N&&(U.rangeCount!==1||U.anchorNode!==w.node||U.anchorOffset!==w.offset||U.focusNode!==N.node||U.focusOffset!==N.offset)){var b=H.createRange();b.setStart(w.node,w.offset),U.removeAllRanges(),ae>Le?(U.addRange(b),U.extend(N.node,N.offset)):(b.setEnd(N.node,N.offset),U.addRange(b))}}}}for(H=[],U=_;U=U.parentNode;)U.nodeType===1&&H.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<H.length;_++){var q=H[_];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}ba=!!Yr,Kr=Yr=null}finally{Re=f,k.p=s,D.T=l}}e.current=n,We=2}}function Od(){if(We===2){We=0;var e=Pn,n=Zi,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=D.T,D.T=null;var s=k.p;k.p=2;var f=Re;Re|=4;try{yd(e,n.alternate,n)}finally{Re=f,k.p=s,D.T=l}}We=3}}function Fd(){if(We===4||We===3){We=0,Za();var e=Pn,n=Zi,l=yn,s=Rd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?We=5:(We=0,Zi=Pn=null,Jd(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(qn=null),ja(l),n=n.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(yl,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=D.T,f=k.p,k.p=2,D.T=null;try{for(var m=e.onRecoverableError,S=0;S<s.length;S++){var _=s[S];m(_.value,{componentStack:_.stack})}}finally{D.T=n,k.p=f}}(yn&3)!==0&&ya(),Zt(e),f=e.pendingLanes,(l&261930)!==0&&(f&42)!==0?e===Ur?Wl++:(Wl=0,Ur=e):Wl=0,jl(0)}}function Jd(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ul(n)))}function ya(){return Bd(),Od(),Fd(),Yd()}function Yd(){if(We!==5)return!1;var e=Pn,n=Ir;Ir=0;var l=ja(yn),s=D.T,f=k.p;try{k.p=32>l?32:l,D.T=null,l=Dr,Dr=null;var m=Pn,S=yn;if(We=0,Zi=Pn=null,yn=0,(Re&6)!==0)throw Error(a(331));var _=Re;if(Re|=4,Md(m.current),Cd(m,m.current,S,l),Re=_,jl(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(yl,m)}catch{}return!0}finally{k.p=f,D.T=s,Jd(e,n)}}function Kd(e,n,l){n=kt(l,n),n=fr(e.stateNode,n,2),e=In(e,n,2),e!==null&&(Sl(e,2),Zt(e))}function De(e,n,l){if(e.tag===3)Kd(e,e,l);else for(;n!==null;){if(n.tag===3){Kd(n,e,l);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(qn===null||!qn.has(s))){e=kt(l,e),l=Qf(2),s=In(n,l,2),s!==null&&(Xf(l,s,n,e),Sl(s,2),Zt(s));break}}n=n.return}}function Gr(e,n,l){var s=e.pingCache;if(s===null){s=e.pingCache=new Fy;var f=new Set;s.set(n,f)}else f=s.get(n),f===void 0&&(f=new Set,s.set(n,f));f.has(l)||(wr=!0,f.add(l),e=Xy.bind(null,e,n,l),n.then(e,e))}function Xy(e,n,l){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ge===e&&(Te&l)===l&&(Je===4||Je===3&&(Te&62914560)===Te&&300>lt()-fa?(Re&2)===0&&$i(e,0):br|=l,Xi===Te&&(Xi=0)),Zt(e)}function Qd(e,n){n===0&&(n=zu()),e=ni(e,n),e!==null&&(Sl(e,n),Zt(e))}function Zy(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),Qd(e,l)}function $y(e,n){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),Qd(e,l)}function Wy(e,n){return Wt(e,n)}var va=null,ji=null,qr=!1,Sa=!1,Pr=!1,Vn=0;function Zt(e){e!==ji&&e.next===null&&(ji===null?va=ji=e:ji=ji.next=e),Sa=!0,qr||(qr=!0,e0())}function jl(e,n){if(!Pr&&Sa){Pr=!0;do for(var l=!1,s=va;s!==null;){if(e!==0){var f=s.pendingLanes;if(f===0)var m=0;else{var S=s.suspendedLanes,_=s.pingedLanes;m=(1<<31-Et(42|e)+1)-1,m&=f&~(S&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,Wd(s,m))}else m=Te,m=_o(s,s===Ge?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||vl(s,m)||(l=!0,Wd(s,m));s=s.next}while(l);Pr=!1}}function jy(){Xd()}function Xd(){Sa=qr=!1;var e=0;Vn!==0&&c0()&&(e=Vn);for(var n=lt(),l=null,s=va;s!==null;){var f=s.next,m=Zd(s,n);m===0?(s.next=null,l===null?va=f:l.next=f,f===null&&(ji=l)):(l=s,(e!==0||(m&3)!==0)&&(Sa=!0)),s=f}We!==0&&We!==5||jl(e),Vn!==0&&(Vn=0)}function Zd(e,n){for(var l=e.suspendedLanes,s=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var S=31-Et(m),_=1<<S,C=f[S];C===-1?((_&l)===0||(_&s)!==0)&&(f[S]=Ng(_,n)):C<=n&&(e.expiredLanes|=_),m&=~_}if(n=Ge,l=Te,l=_o(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===n&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Zn(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||vl(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(s!==null&&Zn(s),ja(l)){case 2:case 8:l=So;break;case 32:l=mt;break;case 268435456:l=gl;break;default:l=mt}return s=$d.bind(null,e),l=Wt(l,s),e.callbackPriority=n,e.callbackNode=l,n}return s!==null&&s!==null&&Zn(s),e.callbackPriority=2,e.callbackNode=null,2}function $d(e,n){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(ya()&&e.callbackNode!==l)return null;var s=Te;return s=_o(e,e===Ge?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Dd(e,s,n),Zd(e,lt()),e.callbackNode!=null&&e.callbackNode===l?$d.bind(null,e):null)}function Wd(e,n){if(ya())return null;Dd(e,n,!0)}function e0(){d0(function(){(Re&6)!==0?Wt(vo,jy):Xd()})}function Hr(){if(Vn===0){var e=Pi;e===0&&(e=To,To<<=1,(To&261888)===0&&(To=256)),Vn=e}return Vn}function jd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Mo(""+e)}function em(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function t0(e,n,l,s,f){if(n==="submit"&&l&&l.stateNode===f){var m=jd((f[pt]||null).action),S=s.submitter;S&&(n=(n=S[pt]||null)?jd(n.formAction):S.getAttribute("formAction"),n!==null&&(m=n,S=null));var _=new Io("action","action",null,s,f);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Vn!==0){var C=S?em(f,S):new FormData(f);or(l,{pending:!0,data:C,method:f.method,action:m},null,C)}}else typeof m=="function"&&(_.preventDefault(),C=S?em(f,S):new FormData(f),or(l,{pending:!0,data:C,method:f.method,action:m},m,C))},currentTarget:f}]})}}for(var Vr=0;Vr<Es.length;Vr++){var zr=Es[Vr],n0=zr.toLowerCase(),i0=zr[0].toUpperCase()+zr.slice(1);Bt(n0,"on"+i0)}Bt(Rc,"onAnimationEnd"),Bt(Ic,"onAnimationIteration"),Bt(Dc,"onAnimationStart"),Bt("dblclick","onDoubleClick"),Bt("focusin","onFocus"),Bt("focusout","onBlur"),Bt(Sy,"onTransitionRun"),Bt(Ty,"onTransitionStart"),Bt(xy,"onTransitionCancel"),Bt(Uc,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eo));function tm(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],f=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var S=s.length-1;0<=S;S--){var _=s[S],C=_.instance,R=_.currentTarget;if(_=_.listener,C!==m&&f.isPropagationStopped())break e;m=_,f.currentTarget=R;try{m(f)}catch(L){ko(L)}f.currentTarget=null,m=C}else for(S=0;S<s.length;S++){if(_=s[S],C=_.instance,R=_.currentTarget,_=_.listener,C!==m&&f.isPropagationStopped())break e;m=_,f.currentTarget=R;try{m(f)}catch(L){ko(L)}f.currentTarget=null,m=C}}}}function Se(e,n){var l=n[es];l===void 0&&(l=n[es]=new Set);var s=e+"__bubble";l.has(s)||(nm(n,e,2,!1),l.add(s))}function Br(e,n,l){var s=0;n&&(s|=4),nm(l,e,s,n)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function Or(e){if(!e[Ta]){e[Ta]=!0,Qu.forEach(function(l){l!=="selectionchange"&&(l0.has(l)||Br(l,!1,e),Br(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ta]||(n[Ta]=!0,Br("selectionchange",!1,n))}}function nm(e,n,l,s){switch(Im(n)){case 2:var f=D0;break;case 8:f=U0;break;default:f=lu}l=f.bind(null,n,l,e),f=void 0,!us||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),s?f!==void 0?e.addEventListener(n,l,{capture:!0,passive:f}):e.addEventListener(n,l,!0):f!==void 0?e.addEventListener(n,l,{passive:f}):e.addEventListener(n,l,!1)}function Fr(e,n,l,s,f){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var _=s.stateNode.containerInfo;if(_===f)break;if(S===4)for(S=s.return;S!==null;){var C=S.tag;if((C===3||C===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;_!==null;){if(S=xi(_),S===null)return;if(C=S.tag,C===5||C===6||C===26||C===27){s=m=S;continue e}_=_.parentNode}}s=s.return}ac(function(){var R=m,L=ss(l),H=[];e:{var I=kc.get(e);if(I!==void 0){var U=Io,j=e;switch(e){case"keypress":if(bo(l)===0)break e;case"keydown":case"keyup":U=$g;break;case"focusin":j="focus",U=ms;break;case"focusout":j="blur",U=ms;break;case"beforeblur":case"afterblur":U=ms;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Hg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=ey;break;case Rc:case Ic:case Dc:U=Bg;break;case Uc:U=ny;break;case"scroll":case"scrollend":U=qg;break;case"wheel":U=ly;break;case"copy":case"cut":case"paste":U=Fg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=fc;break;case"toggle":case"beforetoggle":U=ay}var ae=(n&4)!==0,Le=!ae&&(e==="scroll"||e==="scrollend"),w=ae?I!==null?I+"Capture":null:I;ae=[];for(var N=R,b;N!==null;){var q=N;if(b=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||b===null||w===null||(q=El(N,w),q!=null&&ae.push(to(N,q,b))),Le)break;N=N.return}0<ae.length&&(I=new U(I,j,null,l,L),H.push({event:I,listeners:ae}))}}if((n&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",I&&l!==as&&(j=l.relatedTarget||l.fromElement)&&(xi(j)||j[Ti]))break e;if((U||I)&&(I=L.window===L?L:(I=L.ownerDocument)?I.defaultView||I.parentWindow:window,U?(j=l.relatedTarget||l.toElement,U=R,j=j?xi(j):null,j!==null&&(Le=d(j),ae=j.tag,j!==Le||ae!==5&&ae!==27&&ae!==6)&&(j=null)):(U=null,j=R),U!==j)){if(ae=uc,q="onMouseLeave",w="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ae=fc,q="onPointerLeave",w="onPointerEnter",N="pointer"),Le=U==null?I:xl(U),b=j==null?I:xl(j),I=new ae(q,N+"leave",U,l,L),I.target=Le,I.relatedTarget=b,q=null,xi(L)===R&&(ae=new ae(w,N+"enter",j,l,L),ae.target=b,ae.relatedTarget=Le,q=ae),Le=q,U&&j)t:{for(ae=o0,w=U,N=j,b=0,q=w;q;q=ae(q))b++;q=0;for(var oe=N;oe;oe=ae(oe))q++;for(;0<b-q;)w=ae(w),b--;for(;0<q-b;)N=ae(N),q--;for(;b--;){if(w===N||N!==null&&w===N.alternate){ae=w;break t}w=ae(w),N=ae(N)}ae=null}else ae=null;U!==null&&im(H,I,U,ae,!1),j!==null&&Le!==null&&im(H,Le,j,ae,!0)}}e:{if(I=R?xl(R):window,U=I.nodeName&&I.nodeName.toLowerCase(),U==="select"||U==="input"&&I.type==="file")var Me=Sc;else if(yc(I))if(Tc)Me=gy;else{Me=py;var ne=my}else U=I.nodeName,!U||U.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?R&&os(R.elementType)&&(Me=Sc):Me=hy;if(Me&&(Me=Me(e,R))){vc(H,Me,l,L);break e}ne&&ne(e,I,R),e==="focusout"&&R&&I.type==="number"&&R.memoizedProps.value!=null&&ls(I,"number",I.value)}switch(ne=R?xl(R):window,e){case"focusin":(yc(ne)||ne.contentEditable==="true")&&(Ri=ne,Ss=R,Rl=null);break;case"focusout":Rl=Ss=Ri=null;break;case"mousedown":Ts=!0;break;case"contextmenu":case"mouseup":case"dragend":Ts=!1,wc(H,l,L);break;case"selectionchange":if(vy)break;case"keydown":case"keyup":wc(H,l,L)}var pe;if(hs)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else bi?hc(e,l)&&(xe="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(xe="onCompositionStart");xe&&(dc&&l.locale!=="ko"&&(bi||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&bi&&(pe=sc()):(Cn=L,cs="value"in Cn?Cn.value:Cn.textContent,bi=!0)),ne=xa(R,xe),0<ne.length&&(xe=new cc(xe,e,null,l,L),H.push({event:xe,listeners:ne}),pe?xe.data=pe:(pe=gc(l),pe!==null&&(xe.data=pe)))),(pe=ry?uy(e,l):cy(e,l))&&(xe=xa(R,"onBeforeInput"),0<xe.length&&(ne=new cc("onBeforeInput","beforeinput",null,l,L),H.push({event:ne,listeners:xe}),ne.data=pe)),t0(H,e,R,l,L)}tm(H,n)})}function to(e,n,l){return{instance:e,listener:n,currentTarget:l}}function xa(e,n){for(var l=n+"Capture",s=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=El(e,l),f!=null&&s.unshift(to(e,f,m)),f=El(e,n),f!=null&&s.push(to(e,f,m))),e.tag===3)return s;e=e.return}return[]}function o0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function im(e,n,l,s,f){for(var m=n._reactName,S=[];l!==null&&l!==s;){var _=l,C=_.alternate,R=_.stateNode;if(_=_.tag,C!==null&&C===s)break;_!==5&&_!==26&&_!==27||R===null||(C=R,f?(R=El(l,m),R!=null&&S.unshift(to(l,R,C))):f||(R=El(l,m),R!=null&&S.push(to(l,R,C)))),l=l.return}S.length!==0&&e.push({event:n,listeners:S})}var a0=/\r\n?/g,s0=/\u0000|\uFFFD/g;function lm(e){return(typeof e=="string"?e:""+e).replace(a0,`
`).replace(s0,"")}function om(e,n){return n=lm(n),lm(e)===n}function ke(e,n,l,s,f,m){switch(l){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Ni(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Ni(e,""+s);break;case"className":Ao(e,"class",s);break;case"tabIndex":Ao(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ao(e,l,s);break;case"style":lc(e,s,m);break;case"data":if(n!=="object"){Ao(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Mo(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&ke(e,n,"name",f.name,f,null),ke(e,n,"formEncType",f.formEncType,f,null),ke(e,n,"formMethod",f.formMethod,f,null),ke(e,n,"formTarget",f.formTarget,f,null)):(ke(e,n,"encType",f.encType,f,null),ke(e,n,"method",f.method,f,null),ke(e,n,"target",f.target,f,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Mo(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=tn);break;case"onScroll":s!=null&&Se("scroll",e);break;case"onScrollEnd":s!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=Mo(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":Se("beforetoggle",e),Se("toggle",e),Co(e,"popover",s);break;case"xlinkActuate":en(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":en(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":en(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":en(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":en(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":en(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":en(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":en(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":en(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Co(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Lg.get(l)||l,Co(e,l,s))}}function Jr(e,n,l,s,f,m){switch(l){case"style":lc(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?Ni(e,s):(typeof s=="number"||typeof s=="bigint")&&Ni(e,""+s);break;case"onScroll":s!=null&&Se("scroll",e);break;case"onScrollEnd":s!=null&&Se("scrollend",e);break;case"onClick":s!=null&&(e.onclick=tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xu.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),n=l.slice(2,f?l.length-7:void 0),m=e[pt]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(n,m,f),typeof s=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,s,f);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):Co(e,l,s)}}}function ut(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var s=!1,f=!1,m;for(m in l)if(l.hasOwnProperty(m)){var S=l[m];if(S!=null)switch(m){case"src":s=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ke(e,n,m,S,l,null)}}f&&ke(e,n,"srcSet",l.srcSet,l,null),s&&ke(e,n,"src",l.src,l,null);return;case"input":Se("invalid",e);var _=m=S=f=null,C=null,R=null;for(s in l)if(l.hasOwnProperty(s)){var L=l[s];if(L!=null)switch(s){case"name":f=L;break;case"type":S=L;break;case"checked":C=L;break;case"defaultChecked":R=L;break;case"value":m=L;break;case"defaultValue":_=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:ke(e,n,s,L,l,null)}}ec(e,m,_,C,R,S,f,!1);return;case"select":Se("invalid",e),s=S=m=null;for(f in l)if(l.hasOwnProperty(f)&&(_=l[f],_!=null))switch(f){case"value":m=_;break;case"defaultValue":S=_;break;case"multiple":s=_;default:ke(e,n,f,_,l,null)}n=m,l=S,e.multiple=!!s,n!=null?Ai(e,!!s,n,!1):l!=null&&Ai(e,!!s,l,!0);return;case"textarea":Se("invalid",e),m=f=s=null;for(S in l)if(l.hasOwnProperty(S)&&(_=l[S],_!=null))switch(S){case"value":s=_;break;case"defaultValue":f=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:ke(e,n,S,_,l,null)}nc(e,s,f,m);return;case"option":for(C in l)if(l.hasOwnProperty(C)&&(s=l[C],s!=null))switch(C){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ke(e,n,C,s,l,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(s=0;s<eo.length;s++)Se(eo[s],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in l)if(l.hasOwnProperty(R)&&(s=l[R],s!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ke(e,n,R,s,l,null)}return;default:if(os(n)){for(L in l)l.hasOwnProperty(L)&&(s=l[L],s!==void 0&&Jr(e,n,L,s,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(s=l[_],s!=null&&ke(e,n,_,s,l,null))}function r0(e,n,l,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,S=null,_=null,C=null,R=null,L=null;for(U in l){var H=l[U];if(l.hasOwnProperty(U)&&H!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":C=H;default:s.hasOwnProperty(U)||ke(e,n,U,null,s,H)}}for(var I in s){var U=s[I];if(H=l[I],s.hasOwnProperty(I)&&(U!=null||H!=null))switch(I){case"type":m=U;break;case"name":f=U;break;case"checked":R=U;break;case"defaultChecked":L=U;break;case"value":S=U;break;case"defaultValue":_=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,n));break;default:U!==H&&ke(e,n,I,U,s,H)}}is(e,S,_,C,R,L,m,f);return;case"select":U=S=_=I=null;for(m in l)if(C=l[m],l.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":U=C;default:s.hasOwnProperty(m)||ke(e,n,m,null,s,C)}for(f in s)if(m=s[f],C=l[f],s.hasOwnProperty(f)&&(m!=null||C!=null))switch(f){case"value":I=m;break;case"defaultValue":_=m;break;case"multiple":S=m;default:m!==C&&ke(e,n,f,m,s,C)}n=_,l=S,s=U,I!=null?Ai(e,!!l,I,!1):!!s!=!!l&&(n!=null?Ai(e,!!l,n,!0):Ai(e,!!l,l?[]:"",!1));return;case"textarea":U=I=null;for(_ in l)if(f=l[_],l.hasOwnProperty(_)&&f!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:ke(e,n,_,null,s,f)}for(S in s)if(f=s[S],m=l[S],s.hasOwnProperty(S)&&(f!=null||m!=null))switch(S){case"value":I=f;break;case"defaultValue":U=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&ke(e,n,S,f,s,m)}tc(e,I,U);return;case"option":for(var j in l)if(I=l[j],l.hasOwnProperty(j)&&I!=null&&!s.hasOwnProperty(j))switch(j){case"selected":e.selected=!1;break;default:ke(e,n,j,null,s,I)}for(C in s)if(I=s[C],U=l[C],s.hasOwnProperty(C)&&I!==U&&(I!=null||U!=null))switch(C){case"selected":e.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:ke(e,n,C,I,s,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in l)I=l[ae],l.hasOwnProperty(ae)&&I!=null&&!s.hasOwnProperty(ae)&&ke(e,n,ae,null,s,I);for(R in s)if(I=s[R],U=l[R],s.hasOwnProperty(R)&&I!==U&&(I!=null||U!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,n));break;default:ke(e,n,R,I,s,U)}return;default:if(os(n)){for(var Le in l)I=l[Le],l.hasOwnProperty(Le)&&I!==void 0&&!s.hasOwnProperty(Le)&&Jr(e,n,Le,void 0,s,I);for(L in s)I=s[L],U=l[L],!s.hasOwnProperty(L)||I===U||I===void 0&&U===void 0||Jr(e,n,L,I,s,U);return}}for(var w in l)I=l[w],l.hasOwnProperty(w)&&I!=null&&!s.hasOwnProperty(w)&&ke(e,n,w,null,s,I);for(H in s)I=s[H],U=l[H],!s.hasOwnProperty(H)||I===U||I==null&&U==null||ke(e,n,H,I,s,U)}function am(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function u0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var f=l[s],m=f.transferSize,S=f.initiatorType,_=f.duration;if(m&&_&&am(S)){for(S=0,_=f.responseEnd,s+=1;s<l.length;s++){var C=l[s],R=C.startTime;if(R>_)break;var L=C.transferSize,H=C.initiatorType;L&&am(H)&&(C=C.responseEnd,S+=L*(C<_?1:(_-R)/(C-R)))}if(--s,n+=8*(m+S)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yr=null,Kr=null;function Ea(e){return e.nodeType===9?e:e.ownerDocument}function sm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Qr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Xr=null;function c0(){var e=window.event;return e&&e.type==="popstate"?e===Xr?!1:(Xr=e,!0):(Xr=null,!1)}var um=typeof setTimeout=="function"?setTimeout:void 0,f0=typeof clearTimeout=="function"?clearTimeout:void 0,cm=typeof Promise=="function"?Promise:void 0,d0=typeof queueMicrotask=="function"?queueMicrotask:typeof cm<"u"?function(e){return cm.resolve(null).then(e).catch(m0)}:um;function m0(e){setTimeout(function(){throw e})}function zn(e){return e==="head"}function fm(e,n){var l=n,s=0;do{var f=l.nextSibling;if(e.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(f),il(n);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")no(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,no(l);for(var m=l.firstChild;m;){var S=m.nextSibling,_=m.nodeName;m[Tl]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=S}}else l==="body"&&no(e.ownerDocument.body);l=f}while(l);il(n)}function dm(e,n){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function Zr(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Zr(l),ts(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function p0(e,n,l,s){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Tl])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Ht(e.nextSibling),e===null)break}return null}function h0(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Ht(e.nextSibling),e===null))return null;return e}function mm(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ht(e.nextSibling),e===null))return null;return e}function $r(e){return e.data==="$?"||e.data==="$~"}function Wr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function g0(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var s=function(){n(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Ht(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var jr=null;function pm(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Ht(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function hm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function gm(e,n,l){switch(n=Ea(l),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function no(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ts(e)}var Vt=new Map,ym=new Set;function _a(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vn=k.d;k.d={f:y0,r:v0,D:S0,C:T0,L:x0,m:E0,X:C0,S:_0,M:A0};function y0(){var e=vn.f(),n=pa();return e||n}function v0(e){var n=Ei(e);n!==null&&n.tag===5&&n.type==="form"?kf(n):vn.r(e)}var el=typeof document>"u"?null:document;function vm(e,n,l){var s=el;if(s&&typeof n=="string"&&n){var f=Dt(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),ym.has(f)||(ym.add(f),e={rel:e,crossOrigin:l,href:n},s.querySelector(f)===null&&(n=s.createElement("link"),ut(n,"link",e),et(n),s.head.appendChild(n)))}}function S0(e){vn.D(e),vm("dns-prefetch",e,null)}function T0(e,n){vn.C(e,n),vm("preconnect",e,n)}function x0(e,n,l){vn.L(e,n,l);var s=el;if(s&&e&&n){var f='link[rel="preload"][as="'+Dt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+Dt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+Dt(l.imageSizes)+'"]')):f+='[href="'+Dt(e)+'"]';var m=f;switch(n){case"style":m=tl(e);break;case"script":m=nl(e)}Vt.has(m)||(e=x({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Vt.set(m,e),s.querySelector(f)!==null||n==="style"&&s.querySelector(io(m))||n==="script"&&s.querySelector(lo(m))||(n=s.createElement("link"),ut(n,"link",e),et(n),s.head.appendChild(n)))}}function E0(e,n){vn.m(e,n);var l=el;if(l&&e){var s=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Dt(s)+'"][href="'+Dt(e)+'"]',m=f;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=nl(e)}if(!Vt.has(m)&&(e=x({rel:"modulepreload",href:e},n),Vt.set(m,e),l.querySelector(f)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(lo(m)))return}s=l.createElement("link"),ut(s,"link",e),et(s),l.head.appendChild(s)}}}function _0(e,n,l){vn.S(e,n,l);var s=el;if(s&&e){var f=_i(s).hoistableStyles,m=tl(e);n=n||"default";var S=f.get(m);if(!S){var _={loading:0,preload:null};if(S=s.querySelector(io(m)))_.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Vt.get(m))&&eu(e,l);var C=S=s.createElement("link");et(C),ut(C,"link",e),C._p=new Promise(function(R,L){C.onload=R,C.onerror=L}),C.addEventListener("load",function(){_.loading|=1}),C.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Ca(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:_},f.set(m,S)}}}function C0(e,n){vn.X(e,n);var l=el;if(l&&e){var s=_i(l).hoistableScripts,f=nl(e),m=s.get(f);m||(m=l.querySelector(lo(f)),m||(e=x({src:e,async:!0},n),(n=Vt.get(f))&&tu(e,n),m=l.createElement("script"),et(m),ut(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(f,m))}}function A0(e,n){vn.M(e,n);var l=el;if(l&&e){var s=_i(l).hoistableScripts,f=nl(e),m=s.get(f);m||(m=l.querySelector(lo(f)),m||(e=x({src:e,async:!0,type:"module"},n),(n=Vt.get(f))&&tu(e,n),m=l.createElement("script"),et(m),ut(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(f,m))}}function Sm(e,n,l,s){var f=(f=he.current)?_a(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=tl(l.href),l=_i(f).hoistableStyles,s=l.get(n),s||(s={type:"style",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=tl(l.href);var m=_i(f).hoistableStyles,S=m.get(e);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,S),(m=f.querySelector(io(e)))&&!m._p&&(S.instance=m,S.state.loading=5),Vt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Vt.set(e,l),m||N0(f,e,l,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=nl(l),l=_i(f).hoistableScripts,s=l.get(n),s||(s={type:"script",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function tl(e){return'href="'+Dt(e)+'"'}function io(e){return'link[rel="stylesheet"]['+e+"]"}function Tm(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function N0(e,n,l,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),ut(n,"link",l),et(n),e.head.appendChild(n))}function nl(e){return'[src="'+Dt(e)+'"]'}function lo(e){return"script[async]"+e}function xm(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Dt(l.href)+'"]');if(s)return n.instance=s,et(s),s;var f=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),et(s),ut(s,"style",f),Ca(s,l.precedence,e),n.instance=s;case"stylesheet":f=tl(l.href);var m=e.querySelector(io(f));if(m)return n.state.loading|=4,n.instance=m,et(m),m;s=Tm(l),(f=Vt.get(f))&&eu(s,f),m=(e.ownerDocument||e).createElement("link"),et(m);var S=m;return S._p=new Promise(function(_,C){S.onload=_,S.onerror=C}),ut(m,"link",s),n.state.loading|=4,Ca(m,l.precedence,e),n.instance=m;case"script":return m=nl(l.src),(f=e.querySelector(lo(m)))?(n.instance=f,et(f),f):(s=l,(f=Vt.get(m))&&(s=x({},l),tu(s,f)),e=e.ownerDocument||e,f=e.createElement("script"),et(f),ut(f,"link",s),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Ca(s,l.precedence,e));return n.instance}function Ca(e,n,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=s.length?s[s.length-1]:null,m=f,S=0;S<s.length;S++){var _=s[S];if(_.dataset.precedence===n)m=_;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function eu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function tu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Aa=null;function Em(e,n,l){if(Aa===null){var s=new Map,f=Aa=new Map;f.set(l,s)}else f=Aa,s=f.get(l),s||(s=new Map,f.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var m=l[f];if(!(m[Tl]||m[ot]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(n)||"";S=e+S;var _=s.get(S);_?_.push(m):s.set(S,[m])}}return s}function _m(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function M0(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Cm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function w0(e,n,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=tl(s.href),m=n.querySelector(io(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Na.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=m,et(m);return}m=n.ownerDocument||n,s=Tm(s),(f=Vt.get(f))&&eu(s,f),m=m.createElement("link"),et(m);var S=m;S._p=new Promise(function(_,C){S.onload=_,S.onerror=C}),ut(m,"link",s),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Na.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var nu=0;function b0(e,n){return e.stylesheets&&e.count===0&&wa(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&wa(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&nu===0&&(nu=62500*u0());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wa(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>nu?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(f)}}:null}function Na(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ma=null;function wa(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ma=new Map,n.forEach(R0,e),Ma=null,Na.call(e))}function R0(e,n){if(!(n.state.loading&4)){var l=Ma.get(e);if(l)var s=l.get(null);else{l=new Map,Ma.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var S=f[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),s=S)}s&&l.set(null,s)}f=n.instance,S=f.getAttribute("data-precedence"),m=l.get(S)||s,m===s&&l.set(null,f),l.set(S,f),this.count++,s=Na.bind(this),f.addEventListener("load",s),f.addEventListener("error",s),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var oo={$$typeof:z,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function I0(e,n,l,s,f,m,S,_,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$a(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$a(0),this.hiddenUpdates=$a(null),this.identifierPrefix=s,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Am(e,n,l,s,f,m,S,_,C,R,L,H){return e=new I0(e,n,l,S,C,R,L,H,_),n=1,m===!0&&(n|=24),m=Ct(3,null,null,n),e.current=m,m.stateNode=e,n=Ls(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:l,cache:n},Hs(m),e}function Nm(e){return e?(e=Ui,e):Ui}function Mm(e,n,l,s,f,m){f=Nm(f),s.context===null?s.context=f:s.pendingContext=f,s=Rn(n),s.payload={element:l},m=m===void 0?null:m,m!==null&&(s.callback=m),l=In(e,s,n),l!==null&&(Tt(l,e,n),ql(l,e,n))}function wm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function iu(e,n){wm(e,n),(e=e.alternate)&&wm(e,n)}function bm(e){if(e.tag===13||e.tag===31){var n=ni(e,67108864);n!==null&&Tt(n,e,67108864),iu(e,67108864)}}function Rm(e){if(e.tag===13||e.tag===31){var n=bt();n=Wa(n);var l=ni(e,n);l!==null&&Tt(l,e,n),iu(e,n)}}var ba=!0;function D0(e,n,l,s){var f=D.T;D.T=null;var m=k.p;try{k.p=2,lu(e,n,l,s)}finally{k.p=m,D.T=f}}function U0(e,n,l,s){var f=D.T;D.T=null;var m=k.p;try{k.p=8,lu(e,n,l,s)}finally{k.p=m,D.T=f}}function lu(e,n,l,s){if(ba){var f=ou(s);if(f===null)Fr(e,n,s,Ra,l),Dm(e,s);else if(L0(f,e,n,l,s))s.stopPropagation();else if(Dm(e,s),n&4&&-1<k0.indexOf(e)){for(;f!==null;){var m=Ei(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=$n(m.pendingLanes);if(S!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var C=1<<31-Et(S);_.entanglements[1]|=C,S&=~C}Zt(m),(Re&6)===0&&(da=lt()+500,jl(0))}}break;case 31:case 13:_=ni(m,2),_!==null&&Tt(_,m,2),pa(),iu(m,2)}if(m=ou(s),m===null&&Fr(e,n,s,Ra,l),m===f)break;f=m}f!==null&&s.stopPropagation()}else Fr(e,n,s,null,l)}}function ou(e){return e=ss(e),au(e)}var Ra=null;function au(e){if(Ra=null,e=xi(e),e!==null){var n=d(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=p(n),e!==null)return e;e=null}else if(l===31){if(e=g(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ra=e,null}function Im(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jt()){case vo:return 2;case So:return 8;case mt:case Rt:return 32;case gl:return 268435456;default:return 32}default:return 32}}var su=!1,Bn=null,On=null,Fn=null,ao=new Map,so=new Map,Jn=[],k0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dm(e,n){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":ao.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":so.delete(n.pointerId)}}function ro(e,n,l,s,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:l,eventSystemFlags:s,nativeEvent:m,targetContainers:[f]},n!==null&&(n=Ei(n),n!==null&&bm(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function L0(e,n,l,s,f){switch(n){case"focusin":return Bn=ro(Bn,e,n,l,s,f),!0;case"dragenter":return On=ro(On,e,n,l,s,f),!0;case"mouseover":return Fn=ro(Fn,e,n,l,s,f),!0;case"pointerover":var m=f.pointerId;return ao.set(m,ro(ao.get(m)||null,e,n,l,s,f)),!0;case"gotpointercapture":return m=f.pointerId,so.set(m,ro(so.get(m)||null,e,n,l,s,f)),!0}return!1}function Um(e){var n=xi(e.target);if(n!==null){var l=d(n);if(l!==null){if(n=l.tag,n===13){if(n=p(l),n!==null){e.blockedOn=n,Yu(e.priority,function(){Rm(l)});return}}else if(n===31){if(n=g(l),n!==null){e.blockedOn=n,Yu(e.priority,function(){Rm(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ia(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=ou(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);as=s,l.target.dispatchEvent(s),as=null}else return n=Ei(l),n!==null&&bm(n),e.blockedOn=l,!1;n.shift()}return!0}function km(e,n,l){Ia(e)&&l.delete(n)}function G0(){su=!1,Bn!==null&&Ia(Bn)&&(Bn=null),On!==null&&Ia(On)&&(On=null),Fn!==null&&Ia(Fn)&&(Fn=null),ao.forEach(km),so.forEach(km)}function Da(e,n){e.blockedOn===n&&(e.blockedOn=null,su||(su=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,G0)))}var Ua=null;function Lm(e){Ua!==e&&(Ua=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ua===e&&(Ua=null);for(var n=0;n<e.length;n+=3){var l=e[n],s=e[n+1],f=e[n+2];if(typeof s!="function"){if(au(s||l)===null)continue;break}var m=Ei(l);m!==null&&(e.splice(n,3),n-=3,or(m,{pending:!0,data:f,method:l.method,action:s},s,f))}}))}function il(e){function n(C){return Da(C,e)}Bn!==null&&Da(Bn,e),On!==null&&Da(On,e),Fn!==null&&Da(Fn,e),ao.forEach(n),so.forEach(n);for(var l=0;l<Jn.length;l++){var s=Jn[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Jn.length&&(l=Jn[0],l.blockedOn===null);)Um(l),l.blockedOn===null&&Jn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var f=l[s],m=l[s+1],S=f[pt]||null;if(typeof m=="function")S||Lm(l);else if(S){var _=null;if(m&&m.hasAttribute("formAction")){if(f=m,S=m[pt]||null)_=S.formAction;else if(au(f)!==null)continue}else _=S.action;typeof _=="function"?l[s+1]=_:(l.splice(s,3),s-=3),Lm(l)}}}function Gm(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return f=S})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function ru(e){this._internalRoot=e}ka.prototype.render=ru.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var l=n.current,s=bt();Mm(l,s,e,n,null,null)},ka.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Mm(e.current,2,null,e,null,null),pa(),n[Ti]=null}};function ka(e){this._internalRoot=e}ka.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ju();e={blockedOn:null,target:e,priority:n};for(var l=0;l<Jn.length&&n!==0&&n<Jn[l].priority;l++);Jn.splice(l,0,e),l===0&&Um(e)}};var qm=t.version;if(qm!=="19.2.0")throw Error(a(527,qm,"19.2.0"));k.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var q0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var La=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!La.isDisabled&&La.supportsFiber)try{yl=La.inject(q0),xt=La}catch{}}return co.createRoot=function(e,n){if(!u(e))throw Error(a(299));var l=!1,s="",f=Ff,m=Jf,S=Yf;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=Am(e,1,!1,null,null,l,s,null,f,m,S,Gm),e[Ti]=n.current,Or(e),new ru(n)},co.hydrateRoot=function(e,n,l){if(!u(e))throw Error(a(299));var s=!1,f="",m=Ff,S=Jf,_=Yf,C=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(C=l.formState)),n=Am(e,1,!0,n,l??null,s,f,C,m,S,_,Gm),n.context=Nm(null),l=n.current,s=bt(),s=Wa(s),f=Rn(s),f.callback=null,In(l,f,s),l=s,n.current.lanes=l,Sl(n,l),Zt(n),e[Ti]=n.current,Or(e),new ka(n)},co.version="19.2.0",co}var Km;function Q0(){if(Km)return fu.exports;Km=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),fu.exports=K0(),fu.exports}var X0=Q0();const Z0=Uh(X0);var $t=(i=>(i[i.START_SCREEN=0]="START_SCREEN",i[i.LOADING_SCENE=1]="LOADING_SCENE",i[i.PLAYING=2]="PLAYING",i[i.GAME_OVER=3]="GAME_OVER",i[i.ERROR=4]="ERROR",i))($t||{});let $0,W0;function j0(){return{geminiUrl:$0,vertexUrl:W0}}function ev(i,t,o,a){var u,d;if(!i?.baseUrl){const p=j0();return t?(u=p.vertexUrl)!==null&&u!==void 0?u:o:(d=p.geminiUrl)!==null&&d!==void 0?d:a}return i.baseUrl}class Tn{}function X(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(a,u)=>{if(Object.prototype.hasOwnProperty.call(t,u)){const d=t[u];return d!=null?String(d):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function c(i,t,o){for(let d=0;d<t.length-1;d++){const p=t[d];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];c(v,t.slice(d+1),o[h])}else for(const h of y)c(h,t.slice(d+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(d+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],u=i[a];if(u!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===u)return;if(typeof u=="object"&&typeof o=="object"&&u!==null&&o!==null)Object.assign(u,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function r(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return o;const u=t[a];if(u.endsWith("[]")){const d=u.slice(0,-2);if(d in i){const p=i[d];return Array.isArray(p)?p.map(g=>r(g,t.slice(a+1),o)):o}else return o}else i=i[u]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function tv(i,t){for(const[o,a]of Object.entries(t)){const u=o.split("."),d=a.split("."),p=new Set;let g=-1;for(let y=0;y<u.length;y++)if(u[y]==="*"){g=y;break}if(g!==-1&&d.length>g)for(let y=g;y<d.length;y++){const h=d[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}vu(i,u,d,0,p)}}function vu(i,t,o,a,u){if(a>=t.length||typeof i!="object"||i===null)return;const d=t[a];if(d.endsWith("[]")){const p=d.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])vu(y,t,o,a+1,u)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!u.has(h)),y={};for(const h of g)y[h]=p[h];for(const[h,v]of Object.entries(y)){const x=[];for(const E of o.slice(a))E==="*"?x.push(h):x.push(E);c(p,x,v)}for(const h of g)delete p[h]}}else{const p=i;d in p&&vu(p[d],t,o,a+1,u)}}function bu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}function nv(i){const t={},o=r(i,["operationName"]);o!=null&&c(t,["operationName"],o);const a=r(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function iv(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const d=r(i,["error"]);d!=null&&c(t,["error"],d);const p=r(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],ov(p)),t}function lv(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const d=r(i,["error"]);d!=null&&c(t,["error"],d);const p=r(i,["response"]);return p!=null&&c(t,["response"],av(p)),t}function ov(i){const t={},o=r(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>sv(p))),c(t,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(t,["raiMediaFilteredReasons"],u),t}function av(i){const t={},o=r(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>rv(p))),c(t,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(t,["raiMediaFilteredReasons"],u),t}function sv(i){const t={},o=r(i,["video"]);return o!=null&&c(t,["video"],pv(o)),t}function rv(i){const t={},o=r(i,["_self"]);return o!=null&&c(t,["video"],hv(o)),t}function uv(i){const t={},o=r(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function cv(i){const t={},o=r(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function fv(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const d=r(i,["error"]);d!=null&&c(t,["error"],d);const p=r(i,["response"]);return p!=null&&c(t,["response"],dv(p)),t}function dv(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["parent"]);a!=null&&c(t,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(t,["documentName"],u),t}function kh(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const d=r(i,["error"]);d!=null&&c(t,["error"],d);const p=r(i,["response"]);return p!=null&&c(t,["response"],mv(p)),t}function mv(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["parent"]);a!=null&&c(t,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(t,["documentName"],u),t}function pv(i){const t={},o=r(i,["uri"]);o!=null&&c(t,["uri"],o);const a=r(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],bu(a));const u=r(i,["encoding"]);return u!=null&&c(t,["mimeType"],u),t}function hv(i){const t={},o=r(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],bu(a));const u=r(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}var Qm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Qm||(Qm={}));var Xm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Xm||(Xm={}));var Zm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Zm||(Zm={}));var ge;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(ge||(ge={}));var $m;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})($m||($m={}));var Wm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Wm||(Wm={}));var jm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(jm||(jm={}));var ep;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ep||(ep={}));var tp;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(tp||(tp={}));var np;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(np||(np={}));var ip;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ip||(ip={}));var lp;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(lp||(lp={}));var op;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(op||(op={}));var ap;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(ap||(ap={}));var sp;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(sp||(sp={}));var rp;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(rp||(rp={}));var up;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(up||(up={}));var cp;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(cp||(cp={}));var fp;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(fp||(fp={}));var Ha;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Ha||(Ha={}));var dp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dp||(dp={}));var mp;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(mp||(mp={}));var pp;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(pp||(pp={}));var Su;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Su||(Su={}));var hp;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(hp||(hp={}));var gp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(gp||(gp={}));var yp;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(yp||(yp={}));var vp;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(vp||(vp={}));var Sp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Sp||(Sp={}));var Tp;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Tp||(Tp={}));var xp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(xp||(xp={}));var Ep;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Ep||(Ep={}));var _p;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(_p||(_p={}));var Cp;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Cp||(Cp={}));var Ap;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ap||(Ap={}));var Np;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Np||(Np={}));var Mp;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Mp||(Mp={}));var wp;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(wp||(wp={}));var bp;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(bp||(bp={}));var Rp;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Rp||(Rp={}));var Ip;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Ip||(Ip={}));var Dp;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Dp||(Dp={}));var Up;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Up||(Up={}));var kp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(kp||(kp={}));var Lp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Lp||(Lp={}));var Gp;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Gp||(Gp={}));var qp;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(qp||(qp={}));var Pp;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Pp||(Pp={}));var Hp;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Hp||(Hp={}));var Vp;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Vp||(Vp={}));var zp;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(zp||(zp={}));var Bp;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Bp||(Bp={}));var Op;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Op||(Op={}));var Fp;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Fp||(Fp={}));var ll;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(ll||(ll={}));class Tu{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class fo{get text(){var t,o,a,u,d,p,g,y;if(((u=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const x=[];for(const E of(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[A,G]of Object.entries(E))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(G!==null||G!==void 0)&&x.push(A);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,h+=E.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,o,a,u,d,p,g,y;if(((u=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const x of(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,A]of Object.entries(x))E!=="inlineData"&&(A!==null||A!==void 0)&&v.push(E);x.inlineData&&typeof x.inlineData.data=="string"&&(h+=atob(x.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,o,a,u,d,p,g,y;if(((u=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if(h?.length!==0)return h}get executableCode(){var t,o,a,u,d,p,g,y,h;if(((u=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if(v?.length!==0)return(h=v?.[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,o,a,u,d,p,g,y,h;if(((u=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if(v?.length!==0)return(h=v?.[0])===null||h===void 0?void 0:h.output}}class Jp{}class Yp{}class gv{}class yv{}class vv{}class Sv{}class Kp{}class Qp{}class Xp{}class Tv{}class Va{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Va;let u;const d=t;return o?u=lv(d):u=iv(d),Object.assign(a,u),a}}class Zp{}class $p{}class Wp{}class xv{}class Ev{}class _v{}class Ru{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Ru,d=fv(t);return Object.assign(a,d),a}}class Cv{}class Av{}class Nv{}class jp{}class Mv{get text(){var t,o,a;let u="",d=!1;const p=[];for(const g of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,u+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var t,o,a;let u="";const d=[];for(const p of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&d.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(u+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class wv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Iu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Iu,d=kh(t);return Object.assign(a,d),a}}function be(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Lh(i,t){const o=be(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Gh(i){return Array.isArray(i)?i.map(t=>za(t)):[za(i)]}function za(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function qh(i){const t=za(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Ph(i){const t=za(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function eh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Hh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>eh(t)):[eh(i)]}function xu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function th(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function nh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function ft(i){if(i==null)throw new Error("ContentUnion is required");return xu(i)?i:{role:"user",parts:Hh(i)}}function Du(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=ft(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=ft(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>ft(o)):[ft(t)]}function zt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(th(i)||nh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ft(i)]}const t=[],o=[],a=xu(i[0]);for(const u of i){const d=xu(u);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)t.push(u);else{if(th(u)||nh(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(u)}}return a||t.push({role:"user",parts:Hh(o)}),t}function bv(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(ge).includes(o[0].toUpperCase())?o[0].toUpperCase():ge.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(ge).includes(a.toUpperCase())?a.toUpperCase():ge.TYPE_UNSPECIFIED})}}function ol(i){const t={},o=["items"],a=["anyOf"],u=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(t.nullable=!0,i=d[1]):d[1].type==="null"&&(t.nullable=!0,i=d[0])),i.type instanceof Array&&bv(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(ge).includes(g.toUpperCase())?g.toUpperCase():ge.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=ol(g);else if(a.includes(p)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(ol(h))}t[p]=y}else if(u.includes(p)){const y={};for(const[h,v]of Object.entries(g))y[h]=ol(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Uu(i){return ol(i)}function ku(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Lu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function cl(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ol(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ol(t.response));return i}function fl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function Rv(i,t,o,a=1){const u=!t.startsWith(`${o}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:u?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:u?`${o}/${t}`:t}function xn(i,t){if(typeof t!="string")throw new Error("name must be a string");return Rv(i,t,"cachedContents")}function Vh(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Qn(i){return bu(i)}function Iv(i){return i!=null&&typeof i=="object"&&"name"in i}function Dv(i){return i!=null&&typeof i=="object"&&"video"in i}function Uv(i){return i!=null&&typeof i=="object"&&"uri"in i}function zh(i){var t;let o;if(Iv(i)&&(o=i.name),!(Uv(i)&&(o=i.uri,o===void 0))&&!(Dv(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const u=o.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${o}`);o=u[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Bh(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function Oh(i){for(const t of["models","tunedModels","publisherModels"])if(kv(i,t))return i[t];return[]}function kv(i,t){return i!==null&&typeof i=="object"&&t in i}function Lv(i,t={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function Gv(i,t={}){const o=[],a=new Set;for(const u of i){const d=u.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const p=Lv(u,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function Fh(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,u=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(u>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function qv(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Jh(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const u=o.inlinedResponses;if(!Array.isArray(u)||u.length===0)return i;let d=!1;for(const p of u){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function dl(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Yh(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function Pv(i){const t={},o=r(i,["responsesFile"]);o!=null&&c(t,["fileName"],o);const a=r(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>vS(p))),c(t,["inlinedResponses"],d)}const u=r(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["inlinedEmbedContentResponses"],d)}return t}function Hv(i){const t={},o=r(i,["predictionsFormat"]);o!=null&&c(t,["format"],o);const a=r(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const u=r(i,["bigqueryDestination","outputUri"]);return u!=null&&c(t,["bigqueryUri"],u),t}function Vv(i){const t={},o=r(i,["format"]);o!=null&&c(t,["predictionsFormat"],o);const a=r(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const u=r(i,["bigqueryUri"]);if(u!=null&&c(t,["bigqueryDestination","outputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(r(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function qa(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const u=r(i,["metadata","state"]);u!=null&&c(t,["state"],Yh(u));const d=r(i,["metadata","createTime"]);d!=null&&c(t,["createTime"],d);const p=r(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=r(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=r(i,["metadata","model"]);y!=null&&c(t,["model"],y);const h=r(i,["metadata","output"]);return h!=null&&c(t,["dest"],Pv(Jh(h))),t}function Eu(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["displayName"]);a!=null&&c(t,["displayName"],a);const u=r(i,["state"]);u!=null&&c(t,["state"],Yh(u));const d=r(i,["error"]);d!=null&&c(t,["error"],d);const p=r(i,["createTime"]);p!=null&&c(t,["createTime"],p);const g=r(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=r(i,["endTime"]);y!=null&&c(t,["endTime"],y);const h=r(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const v=r(i,["model"]);v!=null&&c(t,["model"],v);const x=r(i,["inputConfig"]);x!=null&&c(t,["src"],zv(x));const E=r(i,["outputConfig"]);E!=null&&c(t,["dest"],Hv(Jh(E)));const A=r(i,["completionStats"]);return A!=null&&c(t,["completionStats"],A),t}function zv(i){const t={},o=r(i,["instancesFormat"]);o!=null&&c(t,["format"],o);const a=r(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const u=r(i,["bigquerySource","inputUri"]);return u!=null&&c(t,["bigqueryUri"],u),t}function Bv(i,t){const o={};if(r(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=r(t,["fileName"]);a!=null&&c(o,["fileName"],a);const u=r(t,["inlinedRequests"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>yS(i,p))),c(o,["requests","requests"],d)}return o}function Ov(i){const t={},o=r(i,["format"]);o!=null&&c(t,["instancesFormat"],o);const a=r(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const u=r(i,["bigqueryUri"]);if(u!=null&&c(t,["bigquerySource","inputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Fv(i){const t={},o=r(i,["data"]);if(o!=null&&c(t,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Jv(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],dl(i,a)),o}function Yv(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],dl(i,a)),o}function Kv(i){const t={},o=r(i,["content"]);o!=null&&c(t,["content"],o);const a=r(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],Qv(a));const u=r(i,["tokenCount"]);u!=null&&c(t,["tokenCount"],u);const d=r(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const p=r(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=r(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=r(i,["index"]);y!=null&&c(t,["index"],y);const h=r(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=r(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),c(t,["safetyRatings"],E)}const x=r(i,["urlContextMetadata"]);return x!=null&&c(t,["urlContextMetadata"],x),t}function Qv(i){const t={},o=r(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),c(t,["citations"],a)}return t}function Kh(i){const t={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>AS(d))),c(t,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(t,["role"],a),t}function Xv(i,t){const o={},a=r(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),r(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function Zv(i,t){const o={},a=r(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const u=r(i,["dest"]);return t!==void 0&&u!=null&&c(t,["outputConfig"],Vv(qv(u))),o}function ih(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],be(i,a));const u=r(t,["src"]);u!=null&&c(o,["batch","inputConfig"],Bv(i,Fh(i,u)));const d=r(t,["config"]);return d!=null&&Xv(d,o),o}function $v(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["model"],be(i,a));const u=r(t,["src"]);u!=null&&c(o,["inputConfig"],Ov(Fh(i,u)));const d=r(t,["config"]);return d!=null&&Zv(d,o),o}function Wv(i,t){const o={},a=r(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),o}function jv(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],be(i,a));const u=r(t,["src"]);u!=null&&c(o,["batch","inputConfig"],aS(i,u));const d=r(t,["config"]);return d!=null&&Wv(d,o),o}function eS(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],dl(i,a)),o}function tS(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],dl(i,a)),o}function nS(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["name"]);a!=null&&c(t,["name"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const d=r(i,["error"]);return d!=null&&c(t,["error"],d),t}function iS(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["name"]);a!=null&&c(t,["name"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const d=r(i,["error"]);return d!=null&&c(t,["error"],d),t}function lS(i,t){const o={},a=r(t,["contents"]);if(a!=null){let d=Du(i,a);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["requests[]","request","content"],d)}const u=r(t,["config"]);return u!=null&&(c(o,["_self"],oS(u,o)),tv(o,{"requests[].*":"requests[].request.*"})),o}function oS(i,t){const o={},a=r(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const u=r(i,["title"]);t!==void 0&&u!=null&&c(t,["requests[]","title"],u);const d=r(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function aS(i,t){const o={},a=r(t,["fileName"]);a!=null&&c(o,["file_name"],a);const u=r(t,["inlinedRequests"]);return u!=null&&c(o,["requests"],lS(i,u)),o}function sS(i){const t={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function rS(i){const t={},o=r(i,["id"]);o!=null&&c(t,["id"],o);const a=r(i,["args"]);a!=null&&c(t,["args"],a);const u=r(i,["name"]);if(u!=null&&c(t,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function uS(i){const t={},o=r(i,["mode"]);o!=null&&c(t,["mode"],o);const a=r(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function cS(i,t,o){const a={},u=r(t,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],Kh(ft(u)));const d=r(t,["temperature"]);d!=null&&c(a,["temperature"],d);const p=r(t,["topP"]);p!=null&&c(a,["topP"],p);const g=r(t,["topK"]);g!=null&&c(a,["topK"],g);const y=r(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=r(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=r(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const x=r(t,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const E=r(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=r(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const G=r(t,["frequencyPenalty"]);G!=null&&c(a,["frequencyPenalty"],G);const P=r(t,["seed"]);P!=null&&c(a,["seed"],P);const B=r(t,["responseMimeType"]);B!=null&&c(a,["responseMimeType"],B);const O=r(t,["responseSchema"]);O!=null&&c(a,["responseSchema"],Uu(O));const J=r(t,["responseJsonSchema"]);if(J!=null&&c(a,["responseJsonSchema"],J),r(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=r(t,["safetySettings"]);if(o!==void 0&&z!=null){let se=z;Array.isArray(se)&&(se=se.map(re=>NS(re))),c(o,["safetySettings"],se)}const Z=r(t,["tools"]);if(o!==void 0&&Z!=null){let se=fl(Z);Array.isArray(se)&&(se=se.map(re=>wS(cl(re)))),c(o,["tools"],se)}const F=r(t,["toolConfig"]);if(o!==void 0&&F!=null&&c(o,["toolConfig"],MS(F)),r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=r(t,["cachedContent"]);o!==void 0&&W!=null&&c(o,["cachedContent"],xn(i,W));const Y=r(t,["responseModalities"]);Y!=null&&c(a,["responseModalities"],Y);const me=r(t,["mediaResolution"]);me!=null&&c(a,["mediaResolution"],me);const te=r(t,["speechConfig"]);if(te!=null&&c(a,["speechConfig"],ku(te)),r(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=r(t,["thinkingConfig"]);le!=null&&c(a,["thinkingConfig"],le);const ye=r(t,["imageConfig"]);return ye!=null&&c(a,["imageConfig"],gS(ye)),a}function fS(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>Kv(h))),c(t,["candidates"],y)}const u=r(i,["modelVersion"]);u!=null&&c(t,["modelVersion"],u);const d=r(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const p=r(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=r(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function dS(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],dl(i,a)),o}function mS(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],dl(i,a)),o}function pS(i){const t={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function hS(i){const t={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function gS(i){const t={},o=r(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=r(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),r(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function yS(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["request","model"],be(i,a));const u=r(t,["contents"]);if(u!=null){let g=zt(u);Array.isArray(g)&&(g=g.map(y=>Kh(y))),c(o,["request","contents"],g)}const d=r(t,["metadata"]);d!=null&&c(o,["metadata"],d);const p=r(t,["config"]);return p!=null&&c(o,["request","generationConfig"],cS(i,p,r(o,["request"],{}))),o}function vS(i){const t={},o=r(i,["response"]);o!=null&&c(t,["response"],fS(o));const a=r(i,["error"]);return a!=null&&c(t,["error"],a),t}function SS(i,t){const o={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);if(t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),r(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function TS(i,t){const o={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);t!==void 0&&u!=null&&c(t,["_query","pageToken"],u);const d=r(i,["filter"]);return t!==void 0&&d!=null&&c(t,["_query","filter"],d),o}function xS(i){const t={},o=r(i,["config"]);return o!=null&&SS(o,t),t}function ES(i){const t={},o=r(i,["config"]);return o!=null&&TS(o,t),t}function _S(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["operations"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>qa(p))),c(t,["batchJobs"],d)}return t}function CS(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["batchPredictionJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>Eu(p))),c(t,["batchJobs"],d)}return t}function AS(i){const t={},o=r(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(t,["fileData"],sS(d));const p=r(i,["functionCall"]);p!=null&&c(t,["functionCall"],rS(p));const g=r(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=r(i,["inlineData"]);y!=null&&c(t,["inlineData"],Fv(y));const h=r(i,["text"]);h!=null&&c(t,["text"],h);const v=r(i,["thought"]);v!=null&&c(t,["thought"],v);const x=r(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const E=r(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function NS(i){const t={},o=r(i,["category"]);if(o!=null&&c(t,["category"],o),r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=r(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function MS(i){const t={},o=r(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],uS(o));const a=r(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function wS(i){const t={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(x=>x)),c(t,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(t,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=r(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],pS(g));const y=r(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],hS(y));const h=r(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}var Sn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Sn||(Sn={}));class gi{constructor(t,o,a,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,u)}init(t,o,a){var u,d;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o?.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(d=(u=p.config)===null||u===void 0?void 0:u.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}class bS extends Tn{constructor(t){super(),this.apiClient=t,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new gi(Sn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o)}createInlinedGenerateContentRequest(t){const o=ih(this.apiClient,t),a=o._url,u=X("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const x=Object.assign({},v);if(x.systemInstruction){const E=x.systemInstruction;delete x.systemInstruction;const A=x.request;A.systemInstruction=E,x.request=A}h.push(x)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:u,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},u=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${u}`),a.dest===void 0){const d=this.getGcsUri(t),p=this.getBigqueryUri(t);if(d)d.endsWith(".jsonl")?a.dest=`${d.slice(0,-6)}/dest`:a.dest=`${d}_dest_${u}`;else if(p)a.dest=`${p}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=$v(this.apiClient,t);return g=X("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Eu(v))}else{const h=ih(this.apiClient,t);return g=X("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>qa(v))}}async createEmbeddingsInternal(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=jv(this.apiClient,t);return d=X("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>qa(y))}}async get(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=mS(this.apiClient,t);return g=X("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Eu(v))}else{const h=dS(this.apiClient,t);return g=X("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>qa(v))}}async cancel(t){var o,a,u,d;let p="",g={};if(this.apiClient.isVertexAI()){const y=Yv(this.apiClient,t);p=X("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=Jv(this.apiClient,t);p=X("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ES(t);return g=X("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=CS(v),E=new jp;return Object.assign(E,x),E})}else{const h=xS(t);return g=X("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=_S(v),E=new jp;return Object.assign(E,x),E})}}async delete(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=tS(this.apiClient,t);return g=X("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>iS(v))}else{const h=eS(this.apiClient,t);return g=X("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>nS(v))}}}function RS(i){const t={},o=r(i,["data"]);if(o!=null&&c(t,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function lh(i){const t={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>jS(d))),c(t,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(t,["role"],a),t}function IS(i,t){const o={},a=r(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const u=r(i,["expireTime"]);t!==void 0&&u!=null&&c(t,["expireTime"],u);const d=r(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const p=r(i,["contents"]);if(t!==void 0&&p!=null){let v=zt(p);Array.isArray(v)&&(v=v.map(x=>lh(x))),c(t,["contents"],v)}const g=r(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],lh(ft(g)));const y=r(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(x=>tT(x))),c(t,["tools"],v)}const h=r(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],eT(h)),r(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function DS(i,t){const o={},a=r(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const u=r(i,["expireTime"]);t!==void 0&&u!=null&&c(t,["expireTime"],u);const d=r(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const p=r(i,["contents"]);if(t!==void 0&&p!=null){let x=zt(p);Array.isArray(x)&&(x=x.map(E=>E)),c(t,["contents"],x)}const g=r(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],ft(g));const y=r(i,["tools"]);if(t!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(E=>nT(E))),c(t,["tools"],x)}const h=r(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const v=r(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),o}function US(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["model"],Lh(i,a));const u=r(t,["config"]);return u!=null&&IS(u,o),o}function kS(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["model"],Lh(i,a));const u=r(t,["config"]);return u!=null&&DS(u,o),o}function LS(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],xn(i,a)),o}function GS(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],xn(i,a)),o}function qS(i){const t={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function PS(i){const t={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function HS(i){const t={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function VS(i){const t={},o=r(i,["id"]);o!=null&&c(t,["id"],o);const a=r(i,["args"]);a!=null&&c(t,["args"],a);const u=r(i,["name"]);if(u!=null&&c(t,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function zS(i){const t={},o=r(i,["mode"]);o!=null&&c(t,["mode"],o);const a=r(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function BS(i){const t={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(t,["description"],o);const a=r(i,["name"]);a!=null&&c(t,["name"],a);const u=r(i,["parameters"]);u!=null&&c(t,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=r(i,["response"]);p!=null&&c(t,["response"],p);const g=r(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function OS(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],xn(i,a)),o}function FS(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],xn(i,a)),o}function JS(i){const t={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function YS(i){const t={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function KS(i,t){const o={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),o}function QS(i,t){const o={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),o}function XS(i){const t={},o=r(i,["config"]);return o!=null&&KS(o,t),t}function ZS(i){const t={},o=r(i,["config"]);return o!=null&&QS(o,t),t}function $S(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["cachedContents"],d)}return t}function WS(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["cachedContents"],d)}return t}function jS(i){const t={},o=r(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(t,["fileData"],HS(d));const p=r(i,["functionCall"]);p!=null&&c(t,["functionCall"],VS(p));const g=r(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=r(i,["inlineData"]);y!=null&&c(t,["inlineData"],RS(y));const h=r(i,["text"]);h!=null&&c(t,["text"],h);const v=r(i,["thought"]);v!=null&&c(t,["thought"],v);const x=r(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const E=r(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function eT(i){const t={},o=r(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],zS(o));const a=r(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function tT(i){const t={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(x=>x)),c(t,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(t,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=r(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],JS(g));const y=r(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],YS(y));const h=r(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function nT(i){const t={},o=r(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(E=>BS(E))),c(t,["functionDeclarations"],x)}const a=r(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(t,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=r(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=r(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=r(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=r(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=r(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function iT(i,t){const o={},a=r(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const u=r(i,["expireTime"]);return t!==void 0&&u!=null&&c(t,["expireTime"],u),o}function lT(i,t){const o={},a=r(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const u=r(i,["expireTime"]);return t!==void 0&&u!=null&&c(t,["expireTime"],u),o}function oT(i,t){const o={},a=r(t,["name"]);a!=null&&c(o,["_url","name"],xn(i,a));const u=r(t,["config"]);return u!=null&&iT(u,o),o}function aT(i,t){const o={},a=r(t,["name"]);a!=null&&c(o,["_url","name"],xn(i,a));const u=r(t,["config"]);return u!=null&&lT(u,o),o}class sT extends Tn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new gi(Sn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=kS(this.apiClient,t);return g=X("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=US(this.apiClient,t);return g=X("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=FS(this.apiClient,t);return g=X("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=OS(this.apiClient,t);return g=X("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=GS(this.apiClient,t);return g=X("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=PS(v),E=new $p;return Object.assign(E,x),E})}else{const h=LS(this.apiClient,t);return g=X("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=qS(v),E=new $p;return Object.assign(E,x),E})}}async update(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=aT(this.apiClient,t);return g=X("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=oT(this.apiClient,t);return g=X("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ZS(t);return g=X("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=WS(v),E=new Wp;return Object.assign(E,x),E})}else{const h=XS(t);return g=X("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=$S(v),E=new Wp;return Object.assign(E,x),E})}}}function oh(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ve(i){return this instanceof Ve?(this.v=i,this):new Ve(i)}function al(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,t||[]),u,d=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),u[Symbol.asyncIterator]=function(){return this},u;function p(A){return function(G){return Promise.resolve(G).then(A,x)}}function g(A,G){a[A]&&(u[A]=function(P){return new Promise(function(B,O){d.push([A,P,B,O])>1||y(A,P)})},G&&(u[A]=G(u[A])))}function y(A,G){try{h(a[A](G))}catch(P){E(d[0][3],P)}}function h(A){A.value instanceof Ve?Promise.resolve(A.value.v).then(v,x):E(d[0][2],A)}function v(A){y("next",A)}function x(A){y("throw",A)}function E(A,G){A(G),d.shift(),d.length&&y(d[0][0],d[0][1])}}function mo(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof oh=="function"?oh(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(d){o[d]=i[d]&&function(p){return new Promise(function(g,y){p=i[d](p),u(g,y,p.done,p.value)})}}function u(d,p,g,y){Promise.resolve(y).then(function(h){d({value:h,done:g})},p)}}function rT(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:Qh(o)}function Qh(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function uT(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function ah(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")t.push(i[a]),a++;else{const u=[];let d=!0;for(;a<o&&i[a].role==="model";)u.push(i[a]),d&&!Qh(i[a])&&(d=!1),a++;d?t.push(...u):t.pop()}return t}class cT{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new fT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class fT{constructor(t,o,a,u={},d=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=u,this.history=d,this.sendPromise=Promise.resolve(),uT(d)}async sendMessage(t){var o;await this.sendPromise;const a=ft(t.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,p,g;const y=await u,h=(p=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let E=[];v!=null&&(E=(g=v.slice(x))!==null&&g!==void 0?g:[]);const A=h?[h]:[];this.recordHistory(a,A,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(t){var o;await this.sendPromise;const a=ft(t.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const d=await u;return this.processStreamResponse(d,a)}getHistory(t=!1){const o=t?ah(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){var a,u;return al(this,arguments,function*(){var p,g,y,h;const v=[];try{for(var x=!0,E=mo(t),A;A=yield Ve(E.next()),p=A.done,!p;x=!0){h=A.value,x=!1;const G=h;if(rT(G)){const P=(u=(a=G.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content;P!==void 0&&v.push(P)}yield yield Ve(G)}}catch(G){g={error:G}}finally{try{!x&&!p&&(y=E.return)&&(yield Ve(y.call(E)))}finally{if(g)throw g.error}}this.recordHistory(o,v)})}recordHistory(t,o,a){let u=[];o.length>0&&o.every(d=>d.role!==void 0)?u=o:u.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...ah(a)):this.history.push(t),this.history.push(...u)}}class Fa extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Fa.prototype)}}function dT(i){const t={},o=r(i,["file"]);return o!=null&&c(t,["file"],o),t}function mT(i){const t={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function pT(i){const t={},o=r(i,["name"]);return o!=null&&c(t,["_url","file"],zh(o)),t}function hT(i){const t={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function gT(i){const t={},o=r(i,["name"]);return o!=null&&c(t,["_url","file"],zh(o)),t}function yT(i,t){const o={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),o}function vT(i){const t={},o=r(i,["config"]);return o!=null&&yT(o,t),t}function ST(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["files"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["files"],d)}return t}class TT extends Tn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new gi(Sn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=vT(t);return d=X("files",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=ST(y),v=new Cv;return Object.assign(v,h),v})}}async createInternal(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=dT(t);return d=X("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=mT(y),v=new Av;return Object.assign(v,h),v})}}async get(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=gT(t);return d=X("files/{file}",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=pT(t);return d=X("files/{file}",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=hT(y),v=new Nv;return Object.assign(v,h),v})}}}function Pa(i){const t={},o=r(i,["data"]);if(o!=null&&c(t,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function xT(i){const t={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>qT(d))),c(t,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(t,["role"],a),t}function ET(i){const t={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function _T(i){const t={},o=r(i,["id"]);o!=null&&c(t,["id"],o);const a=r(i,["args"]);a!=null&&c(t,["args"],a);const u=r(i,["name"]);if(u!=null&&c(t,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function CT(i){const t={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(t,["description"],o);const a=r(i,["name"]);a!=null&&c(t,["name"],a);const u=r(i,["parameters"]);u!=null&&c(t,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=r(i,["response"]);p!=null&&c(t,["response"],p);const g=r(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function AT(i){const t={},o=r(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=r(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const u=r(i,["audioTimestamp"]);u!=null&&c(t,["audioTimestamp"],u);const d=r(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const p=r(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=r(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=r(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=r(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=r(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const x=r(i,["presencePenalty"]);x!=null&&c(t,["presencePenalty"],x);const E=r(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const A=r(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const G=r(i,["responseModalities"]);G!=null&&c(t,["responseModalities"],G);const P=r(i,["responseSchema"]);P!=null&&c(t,["responseSchema"],P);const B=r(i,["routingConfig"]);B!=null&&c(t,["routingConfig"],B);const O=r(i,["seed"]);O!=null&&c(t,["seed"],O);const J=r(i,["speechConfig"]);J!=null&&c(t,["speechConfig"],Xh(J));const z=r(i,["stopSequences"]);z!=null&&c(t,["stopSequences"],z);const Z=r(i,["temperature"]);Z!=null&&c(t,["temperature"],Z);const F=r(i,["thinkingConfig"]);F!=null&&c(t,["thinkingConfig"],F);const W=r(i,["topK"]);W!=null&&c(t,["topK"],W);const Y=r(i,["topP"]);if(Y!=null&&c(t,["topP"],Y),r(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function NT(i){const t={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function MT(i){const t={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function wT(i,t){const o={},a=r(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const u=r(i,["responseModalities"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=r(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=r(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=r(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=r(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=r(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const x=r(i,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],Lu(x));const E=r(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=r(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const G=r(i,["systemInstruction"]);t!==void 0&&G!=null&&c(t,["setup","systemInstruction"],xT(ft(G)));const P=r(i,["tools"]);if(t!==void 0&&P!=null){let W=fl(P);Array.isArray(W)&&(W=W.map(Y=>HT(cl(Y)))),c(t,["setup","tools"],W)}const B=r(i,["sessionResumption"]);t!==void 0&&B!=null&&c(t,["setup","sessionResumption"],PT(B));const O=r(i,["inputAudioTranscription"]);t!==void 0&&O!=null&&c(t,["setup","inputAudioTranscription"],O);const J=r(i,["outputAudioTranscription"]);t!==void 0&&J!=null&&c(t,["setup","outputAudioTranscription"],J);const z=r(i,["realtimeInputConfig"]);t!==void 0&&z!=null&&c(t,["setup","realtimeInputConfig"],z);const Z=r(i,["contextWindowCompression"]);t!==void 0&&Z!=null&&c(t,["setup","contextWindowCompression"],Z);const F=r(i,["proactivity"]);return t!==void 0&&F!=null&&c(t,["setup","proactivity"],F),o}function bT(i,t){const o={},a=r(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],AT(a));const u=r(i,["responseModalities"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=r(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=r(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=r(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=r(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=r(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const x=r(i,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],Xh(Lu(x)));const E=r(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=r(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const G=r(i,["systemInstruction"]);t!==void 0&&G!=null&&c(t,["setup","systemInstruction"],ft(G));const P=r(i,["tools"]);if(t!==void 0&&P!=null){let W=fl(P);Array.isArray(W)&&(W=W.map(Y=>VT(cl(Y)))),c(t,["setup","tools"],W)}const B=r(i,["sessionResumption"]);t!==void 0&&B!=null&&c(t,["setup","sessionResumption"],B);const O=r(i,["inputAudioTranscription"]);t!==void 0&&O!=null&&c(t,["setup","inputAudioTranscription"],O);const J=r(i,["outputAudioTranscription"]);t!==void 0&&J!=null&&c(t,["setup","outputAudioTranscription"],J);const z=r(i,["realtimeInputConfig"]);t!==void 0&&z!=null&&c(t,["setup","realtimeInputConfig"],z);const Z=r(i,["contextWindowCompression"]);t!==void 0&&Z!=null&&c(t,["setup","contextWindowCompression"],Z);const F=r(i,["proactivity"]);return t!==void 0&&F!=null&&c(t,["setup","proactivity"],F),o}function RT(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["setup","model"],be(i,a));const u=r(t,["config"]);return u!=null&&c(o,["config"],wT(u,o)),o}function IT(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["setup","model"],be(i,a));const u=r(t,["config"]);return u!=null&&c(o,["config"],bT(u,o)),o}function DT(i){const t={},o=r(i,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function UT(i){const t={},o=r(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),c(t,["weightedPrompts"],a)}return t}function kT(i){const t={},o=r(i,["media"]);if(o!=null){let h=Gh(o);Array.isArray(h)&&(h=h.map(v=>Pa(v))),c(t,["mediaChunks"],h)}const a=r(i,["audio"]);a!=null&&c(t,["audio"],Pa(Ph(a)));const u=r(i,["audioStreamEnd"]);u!=null&&c(t,["audioStreamEnd"],u);const d=r(i,["video"]);d!=null&&c(t,["video"],Pa(qh(d)));const p=r(i,["text"]);p!=null&&c(t,["text"],p);const g=r(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=r(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function LT(i){const t={},o=r(i,["media"]);if(o!=null){let h=Gh(o);Array.isArray(h)&&(h=h.map(v=>v)),c(t,["mediaChunks"],h)}const a=r(i,["audio"]);a!=null&&c(t,["audio"],Ph(a));const u=r(i,["audioStreamEnd"]);u!=null&&c(t,["audioStreamEnd"],u);const d=r(i,["video"]);d!=null&&c(t,["video"],qh(d));const p=r(i,["text"]);p!=null&&c(t,["text"],p);const g=r(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=r(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function GT(i){const t={},o=r(i,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const a=r(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const u=r(i,["toolCall"]);u!=null&&c(t,["toolCall"],u);const d=r(i,["toolCallCancellation"]);d!=null&&c(t,["toolCallCancellation"],d);const p=r(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],zT(p));const g=r(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=r(i,["sessionResumptionUpdate"]);return y!=null&&c(t,["sessionResumptionUpdate"],y),t}function qT(i){const t={},o=r(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(t,["fileData"],ET(d));const p=r(i,["functionCall"]);p!=null&&c(t,["functionCall"],_T(p));const g=r(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=r(i,["inlineData"]);y!=null&&c(t,["inlineData"],Pa(y));const h=r(i,["text"]);h!=null&&c(t,["text"],h);const v=r(i,["thought"]);v!=null&&c(t,["thought"],v);const x=r(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const E=r(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function PT(i){const t={},o=r(i,["handle"]);if(o!=null&&c(t,["handle"],o),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Xh(i){const t={},o=r(i,["languageCode"]);o!=null&&c(t,["languageCode"],o);const a=r(i,["voiceConfig"]);if(a!=null&&c(t,["voiceConfig"],a),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function HT(i){const t={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(x=>x)),c(t,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(t,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=r(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],NT(g));const y=r(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],MT(y));const h=r(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function VT(i){const t={},o=r(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(E=>CT(E))),c(t,["functionDeclarations"],x)}const a=r(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(t,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=r(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=r(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=r(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=r(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=r(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function zT(i){const t={},o=r(i,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const a=r(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const u=r(i,["candidatesTokenCount"]);u!=null&&c(t,["responseTokenCount"],u);const d=r(i,["toolUsePromptTokenCount"]);d!=null&&c(t,["toolUsePromptTokenCount"],d);const p=r(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=r(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=r(i,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(G=>G)),c(t,["promptTokensDetails"],A)}const h=r(i,["cacheTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(G=>G)),c(t,["cacheTokensDetails"],A)}const v=r(i,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(G=>G)),c(t,["responseTokensDetails"],A)}const x=r(i,["toolUsePromptTokensDetails"]);if(x!=null){let A=x;Array.isArray(A)&&(A=A.map(G=>G)),c(t,["toolUsePromptTokensDetails"],A)}const E=r(i,["trafficType"]);return E!=null&&c(t,["trafficType"],E),t}function BT(i){const t={},o=r(i,["data"]);if(o!=null&&c(t,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function OT(i){const t={},o=r(i,["content"]);o!=null&&c(t,["content"],o);const a=r(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],FT(a));const u=r(i,["tokenCount"]);u!=null&&c(t,["tokenCount"],u);const d=r(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const p=r(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=r(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=r(i,["index"]);y!=null&&c(t,["index"],y);const h=r(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=r(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),c(t,["safetyRatings"],E)}const x=r(i,["urlContextMetadata"]);return x!=null&&c(t,["urlContextMetadata"],x),t}function FT(i){const t={},o=r(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),c(t,["citations"],a)}return t}function JT(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],be(i,a));const u=r(t,["contents"]);if(u!=null){let d=zt(u);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["contents"],d)}return o}function YT(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["tokensInfo"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),c(t,["tokensInfo"],u)}return t}function KT(i){const t={},o=r(i,["values"]);o!=null&&c(t,["values"],o);const a=r(i,["statistics"]);return a!=null&&c(t,["statistics"],QT(a)),t}function QT(i){const t={},o=r(i,["truncated"]);o!=null&&c(t,["truncated"],o);const a=r(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Ja(i){const t={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>iE(d))),c(t,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(t,["role"],a),t}function XT(i){const t={},o=r(i,["controlType"]);o!=null&&c(t,["controlType"],o);const a=r(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function ZT(i){const t={};if(r(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function $T(i,t){const o={},a=r(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],ft(a));const u=r(i,["tools"]);if(t!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>eg(g))),c(t,["tools"],p)}const d=r(i,["generationConfig"]);return t!==void 0&&d!=null&&c(t,["generationConfig"],Bx(d)),o}function WT(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],be(i,a));const u=r(t,["contents"]);if(u!=null){let p=zt(u);Array.isArray(p)&&(p=p.map(g=>Ja(g))),c(o,["contents"],p)}const d=r(t,["config"]);return d!=null&&ZT(d),o}function jT(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],be(i,a));const u=r(t,["contents"]);if(u!=null){let p=zt(u);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const d=r(t,["config"]);return d!=null&&$T(d,o),o}function ex(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const u=r(i,["cachedContentTokenCount"]);return u!=null&&c(t,["cachedContentTokenCount"],u),t}function tx(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function nx(i,t){const o={},a=r(t,["model"]);return a!=null&&c(o,["_url","name"],be(i,a)),o}function ix(i,t){const o={},a=r(t,["model"]);return a!=null&&c(o,["_url","name"],be(i,a)),o}function lx(i){const t={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function ox(i){const t={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function ax(i,t){const o={},a=r(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const u=r(i,["negativePrompt"]);t!==void 0&&u!=null&&c(t,["parameters","negativePrompt"],u);const d=r(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const p=r(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=r(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=r(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=r(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=r(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const x=r(i,["includeSafetyAttributes"]);t!==void 0&&x!=null&&c(t,["parameters","includeSafetyAttributes"],x);const E=r(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const A=r(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const G=r(i,["outputMimeType"]);t!==void 0&&G!=null&&c(t,["parameters","outputOptions","mimeType"],G);const P=r(i,["outputCompressionQuality"]);t!==void 0&&P!=null&&c(t,["parameters","outputOptions","compressionQuality"],P);const B=r(i,["addWatermark"]);t!==void 0&&B!=null&&c(t,["parameters","addWatermark"],B);const O=r(i,["labels"]);t!==void 0&&O!=null&&c(t,["labels"],O);const J=r(i,["editMode"]);t!==void 0&&J!=null&&c(t,["parameters","editMode"],J);const z=r(i,["baseSteps"]);return t!==void 0&&z!=null&&c(t,["parameters","editConfig","baseSteps"],z),o}function sx(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],be(i,a));const u=r(t,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(t,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>uE(y))),c(o,["instances[0]","referenceImages"],g)}const p=r(t,["config"]);return p!=null&&ax(p,o),o}function rx(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Ya(d))),c(t,["generatedImages"],u)}return t}function ux(i,t){const o={},a=r(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const u=r(i,["title"]);t!==void 0&&u!=null&&c(t,["requests[]","title"],u);const d=r(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function cx(i,t){const o={},a=r(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const u=r(i,["title"]);t!==void 0&&u!=null&&c(t,["instances[]","title"],u);const d=r(i,["outputDimensionality"]);t!==void 0&&d!=null&&c(t,["parameters","outputDimensionality"],d);const p=r(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=r(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),o}function fx(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],be(i,a));const u=r(t,["contents"]);if(u!=null){let g=Du(i,u);Array.isArray(g)&&(g=g.map(y=>y)),c(o,["requests[]","content"],g)}const d=r(t,["config"]);d!=null&&ux(d,o);const p=r(t,["model"]);return p!==void 0&&c(o,["requests[]","model"],be(i,p)),o}function dx(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],be(i,a));const u=r(t,["contents"]);if(u!=null){let p=Du(i,u);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["instances[]","content"],p)}const d=r(t,["config"]);return d!=null&&cx(d,o),o}function mx(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["embeddings"],d)}const u=r(i,["metadata"]);return u!=null&&c(t,["metadata"],u),t}function px(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>KT(p))),c(t,["embeddings"],d)}const u=r(i,["metadata"]);return u!=null&&c(t,["metadata"],u),t}function hx(i){const t={},o=r(i,["endpoint"]);o!=null&&c(t,["name"],o);const a=r(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function gx(i){const t={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function yx(i){const t={},o=r(i,["id"]);o!=null&&c(t,["id"],o);const a=r(i,["args"]);a!=null&&c(t,["args"],a);const u=r(i,["name"]);if(u!=null&&c(t,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function vx(i){const t={},o=r(i,["mode"]);o!=null&&c(t,["mode"],o);const a=r(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Sx(i){const t={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(t,["description"],o);const a=r(i,["name"]);a!=null&&c(t,["name"],a);const u=r(i,["parameters"]);u!=null&&c(t,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=r(i,["response"]);p!=null&&c(t,["response"],p);const g=r(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function Tx(i,t,o){const a={},u=r(t,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],Ja(ft(u)));const d=r(t,["temperature"]);d!=null&&c(a,["temperature"],d);const p=r(t,["topP"]);p!=null&&c(a,["topP"],p);const g=r(t,["topK"]);g!=null&&c(a,["topK"],g);const y=r(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=r(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=r(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const x=r(t,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const E=r(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=r(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const G=r(t,["frequencyPenalty"]);G!=null&&c(a,["frequencyPenalty"],G);const P=r(t,["seed"]);P!=null&&c(a,["seed"],P);const B=r(t,["responseMimeType"]);B!=null&&c(a,["responseMimeType"],B);const O=r(t,["responseSchema"]);O!=null&&c(a,["responseSchema"],Uu(O));const J=r(t,["responseJsonSchema"]);if(J!=null&&c(a,["responseJsonSchema"],J),r(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=r(t,["safetySettings"]);if(o!==void 0&&z!=null){let se=z;Array.isArray(se)&&(se=se.map(re=>cE(re))),c(o,["safetySettings"],se)}const Z=r(t,["tools"]);if(o!==void 0&&Z!=null){let se=fl(Z);Array.isArray(se)&&(se=se.map(re=>yE(cl(re)))),c(o,["tools"],se)}const F=r(t,["toolConfig"]);if(o!==void 0&&F!=null&&c(o,["toolConfig"],gE(F)),r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=r(t,["cachedContent"]);o!==void 0&&W!=null&&c(o,["cachedContent"],xn(i,W));const Y=r(t,["responseModalities"]);Y!=null&&c(a,["responseModalities"],Y);const me=r(t,["mediaResolution"]);me!=null&&c(a,["mediaResolution"],me);const te=r(t,["speechConfig"]);if(te!=null&&c(a,["speechConfig"],ku(te)),r(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=r(t,["thinkingConfig"]);le!=null&&c(a,["thinkingConfig"],le);const ye=r(t,["imageConfig"]);return ye!=null&&c(a,["imageConfig"],Kx(ye)),a}function xx(i,t,o){const a={},u=r(t,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],ft(u));const d=r(t,["temperature"]);d!=null&&c(a,["temperature"],d);const p=r(t,["topP"]);p!=null&&c(a,["topP"],p);const g=r(t,["topK"]);g!=null&&c(a,["topK"],g);const y=r(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=r(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=r(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const x=r(t,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const E=r(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=r(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const G=r(t,["frequencyPenalty"]);G!=null&&c(a,["frequencyPenalty"],G);const P=r(t,["seed"]);P!=null&&c(a,["seed"],P);const B=r(t,["responseMimeType"]);B!=null&&c(a,["responseMimeType"],B);const O=r(t,["responseSchema"]);O!=null&&c(a,["responseSchema"],Uu(O));const J=r(t,["responseJsonSchema"]);J!=null&&c(a,["responseJsonSchema"],J);const z=r(t,["routingConfig"]);z!=null&&c(a,["routingConfig"],z);const Z=r(t,["modelSelectionConfig"]);Z!=null&&c(a,["modelConfig"],Z);const F=r(t,["safetySettings"]);if(o!==void 0&&F!=null){let D=F;Array.isArray(D)&&(D=D.map(k=>k)),c(o,["safetySettings"],D)}const W=r(t,["tools"]);if(o!==void 0&&W!=null){let D=fl(W);Array.isArray(D)&&(D=D.map(k=>eg(cl(k)))),c(o,["tools"],D)}const Y=r(t,["toolConfig"]);o!==void 0&&Y!=null&&c(o,["toolConfig"],Y);const me=r(t,["labels"]);o!==void 0&&me!=null&&c(o,["labels"],me);const te=r(t,["cachedContent"]);o!==void 0&&te!=null&&c(o,["cachedContent"],xn(i,te));const le=r(t,["responseModalities"]);le!=null&&c(a,["responseModalities"],le);const ye=r(t,["mediaResolution"]);ye!=null&&c(a,["mediaResolution"],ye);const se=r(t,["speechConfig"]);se!=null&&c(a,["speechConfig"],jh(ku(se)));const re=r(t,["audioTimestamp"]);re!=null&&c(a,["audioTimestamp"],re);const Be=r(t,["thinkingConfig"]);Be!=null&&c(a,["thinkingConfig"],Be);const ue=r(t,["imageConfig"]);return ue!=null&&c(a,["imageConfig"],Qx(ue)),a}function sh(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],be(i,a));const u=r(t,["contents"]);if(u!=null){let p=zt(u);Array.isArray(p)&&(p=p.map(g=>Ja(g))),c(o,["contents"],p)}const d=r(t,["config"]);return d!=null&&c(o,["generationConfig"],Tx(i,d,o)),o}function rh(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],be(i,a));const u=r(t,["contents"]);if(u!=null){let p=zt(u);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const d=r(t,["config"]);return d!=null&&c(o,["generationConfig"],xx(i,d,o)),o}function uh(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>OT(h))),c(t,["candidates"],y)}const u=r(i,["modelVersion"]);u!=null&&c(t,["modelVersion"],u);const d=r(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const p=r(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=r(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function ch(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>v)),c(t,["candidates"],h)}const u=r(i,["createTime"]);u!=null&&c(t,["createTime"],u);const d=r(i,["modelVersion"]);d!=null&&c(t,["modelVersion"],d);const p=r(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=r(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=r(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function Ex(i,t){const o={};if(r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=r(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const u=r(i,["aspectRatio"]);t!==void 0&&u!=null&&c(t,["parameters","aspectRatio"],u);const d=r(i,["guidanceScale"]);if(t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=r(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=r(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=r(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const h=r(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const v=r(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const x=r(i,["outputMimeType"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","mimeType"],x);const E=r(i,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E),r(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=r(i,["imageSize"]);if(t!==void 0&&A!=null&&c(t,["parameters","sampleImageSize"],A),r(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function _x(i,t){const o={},a=r(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const u=r(i,["negativePrompt"]);t!==void 0&&u!=null&&c(t,["parameters","negativePrompt"],u);const d=r(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const p=r(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=r(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=r(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=r(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=r(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const x=r(i,["includeSafetyAttributes"]);t!==void 0&&x!=null&&c(t,["parameters","includeSafetyAttributes"],x);const E=r(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const A=r(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const G=r(i,["outputMimeType"]);t!==void 0&&G!=null&&c(t,["parameters","outputOptions","mimeType"],G);const P=r(i,["outputCompressionQuality"]);t!==void 0&&P!=null&&c(t,["parameters","outputOptions","compressionQuality"],P);const B=r(i,["addWatermark"]);t!==void 0&&B!=null&&c(t,["parameters","addWatermark"],B);const O=r(i,["labels"]);t!==void 0&&O!=null&&c(t,["labels"],O);const J=r(i,["imageSize"]);t!==void 0&&J!=null&&c(t,["parameters","sampleImageSize"],J);const z=r(i,["enhancePrompt"]);return t!==void 0&&z!=null&&c(t,["parameters","enhancePrompt"],z),o}function Cx(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],be(i,a));const u=r(t,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(t,["config"]);return d!=null&&Ex(d,o),o}function Ax(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],be(i,a));const u=r(t,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(t,["config"]);return d!=null&&_x(d,o),o}function Nx(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>Px(p))),c(t,["generatedImages"],d)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&c(t,["positivePromptSafetyAttributes"],$h(u)),t}function Mx(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>Ya(p))),c(t,["generatedImages"],d)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&c(t,["positivePromptSafetyAttributes"],Wh(u)),t}function wx(i,t){const o={},a=r(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=r(i,["durationSeconds"]);if(t!==void 0&&u!=null&&c(t,["parameters","durationSeconds"],u),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=r(i,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);const p=r(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=r(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),r(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=r(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const h=r(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),r(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=r(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],Ka(v));const x=r(i,["referenceImages"]);if(t!==void 0&&x!=null){let E=x;Array.isArray(E)&&(E=E.map(A=>RE(A))),c(t,["instances[0]","referenceImages"],E)}if(r(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(r(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function bx(i,t){const o={},a=r(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const u=r(i,["outputGcsUri"]);t!==void 0&&u!=null&&c(t,["parameters","storageUri"],u);const d=r(i,["fps"]);t!==void 0&&d!=null&&c(t,["parameters","fps"],d);const p=r(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=r(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=r(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const h=r(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const v=r(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const x=r(i,["pubsubTopic"]);t!==void 0&&x!=null&&c(t,["parameters","pubsubTopic"],x);const E=r(i,["negativePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","negativePrompt"],E);const A=r(i,["enhancePrompt"]);t!==void 0&&A!=null&&c(t,["parameters","enhancePrompt"],A);const G=r(i,["generateAudio"]);t!==void 0&&G!=null&&c(t,["parameters","generateAudio"],G);const P=r(i,["lastFrame"]);t!==void 0&&P!=null&&c(t,["instances[0]","lastFrame"],Jt(P));const B=r(i,["referenceImages"]);if(t!==void 0&&B!=null){let z=B;Array.isArray(z)&&(z=z.map(Z=>IE(Z))),c(t,["instances[0]","referenceImages"],z)}const O=r(i,["mask"]);t!==void 0&&O!=null&&c(t,["instances[0]","mask"],bE(O));const J=r(i,["compressionQuality"]);return t!==void 0&&J!=null&&c(t,["parameters","compressionQuality"],J),o}function Rx(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const d=r(i,["error"]);d!=null&&c(t,["error"],d);const p=r(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],kx(p)),t}function Ix(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const d=r(i,["error"]);d!=null&&c(t,["error"],d);const p=r(i,["response"]);return p!=null&&c(t,["response"],Lx(p)),t}function Dx(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],be(i,a));const u=r(t,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(t,["image"]);d!=null&&c(o,["instances[0]","image"],Ka(d));const p=r(t,["video"]);p!=null&&c(o,["instances[0]","video"],tg(p));const g=r(t,["source"]);g!=null&&Gx(g,o);const y=r(t,["config"]);return y!=null&&wx(y,o),o}function Ux(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],be(i,a));const u=r(t,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(t,["image"]);d!=null&&c(o,["instances[0]","image"],Jt(d));const p=r(t,["video"]);p!=null&&c(o,["instances[0]","video"],ng(p));const g=r(t,["source"]);g!=null&&qx(g,o);const y=r(t,["config"]);return y!=null&&bx(y,o),o}function kx(i){const t={},o=r(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Vx(p))),c(t,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(t,["raiMediaFilteredReasons"],u),t}function Lx(i){const t={},o=r(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>zx(p))),c(t,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(t,["raiMediaFilteredReasons"],u),t}function Gx(i,t){const o={},a=r(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const u=r(i,["image"]);t!==void 0&&u!=null&&c(t,["instances[0]","image"],Ka(u));const d=r(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],tg(d)),o}function qx(i,t){const o={},a=r(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const u=r(i,["image"]);t!==void 0&&u!=null&&c(t,["instances[0]","image"],Jt(u));const d=r(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],ng(d)),o}function Px(i){const t={},o=r(i,["_self"]);o!=null&&c(t,["image"],Xx(o));const a=r(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const u=r(i,["_self"]);return u!=null&&c(t,["safetyAttributes"],$h(u)),t}function Ya(i){const t={},o=r(i,["_self"]);o!=null&&c(t,["image"],Zh(o));const a=r(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const u=r(i,["_self"]);u!=null&&c(t,["safetyAttributes"],Wh(u));const d=r(i,["prompt"]);return d!=null&&c(t,["enhancedPrompt"],d),t}function Hx(i){const t={},o=r(i,["_self"]);o!=null&&c(t,["mask"],Zh(o));const a=r(i,["labels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),c(t,["labels"],u)}return t}function Vx(i){const t={},o=r(i,["video"]);return o!=null&&c(t,["video"],ME(o)),t}function zx(i){const t={},o=r(i,["_self"]);return o!=null&&c(t,["video"],wE(o)),t}function Bx(i){const t={},o=r(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=r(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const u=r(i,["audioTimestamp"]);u!=null&&c(t,["audioTimestamp"],u);const d=r(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const p=r(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=r(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=r(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=r(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=r(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const x=r(i,["presencePenalty"]);x!=null&&c(t,["presencePenalty"],x);const E=r(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const A=r(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const G=r(i,["responseModalities"]);G!=null&&c(t,["responseModalities"],G);const P=r(i,["responseSchema"]);P!=null&&c(t,["responseSchema"],P);const B=r(i,["routingConfig"]);B!=null&&c(t,["routingConfig"],B);const O=r(i,["seed"]);O!=null&&c(t,["seed"],O);const J=r(i,["speechConfig"]);J!=null&&c(t,["speechConfig"],jh(J));const z=r(i,["stopSequences"]);z!=null&&c(t,["stopSequences"],z);const Z=r(i,["temperature"]);Z!=null&&c(t,["temperature"],Z);const F=r(i,["thinkingConfig"]);F!=null&&c(t,["thinkingConfig"],F);const W=r(i,["topK"]);W!=null&&c(t,["topK"],W);const Y=r(i,["topP"]);if(Y!=null&&c(t,["topP"],Y),r(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Ox(i,t){const o={},a=r(t,["model"]);return a!=null&&c(o,["_url","name"],be(i,a)),o}function Fx(i,t){const o={},a=r(t,["model"]);return a!=null&&c(o,["_url","name"],be(i,a)),o}function Jx(i){const t={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function Yx(i){const t={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function Kx(i){const t={},o=r(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=r(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),r(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Qx(i){const t={},o=r(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=r(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const u=r(i,["outputMimeType"]);u!=null&&c(t,["imageOutputOptions","mimeType"],u);const d=r(i,["outputCompressionQuality"]);return d!=null&&c(t,["imageOutputOptions","compressionQuality"],d),t}function Xx(i){const t={},o=r(i,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],Qn(o));const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Zh(i){const t={},o=r(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],Qn(a));const u=r(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}function Ka(i){const t={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=r(i,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],Qn(o));const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Jt(i){const t={},o=r(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=r(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Qn(a));const u=r(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}function Zx(i,t,o){const a={},u=r(t,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const d=r(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=r(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=r(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],Bh(i,g)),a}function $x(i,t,o){const a={},u=r(t,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const d=r(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=r(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=r(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],Bh(i,g)),a}function Wx(i,t){const o={},a=r(t,["config"]);return a!=null&&Zx(i,a,o),o}function jx(i,t){const o={},a=r(t,["config"]);return a!=null&&$x(i,a,o),o}function eE(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["_self"]);if(u!=null){let d=Oh(u);Array.isArray(d)&&(d=d.map(p=>_u(p))),c(t,["models"],d)}return t}function tE(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["_self"]);if(u!=null){let d=Oh(u);Array.isArray(d)&&(d=d.map(p=>Cu(p))),c(t,["models"],d)}return t}function nE(i){const t={},o=r(i,["maskMode"]);o!=null&&c(t,["maskMode"],o);const a=r(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const u=r(i,["maskDilation"]);return u!=null&&c(t,["dilation"],u),t}function _u(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["displayName"]);a!=null&&c(t,["displayName"],a);const u=r(i,["description"]);u!=null&&c(t,["description"],u);const d=r(i,["version"]);d!=null&&c(t,["version"],d);const p=r(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],vE(p));const g=r(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=r(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const h=r(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const v=r(i,["temperature"]);v!=null&&c(t,["temperature"],v);const x=r(i,["maxTemperature"]);x!=null&&c(t,["maxTemperature"],x);const E=r(i,["topP"]);E!=null&&c(t,["topP"],E);const A=r(i,["topK"]);A!=null&&c(t,["topK"],A);const G=r(i,["thinking"]);return G!=null&&c(t,["thinking"],G),t}function Cu(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["displayName"]);a!=null&&c(t,["displayName"],a);const u=r(i,["description"]);u!=null&&c(t,["description"],u);const d=r(i,["versionId"]);d!=null&&c(t,["version"],d);const p=r(i,["deployedModels"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(E=>hx(E))),c(t,["endpoints"],x)}const g=r(i,["labels"]);g!=null&&c(t,["labels"],g);const y=r(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],SE(y));const h=r(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const v=r(i,["checkpoints"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(E=>E)),c(t,["checkpoints"],x)}return t}function iE(i){const t={},o=r(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(t,["fileData"],gx(d));const p=r(i,["functionCall"]);p!=null&&c(t,["functionCall"],yx(p));const g=r(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=r(i,["inlineData"]);y!=null&&c(t,["inlineData"],BT(y));const h=r(i,["text"]);h!=null&&c(t,["text"],h);const v=r(i,["thought"]);v!=null&&c(t,["thought"],v);const x=r(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const E=r(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function lE(i){const t={},o=r(i,["productImage"]);return o!=null&&c(t,["image"],Jt(o)),t}function oE(i,t){const o={},a=r(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const u=r(i,["baseSteps"]);t!==void 0&&u!=null&&c(t,["parameters","baseSteps"],u);const d=r(i,["outputGcsUri"]);t!==void 0&&d!=null&&c(t,["parameters","storageUri"],d);const p=r(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=r(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=r(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const h=r(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const v=r(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const x=r(i,["outputCompressionQuality"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","compressionQuality"],x);const E=r(i,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const A=r(i,["labels"]);return t!==void 0&&A!=null&&c(t,["labels"],A),o}function aE(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],be(i,a));const u=r(t,["source"]);u!=null&&rE(u,o);const d=r(t,["config"]);return d!=null&&oE(d,o),o}function sE(i){const t={},o=r(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>Ya(u))),c(t,["generatedImages"],a)}return t}function rE(i,t){const o={},a=r(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const u=r(i,["personImage"]);t!==void 0&&u!=null&&c(t,["instances[0]","personImage","image"],Jt(u));const d=r(i,["productImages"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>lE(g))),c(t,["instances[0]","productImages"],p)}return o}function uE(i){const t={},o=r(i,["referenceImage"]);o!=null&&c(t,["referenceImage"],Jt(o));const a=r(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const u=r(i,["referenceType"]);u!=null&&c(t,["referenceType"],u);const d=r(i,["maskImageConfig"]);d!=null&&c(t,["maskImageConfig"],nE(d));const p=r(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],XT(p));const g=r(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=r(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function $h(i){const t={},o=r(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=r(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const u=r(i,["contentType"]);return u!=null&&c(t,["contentType"],u),t}function Wh(i){const t={},o=r(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=r(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const u=r(i,["contentType"]);return u!=null&&c(t,["contentType"],u),t}function cE(i){const t={},o=r(i,["category"]);if(o!=null&&c(t,["category"],o),r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=r(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function fE(i){const t={},o=r(i,["image"]);return o!=null&&c(t,["image"],Jt(o)),t}function dE(i,t){const o={},a=r(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const u=r(i,["maxPredictions"]);t!==void 0&&u!=null&&c(t,["parameters","maxPredictions"],u);const d=r(i,["confidenceThreshold"]);t!==void 0&&d!=null&&c(t,["parameters","confidenceThreshold"],d);const p=r(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=r(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=r(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function mE(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],be(i,a));const u=r(t,["source"]);u!=null&&hE(u,o);const d=r(t,["config"]);return d!=null&&dE(d,o),o}function pE(i){const t={},o=r(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>Hx(u))),c(t,["generatedMasks"],a)}return t}function hE(i,t){const o={},a=r(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const u=r(i,["image"]);t!==void 0&&u!=null&&c(t,["instances[0]","image"],Jt(u));const d=r(i,["scribbleImage"]);return t!==void 0&&d!=null&&c(t,["instances[0]","scribble"],fE(d)),o}function jh(i){const t={},o=r(i,["languageCode"]);o!=null&&c(t,["languageCode"],o);const a=r(i,["voiceConfig"]);if(a!=null&&c(t,["voiceConfig"],a),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function gE(i){const t={},o=r(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],vx(o));const a=r(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function yE(i){const t={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(x=>x)),c(t,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(t,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=r(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],Jx(g));const y=r(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],Yx(y));const h=r(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function eg(i){const t={},o=r(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(E=>Sx(E))),c(t,["functionDeclarations"],x)}const a=r(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(t,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=r(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=r(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=r(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=r(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=r(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function vE(i){const t={},o=r(i,["baseModel"]);o!=null&&c(t,["baseModel"],o);const a=r(i,["createTime"]);a!=null&&c(t,["createTime"],a);const u=r(i,["updateTime"]);return u!=null&&c(t,["updateTime"],u),t}function SE(i){const t={},o=r(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const a=r(i,["createTime"]);a!=null&&c(t,["createTime"],a);const u=r(i,["updateTime"]);return u!=null&&c(t,["updateTime"],u),t}function TE(i,t){const o={},a=r(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const u=r(i,["description"]);t!==void 0&&u!=null&&c(t,["description"],u);const d=r(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function xE(i,t){const o={},a=r(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const u=r(i,["description"]);t!==void 0&&u!=null&&c(t,["description"],u);const d=r(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function EE(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","name"],be(i,a));const u=r(t,["config"]);return u!=null&&TE(u,o),o}function _E(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],be(i,a));const u=r(t,["config"]);return u!=null&&xE(u,o),o}function CE(i,t){const o={},a=r(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const u=r(i,["safetyFilterLevel"]);t!==void 0&&u!=null&&c(t,["parameters","safetySetting"],u);const d=r(i,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const p=r(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=r(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=r(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const h=r(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const v=r(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const x=r(i,["labels"]);t!==void 0&&x!=null&&c(t,["labels"],x);const E=r(i,["numberOfImages"]);t!==void 0&&E!=null&&c(t,["parameters","sampleCount"],E);const A=r(i,["mode"]);return t!==void 0&&A!=null&&c(t,["parameters","mode"],A),o}function AE(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],be(i,a));const u=r(t,["image"]);u!=null&&c(o,["instances[0]","image"],Jt(u));const d=r(t,["upscaleFactor"]);d!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],d);const p=r(t,["config"]);return p!=null&&CE(p,o),o}function NE(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Ya(d))),c(t,["generatedImages"],u)}return t}function ME(i){const t={},o=r(i,["uri"]);o!=null&&c(t,["uri"],o);const a=r(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Qn(a));const u=r(i,["encoding"]);return u!=null&&c(t,["mimeType"],u),t}function wE(i){const t={},o=r(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Qn(a));const u=r(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}function bE(i){const t={},o=r(i,["image"]);o!=null&&c(t,["_self"],Jt(o));const a=r(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function RE(i){const t={},o=r(i,["image"]);o!=null&&c(t,["image"],Ka(o));const a=r(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function IE(i){const t={},o=r(i,["image"]);o!=null&&c(t,["image"],Jt(o));const a=r(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function tg(i){const t={},o=r(i,["uri"]);o!=null&&c(t,["uri"],o);const a=r(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],Qn(a));const u=r(i,["mimeType"]);return u!=null&&c(t,["encoding"],u),t}function ng(i){const t={},o=r(i,["uri"]);o!=null&&c(t,["gcsUri"],o);const a=r(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Qn(a));const u=r(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}const DE="Content-Type",UE="X-Server-Timeout",kE="User-Agent",Au="x-goog-api-client",LE="1.30.0",GE=`google-genai-sdk/${LE}`,qE="v1beta1",PE="v1beta",fh=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class HE{constructor(t){var o,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:qE,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:PE,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const u=[this.getRequestUrlInternal(o)];return a&&u.push(this.getBaseResourcePath()),t!==""&&u.push(t),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),u=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))u.searchParams.append(p,String(g));let d={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=t.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,u.toString(),t.abortSignal),this.unaryApiCall(u,d,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[u,d]of Object.entries(o))typeof d=="object"?a[u]=Object.assign(Object.assign({},a[u]),d):d!==void 0&&(a[u]=d);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),u=this.constructUrl(t.path,o,a);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let d={};return d.body=t.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,u.toString(),t.abortSignal),this.streamApiCall(u,d,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,u){if(o&&o.timeout||u){const d=new AbortController,p=d.signal;if(o.timeout&&o?.timeout>0){const g=setTimeout(()=>d.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}u&&u.addEventListener("abort",()=>{d.abort()}),t.signal=p}return o&&o.extraBody!==null&&VE(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async u=>(await dh(u),new Tu(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async u=>(await dh(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(t){var o;return al(this,arguments,function*(){const u=(o=t?.body)===null||o===void 0?void 0:o.getReader(),d=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let p="";for(;;){const{done:g,value:y}=yield Ve(u.read());if(g){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=d.decode(y,{stream:!0});try{const x=JSON.parse(h);if("error"in x){const E=JSON.parse(JSON.stringify(x.error)),A=E.status,G=E.code,P=`got status: ${A}. ${JSON.stringify(x)}`;if(G>=400&&G<600)throw new Fa({message:P,status:G})}}catch(x){if(x.name==="ApiError")throw x}p+=h;let v=p.match(fh);for(;v;){const x=v[1];try{const E=new Response(x,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield Ve(new Tu(E)),p=p.slice(v[0].length),v=p.match(fh)}catch(E){throw new Error(`exception parsing stream chunk ${x}. ${E}`)}}}}finally{u.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=GE+" "+this.clientOptions.userAgentExtra;return t[kE]=o,t[Au]=o,t[DE]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[u,d]of Object.entries(t.headers))a.append(u,d);t.timeout&&t.timeout>0&&a.append(UE,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const u={};o!=null&&(u.mimeType=o.mimeType,u.name=o.name,u.displayName=o.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const d=this.clientOptions.uploader,p=await d.stat(t);u.sizeBytes=String(p.size);const g=(a=o?.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=g;const y={file:u},h=this.getFileName(t),v=X("upload/v1beta/files",y._url),x=await this.fetchUploadUrl(v,u.sizeBytes,u.mimeType,h,y,o?.httpOptions);return d.upload(t,x,this)}async uploadFileToFileSearchStore(t,o,a){var u;const d=this.clientOptions.uploader,p=await d.stat(o),g=String(p.size),y=(u=a?.mimeType)!==null&&u!==void 0?u:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),x={};a?.customMetadata&&(x.customMetadata=a.customMetadata),a?.chunkingConfig&&(x.chunkingConfig=a.chunkingConfig);const E=await this.fetchUploadUrl(h,g,y,v,x,a?.httpOptions);return d.uploadToFileSearchStore(o,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,u,d,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},u?{"X-Goog-Upload-File-Name":u}:{})};const h=await this.request({path:t,body:JSON.stringify(d),httpMethod:"POST",httpOptions:y});if(!h||!h?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h?.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function dh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const u=JSON.stringify(a);throw o>=400&&o<600?new Fa({message:u,status:o}):new Error(u)}}function VE(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,p){const g=Object.assign({},d);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const u=a(o,t);i.body=JSON.stringify(u)}const zE="mcp_used/unknown";let BE=!1;function ig(i){for(const t of i)if(OE(t)||typeof t=="object"&&"inputSchema"in t)return!0;return BE}function lg(i){var t;const o=(t=i[Au])!==null&&t!==void 0?t:"";i[Au]=(o+` ${zE}`).trimStart()}function OE(i){return i!==null&&typeof i=="object"&&i instanceof Gu}function FE(i,t=100){return al(this,arguments,function*(){let a,u=0;for(;u<t;){const d=yield Ve(i.listTools({cursor:a}));for(const p of d.tools)yield yield Ve(p),u++;if(!d.nextCursor)break;a=d.nextCursor}})}class Gu{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Gu(t,o)}async initialize(){var t,o,a,u;if(this.mcpTools.length>0)return;const d={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,mo(FE(v))),h;h=await y.next(),t=h.done,!t;g=!0){u=h.value,g=!1;const x=u;p.push(x);const E=x.name;if(d[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);d[E]=v}}catch(x){o={error:x}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),Gv(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const p=await u.callTool({name:a.name,arguments:a.args},void 0,d);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}async function JE(i,t,o){const a=new wv;let u;o.data instanceof Blob?u=JSON.parse(await o.data.text()):u=JSON.parse(o.data),Object.assign(a,u),t(a)}class YE{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),p=XE(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(z=>{h=z}),x=t.callbacks,E=function(){h({})},A=this.apiClient,G={onopen:E,onmessage:z=>{JE(A,x.onmessage,z)},onerror:(o=x?.onerror)!==null&&o!==void 0?o:function(z){},onclose:(a=x?.onclose)!==null&&a!==void 0?a:function(z){}},P=this.webSocketFactory.create(y,QE(p),G);P.connect(),await v;const J={setup:{model:be(this.apiClient,t.model)}};return P.send(JSON.stringify(J)),new KE(P,this.apiClient)}}class KE{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=UT(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=DT(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(ll.PLAY)}pause(){this.sendPlaybackControl(ll.PAUSE)}stop(){this.sendPlaybackControl(ll.STOP)}resetContext(){this.sendPlaybackControl(ll.RESET_CONTEXT)}close(){this.conn.close()}}function QE(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function XE(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}const ZE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function $E(i,t,o){const a=new Mv;let u;o.data instanceof Blob?u=await o.data.text():o.data instanceof ArrayBuffer?u=new TextDecoder().decode(o.data):u=o.data;const d=JSON.parse(u);if(i.isVertexAI()){const p=GT(d);Object.assign(a,p)}else Object.assign(a,d);t(a)}class WE{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new YE(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,u,d,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const x=this.apiClient.getHeaders();t.config&&t.config.tools&&ig(t.config.tools)&&lg(x);const E=n_(x);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v);else{const te=this.apiClient.getApiKey();let le="BidiGenerateContent",ye="key";te?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),le="BidiGenerateContentConstrained",ye="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${le}?${ye}=${te}`}let A=()=>{};const G=new Promise(te=>{A=te}),P=t.callbacks,B=function(){var te;(te=P?.onopen)===null||te===void 0||te.call(P),A({})},O=this.apiClient,J={onopen:B,onmessage:te=>{$E(O,P.onmessage,te)},onerror:(o=P?.onerror)!==null&&o!==void 0?o:function(te){},onclose:(a=P?.onclose)!==null&&a!==void 0?a:function(te){}},z=this.webSocketFactory.create(v,t_(E),J);z.connect(),await G;let Z=be(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&Z.startsWith("publishers/")){const te=this.apiClient.getProject(),le=this.apiClient.getLocation();Z=`projects/${te}/locations/${le}/`+Z}let F={};this.apiClient.isVertexAI()&&((u=t.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Ha.AUDIO]}:t.config.responseModalities=[Ha.AUDIO]),!((d=t.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const W=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],Y=[];for(const te of W)if(this.isCallableTool(te)){const le=te;Y.push(await le.tool())}else Y.push(te);Y.length>0&&(t.config.tools=Y);const me={model:Z,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?F=IT(this.apiClient,me):F=RT(this.apiClient,me),delete F.config,z.send(JSON.stringify(F)),new e_(z,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const jE={turnComplete:!0};class e_{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=zt(o.turns),t.isVertexAI()||(a=a.map(u=>Ja(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!t.isVertexAI()&&!("id"in d))throw new Error(ZE)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},jE),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:LT(t)}:o={realtimeInput:kT(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function t_(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function n_(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}const mh=10;function ph(i){var t,o,a;if(!((t=i?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let u=!1;for(const p of(o=i?.tools)!==null&&o!==void 0?o:[])if(sl(p)){u=!0;break}if(!u)return!0;const d=(a=i?.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function sl(i){return"callTool"in i&&typeof i.callTool=="function"}function i_(i){var t,o,a;return(a=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(u=>sl(u)))!==null&&a!==void 0?a:!1}function hh(i){var t;const o=[];return!((t=i?.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,u)=>{if(sl(a))return;const d=a;d.functionDeclarations&&d.functionDeclarations.length>0&&o.push(u)}),o}function gh(i){var t;return!(!((t=i?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}class l_ extends Tn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,u,d,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!i_(o)||ph(o.config))return await this.generateContentInternal(y);const h=hh(o);if(h.length>0){const P=h.map(B=>`tools[${B}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${P}.`)}let v,x;const E=zt(y.contents),A=(d=(u=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&d!==void 0?d:mh;let G=0;for(;G<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const P=v.candidates[0].content,B=[];for(const O of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(sl(O)){const z=await O.callTool(v.functionCalls);B.push(...z)}G++,x={role:"user",parts:B},y.contents=zt(y.contents),y.contents.push(P),y.contents.push(x),gh(y.config)&&(E.push(P),E.push(x))}return gh(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async o=>{var a,u,d,p,g;if(this.maybeMoveToResponseJsonSchem(o),ph(o.config)){const x=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(x)}const y=hh(o);if(y.length>0){const x=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${x}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(d=(u=(a=o?.config)===null||a===void 0?void 0:a.toolConfig)===null||u===void 0?void 0:u.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,v=(g=(p=o?.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var u;let d;const p=[];if(a?.generatedImages)for(const y of a.generatedImages)y&&y?.safetyAttributes&&((u=y?.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?d=y?.safetyAttributes:p.push(y);let g;return d?g={generatedImages:p,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o?.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new gi(Sn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const u={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(u)},this.generateVideos=async o=>{var a,u,d,p,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((u=o.video)===null||u===void 0)&&u.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(d=o.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,u;const d=(o=t.config)===null||o===void 0?void 0:o.tools;if(!d)return t;const p=await Promise.all(d.map(async y=>sl(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&ig(t.config.tools)){const y=(u=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&u!==void 0?u:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),lg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var o,a,u;const d=new Map;for(const p of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(sl(p)){const g=p,y=await g.tool();for(const h of(u=y.functionDeclarations)!==null&&u!==void 0?u:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(t){var o,a,u;const d=(u=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:mh;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,x){var E,A;return al(this,arguments,function*(){for(var G,P,B,O;g<d;){p&&(g++,p=!1);const F=yield Ve(h.processParamsMaybeAddMcpUsage(x)),W=yield Ve(h.generateContentStreamInternal(F)),Y=[],me=[];try{for(var J=!0,z=(P=void 0,mo(W)),Z;Z=yield Ve(z.next()),G=Z.done,!G;J=!0){O=Z.value,J=!1;const te=O;if(yield yield Ve(te),te.candidates&&(!((E=te.candidates[0])===null||E===void 0)&&E.content)){me.push(te.candidates[0].content);for(const le of(A=te.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(g<d&&le.functionCall){if(!le.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(le.functionCall.name)){const ye=yield Ve(v.get(le.functionCall.name).callTool([le.functionCall]));Y.push(...ye)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${le.functionCall.name}`)}}}}catch(te){P={error:te}}finally{try{!J&&!G&&(B=z.return)&&(yield Ve(B.call(z)))}finally{if(P)throw P.error}}if(Y.length>0){p=!0;const te=new fo;te.candidates=[{content:{role:"user",parts:Y}}],yield yield Ve(te);const le=[];le.push(...me),le.push({role:"user",parts:Y});const ye=zt(x.contents).concat(le);x.contents=ye}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=rh(this.apiClient,t);return g=X("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=ch(v),E=new fo;return Object.assign(E,x),E})}else{const h=sh(this.apiClient,t);return g=X("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=uh(v),E=new fo;return Object.assign(E,x),E})}}async generateContentStreamInternal(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=rh(this.apiClient,t);return g=X("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(x){return al(this,arguments,function*(){var E,A,G,P;try{for(var B=!0,O=mo(x),J;J=yield Ve(O.next()),E=J.done,!E;B=!0){P=J.value,B=!1;const z=P,Z=ch(yield Ve(z.json()));Z.sdkHttpResponse={headers:z.headers};const F=new fo;Object.assign(F,Z),yield yield Ve(F)}}catch(z){A={error:z}}finally{try{!B&&!E&&(G=O.return)&&(yield Ve(G.call(O)))}finally{if(A)throw A.error}}})})}else{const h=sh(this.apiClient,t);return g=X("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}),p.then(function(x){return al(this,arguments,function*(){var E,A,G,P;try{for(var B=!0,O=mo(x),J;J=yield Ve(O.next()),E=J.done,!E;B=!0){P=J.value,B=!1;const z=P,Z=uh(yield Ve(z.json()));Z.sdkHttpResponse={headers:z.headers};const F=new fo;Object.assign(F,Z),yield yield Ve(F)}}catch(z){A={error:z}}finally{try{!B&&!E&&(G=O.return)&&(yield Ve(G.call(O)))}finally{if(A)throw A.error}}})})}}async embedContent(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=dx(this.apiClient,t);return g=X("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=px(v),E=new Jp;return Object.assign(E,x),E})}else{const h=fx(this.apiClient,t);return g=X("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=mx(v),E=new Jp;return Object.assign(E,x),E})}}async generateImagesInternal(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Ax(this.apiClient,t);return g=X("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=Mx(v),E=new Yp;return Object.assign(E,x),E})}else{const h=Cx(this.apiClient,t);return g=X("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=Nx(v),E=new Yp;return Object.assign(E,x),E})}}async editImageInternal(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const g=sx(this.apiClient,t);return d=X("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=rx(y),v=new gv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const g=AE(this.apiClient,t);return d=X("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=NE(y),v=new yv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const g=aE(this.apiClient,t);return d=X("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=sE(y),v=new vv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const g=mE(this.apiClient,t);return d=X("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=pE(y),v=new Sv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Fx(this.apiClient,t);return g=X("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Cu(v))}else{const h=Ox(this.apiClient,t);return g=X("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>_u(v))}}async listInternal(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=jx(this.apiClient,t);return g=X("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=tE(v),E=new Kp;return Object.assign(E,x),E})}else{const h=Wx(this.apiClient,t);return g=X("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=eE(v),E=new Kp;return Object.assign(E,x),E})}}async update(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=_E(this.apiClient,t);return g=X("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Cu(v))}else{const h=EE(this.apiClient,t);return g=X("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>_u(v))}}async delete(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ix(this.apiClient,t);return g=X("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=ox(v),E=new Qp;return Object.assign(E,x),E})}else{const h=nx(this.apiClient,t);return g=X("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=lx(v),E=new Qp;return Object.assign(E,x),E})}}async countTokens(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=jT(this.apiClient,t);return g=X("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=tx(v),E=new Xp;return Object.assign(E,x),E})}else{const h=WT(this.apiClient,t);return g=X("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=ex(v),E=new Xp;return Object.assign(E,x),E})}}async computeTokens(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const g=JT(this.apiClient,t);return d=X("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=YT(y),v=new Tv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Ux(this.apiClient,t);return g=X("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const x=Ix(v),E=new Va;return Object.assign(E,x),E})}else{const h=Dx(this.apiClient,t);return g=X("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>{const x=Rx(v),E=new Va;return Object.assign(E,x),E})}}}class o_ extends Tn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=cv(t);return g=X("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const h=uv(t);return g=X("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const g=nv(t);return d=X("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}function a_(i){const t={},o=r(i,["data"]);if(o!=null&&c(t,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function s_(i){const t={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>g_(d))),c(t,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(t,["role"],a),t}function r_(i,t,o){const a={},u=r(t,["expireTime"]);o!==void 0&&u!=null&&c(o,["expireTime"],u);const d=r(t,["newSessionExpireTime"]);o!==void 0&&d!=null&&c(o,["newSessionExpireTime"],d);const p=r(t,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const g=r(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],h_(i,g));const y=r(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),a}function u_(i,t){const o={},a=r(t,["config"]);return a!=null&&c(o,["config"],r_(i,a,o)),o}function c_(i){const t={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function f_(i){const t={},o=r(i,["id"]);o!=null&&c(t,["id"],o);const a=r(i,["args"]);a!=null&&c(t,["args"],a);const u=r(i,["name"]);if(u!=null&&c(t,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function d_(i){const t={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function m_(i){const t={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function p_(i,t){const o={},a=r(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const u=r(i,["responseModalities"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=r(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=r(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=r(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=r(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=r(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const x=r(i,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],Lu(x));const E=r(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=r(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const G=r(i,["systemInstruction"]);t!==void 0&&G!=null&&c(t,["setup","systemInstruction"],s_(ft(G)));const P=r(i,["tools"]);if(t!==void 0&&P!=null){let W=fl(P);Array.isArray(W)&&(W=W.map(Y=>v_(cl(Y)))),c(t,["setup","tools"],W)}const B=r(i,["sessionResumption"]);t!==void 0&&B!=null&&c(t,["setup","sessionResumption"],y_(B));const O=r(i,["inputAudioTranscription"]);t!==void 0&&O!=null&&c(t,["setup","inputAudioTranscription"],O);const J=r(i,["outputAudioTranscription"]);t!==void 0&&J!=null&&c(t,["setup","outputAudioTranscription"],J);const z=r(i,["realtimeInputConfig"]);t!==void 0&&z!=null&&c(t,["setup","realtimeInputConfig"],z);const Z=r(i,["contextWindowCompression"]);t!==void 0&&Z!=null&&c(t,["setup","contextWindowCompression"],Z);const F=r(i,["proactivity"]);return t!==void 0&&F!=null&&c(t,["setup","proactivity"],F),o}function h_(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["setup","model"],be(i,a));const u=r(t,["config"]);return u!=null&&c(o,["config"],p_(u,o)),o}function g_(i){const t={},o=r(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(t,["fileData"],c_(d));const p=r(i,["functionCall"]);p!=null&&c(t,["functionCall"],f_(p));const g=r(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=r(i,["inlineData"]);y!=null&&c(t,["inlineData"],a_(y));const h=r(i,["text"]);h!=null&&c(t,["text"],h);const v=r(i,["thought"]);v!=null&&c(t,["thought"],v);const x=r(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const E=r(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function y_(i){const t={},o=r(i,["handle"]);if(o!=null&&c(t,["handle"],o),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function v_(i){const t={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(x=>x)),c(t,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(t,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const p=r(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],d_(g));const y=r(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],m_(y));const h=r(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function S_(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const u=Object.keys(a).map(d=>`${o}.${d}`);t.push(...u)}else t.push(o)}return t.join(",")}function T_(i,t){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,o=d):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const u=i.fieldMask;if(o){const d=S_(o);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)d?i.fieldMask=d:delete i.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];u.length>0&&(g=u.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?i.fieldMask=u.join(","):delete i.fieldMask;return i}class x_ extends Tn{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=u_(this.apiClient,t);d=X("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=T_(g,t.config);return u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(h=>h)}}}function E_(i,t){const o={},a=r(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),o}function __(i){const t={},o=r(i,["config"]);return o!=null&&E_(o,t),t}function C_(i,t){const o={},a=r(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function A_(i){const t={},o=r(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=r(i,["config"]);return a!=null&&C_(a,t),t}function N_(i){const t={},o=r(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function M_(i,t){const o={},a=r(i,["customMetadata"]);if(t!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["customMetadata"],d)}const u=r(i,["chunkingConfig"]);return t!==void 0&&u!=null&&c(t,["chunkingConfig"],u),o}function w_(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const d=r(i,["error"]);d!=null&&c(t,["error"],d);const p=r(i,["response"]);return p!=null&&c(t,["response"],R_(p)),t}function b_(i){const t={},o=r(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=r(i,["fileName"]);a!=null&&c(t,["fileName"],a);const u=r(i,["config"]);return u!=null&&M_(u,t),t}function R_(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["parent"]);a!=null&&c(t,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(t,["documentName"],u),t}function I_(i,t){const o={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),o}function D_(i){const t={},o=r(i,["config"]);return o!=null&&I_(o,t),t}function U_(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["fileSearchStores"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["fileSearchStores"],d)}return t}function k_(i,t){const o={},a=r(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const u=r(i,["displayName"]);t!==void 0&&u!=null&&c(t,["displayName"],u);const d=r(i,["customMetadata"]);if(t!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=r(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),o}function L_(i){const t={},o=r(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=r(i,["config"]);return a!=null&&k_(a,t),t}function G_(i){const t={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function q_(i,t){const o={},a=r(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function P_(i){const t={},o=r(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=r(i,["config"]);return a!=null&&q_(a,t),t}function H_(i){const t={},o=r(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function V_(i,t){const o={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),o}function z_(i){const t={},o=r(i,["parent"]);o!=null&&c(t,["_url","parent"],o);const a=r(i,["config"]);return a!=null&&V_(a,t),t}function B_(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["documents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["documents"],d)}return t}class O_ extends Tn{constructor(t){super(),this.apiClient=t,this.list=async o=>new gi(Sn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=H_(t);return d=X("{name}",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(t){var o,a;let u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=P_(t);u=X("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=z_(t);return d=X("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=B_(y),v=new xv;return Object.assign(v,h),v})}}}class F_ extends Tn{constructor(t,o=new O_(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new gi(Sn.PAGED_ITEM_FILE_SEARCH_STORES,u=>this.listInternal(u),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=__(t);return d=X("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async get(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=N_(t);return d=X("{name}",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(t){var o,a;let u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=A_(t);u=X("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=D_(t);return d=X("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=U_(y),v=new Ev;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=L_(t);return d=X("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=G_(y),v=new _v;return Object.assign(v,h),v})}}async importFile(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=b_(t);return d=X("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=w_(y),v=new Ru;return Object.assign(v,h),v})}}}function J_(i,t){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function Y_(i,t){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function K_(i,t,o){const a={};if(r(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=r(i,["tunedModelDisplayName"]);if(t!==void 0&&u!=null&&c(t,["displayName"],u),r(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=r(i,["epochCount"]);t!==void 0&&d!=null&&c(t,["tuningTask","hyperparameters","epochCount"],d);const p=r(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),r(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=r(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=r(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(r(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function Q_(i,t,o){const a={};let u=r(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const A=r(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec"],yh(A))}else if(u==="PREFERENCE_TUNING"){const A=r(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec"],yh(A))}const d=r(i,["tunedModelDisplayName"]);t!==void 0&&d!=null&&c(t,["tunedModelDisplayName"],d);const p=r(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=r(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=r(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(g==="PREFERENCE_TUNING"){const A=r(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let y=r(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=r(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(y==="PREFERENCE_TUNING"){const A=r(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let h=r(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const A=r(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(h==="PREFERENCE_TUNING"){const A=r(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=r(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=r(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=r(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(r(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const x=r(i,["labels"]);t!==void 0&&x!=null&&c(t,["labels"],x);const E=r(i,["beta"]);return t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),a}function X_(i,t){const o={},a=r(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const u=r(i,["preTunedModel"]);u!=null&&c(o,["preTunedModel"],u);const d=r(i,["trainingDataset"]);d!=null&&aC(d);const p=r(i,["config"]);return p!=null&&K_(p,o),o}function Z_(i,t){const o={},a=r(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const u=r(i,["preTunedModel"]);u!=null&&c(o,["preTunedModel"],u);const d=r(i,["trainingDataset"]);d!=null&&sC(d,o,t);const p=r(i,["config"]);return p!=null&&Q_(p,o,t),o}function $_(i,t){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function W_(i,t){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function j_(i,t,o){const a={},u=r(i,["pageSize"]);t!==void 0&&u!=null&&c(t,["_query","pageSize"],u);const d=r(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const p=r(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function eC(i,t,o){const a={},u=r(i,["pageSize"]);t!==void 0&&u!=null&&c(t,["_query","pageSize"],u);const d=r(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const p=r(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function tC(i,t){const o={},a=r(i,["config"]);return a!=null&&j_(a,o),o}function nC(i,t){const o={},a=r(i,["config"]);return a!=null&&eC(a,o),o}function iC(i,t){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["nextPageToken"]);u!=null&&c(o,["nextPageToken"],u);const d=r(i,["tunedModels"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>og(g))),c(o,["tuningJobs"],p)}return o}function lC(i,t){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["nextPageToken"]);u!=null&&c(o,["nextPageToken"],u);const d=r(i,["tuningJobs"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>Nu(g))),c(o,["tuningJobs"],p)}return o}function oC(i,t){const o={},a=r(i,["name"]);a!=null&&c(o,["model"],a);const u=r(i,["name"]);return u!=null&&c(o,["endpoint"],u),o}function aC(i,t){const o={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=r(i,["examples"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),c(o,["examples","examples"],u)}return o}function sC(i,t,o){const a={};let u=r(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const p=r(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(u==="PREFERENCE_TUNING"){const p=r(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let d=r(o,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const p=r(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(d==="PREFERENCE_TUNING"){const p=r(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(r(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function og(i,t){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(o,["name"],u);const d=r(i,["state"]);d!=null&&c(o,["state"],Vh(d));const p=r(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=r(i,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const y=r(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const h=r(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=r(i,["description"]);v!=null&&c(o,["description"],v);const x=r(i,["baseModel"]);x!=null&&c(o,["baseModel"],x);const E=r(i,["_self"]);return E!=null&&c(o,["tunedModel"],oC(E)),o}function Nu(i,t){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(o,["name"],u);const d=r(i,["state"]);d!=null&&c(o,["state"],Vh(d));const p=r(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=r(i,["startTime"]);g!=null&&c(o,["startTime"],g);const y=r(i,["endTime"]);y!=null&&c(o,["endTime"],y);const h=r(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=r(i,["error"]);v!=null&&c(o,["error"],v);const x=r(i,["description"]);x!=null&&c(o,["description"],x);const E=r(i,["baseModel"]);E!=null&&c(o,["baseModel"],E);const A=r(i,["tunedModel"]);A!=null&&c(o,["tunedModel"],A);const G=r(i,["preTunedModel"]);G!=null&&c(o,["preTunedModel"],G);const P=r(i,["supervisedTuningSpec"]);P!=null&&c(o,["supervisedTuningSpec"],P);const B=r(i,["preferenceOptimizationSpec"]);B!=null&&c(o,["preferenceOptimizationSpec"],B);const O=r(i,["tuningDataStats"]);O!=null&&c(o,["tuningDataStats"],O);const J=r(i,["encryptionSpec"]);J!=null&&c(o,["encryptionSpec"],J);const z=r(i,["partnerModelTuningSpec"]);z!=null&&c(o,["partnerModelTuningSpec"],z);const Z=r(i,["customBaseModel"]);Z!=null&&c(o,["customBaseModel"],Z);const F=r(i,["experiment"]);F!=null&&c(o,["experiment"],F);const W=r(i,["labels"]);W!=null&&c(o,["labels"],W);const Y=r(i,["outputUri"]);Y!=null&&c(o,["outputUri"],Y);const me=r(i,["pipelineJob"]);me!=null&&c(o,["pipelineJob"],me);const te=r(i,["serviceAccount"]);te!=null&&c(o,["serviceAccount"],te);const le=r(i,["tunedModelDisplayName"]);le!=null&&c(o,["tunedModelDisplayName"],le);const ye=r(i,["veoTuningSpec"]);return ye!=null&&c(o,["veoTuningSpec"],ye),o}function rC(i,t){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(o,["name"],u);const d=r(i,["metadata"]);d!=null&&c(o,["metadata"],d);const p=r(i,["done"]);p!=null&&c(o,["done"],p);const g=r(i,["error"]);return g!=null&&c(o,["error"],g),o}function yh(i,t){const o={},a=r(i,["gcsUri"]);a!=null&&c(o,["validationDatasetUri"],a);const u=r(i,["vertexDatasetResource"]);return u!=null&&c(o,["validationDatasetUri"],u),o}class uC extends Tn{constructor(t){super(),this.apiClient=t,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new gi(Sn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const u={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(u.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:u});return d.baseModel=void 0,await this.tuneInternal(d)}else{const u=Object.assign({},o);return await this.tuneInternal(u)}else{const u=Object.assign({},o),d=await this.tuneMldevInternal(u);let p="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?p=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(p=d.name.split("/operations/")[0]),{name:p,state:Su.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=W_(t);return g=X("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>Nu(v))}else{const h=$_(t);return g=X("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>og(v))}}async listInternal(t){var o,a,u,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=nC(t);return g=X("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=lC(v),E=new Zp;return Object.assign(E,x),E})}else{const h=tC(t);return g=X("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=iC(v),E=new Zp;return Object.assign(E,x),E})}}async cancel(t){var o,a,u,d;let p="",g={};if(this.apiClient.isVertexAI()){const y=Y_(t);p=X("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=J_(t);p=X("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const g=Z_(t,t);return d=X("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>Nu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=X_(t);return d=X("tunedModels",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>rC(y))}}}class cC{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const fC=1024*1024*8,dC=3,mC=1e3,pC=2,Ba="x-goog-upload-status";async function hC(i,t,o){var a;const u=await ag(i,t,o),d=await u?.json();if(((a=u?.headers)===null||a===void 0?void 0:a[Ba])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function gC(i,t,o){var a;const u=await ag(i,t,o),d=await u?.json();if(((a=u?.headers)===null||a===void 0?void 0:a[Ba])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=kh(d),g=new Iu;return Object.assign(g,p),g}async function ag(i,t,o){var a,u;let d=0,p=0,g=new Tu(new Response),y="upload";for(d=i.size;p<d;){const h=Math.min(fC,d-p),v=i.slice(p,p+h);p+h>=d&&(y+=", finalize");let x=0,E=mC;for(;x<dC&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((a=g?.headers)===null||a===void 0)&&a[Ba]));)x++,await vC(E),E=E*pC;if(p+=h,((u=g?.headers)===null||u===void 0?void 0:u[Ba])!=="active")break;if(d<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function yC(i){return{size:i.size,type:i.type}}function vC(i){return new Promise(t=>setTimeout(t,i))}class SC{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await hC(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await gC(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await yC(t)}}class TC{create(t,o,a){return new xC(t,o,a)}}class xC{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const vh="x-goog-api-key";class EC{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(vh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(vh,this.apiKey)}}}const _C="gl-node/";class sg{constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=ev(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion;const u=new EC(this.apiKey);this.apiClient=new HE({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:_C+"web",uploader:new SC,downloader:new cC}),this.models=new l_(this.apiClient),this.live=new WE(this.apiClient,u,new TC),this.batches=new bS(this.apiClient),this.chats=new cT(this.models,this.apiClient),this.caches=new sT(this.apiClient),this.files=new TT(this.apiClient),this.operations=new o_(this.apiClient),this.authTokens=new x_(this.apiClient),this.tunings=new uC(this.apiClient),this.fileSearchStores=new F_(this.apiClient)}}const rg="ke_config_v1",po=()=>{const i=localStorage.getItem(rg);if(i)try{const t=JSON.parse(i);return{...Sh(),...t}}catch(t){console.error("Failed to parse stored config",t)}return Sh()},Sh=()=>({aiProvider:"gemini",geminiKey:"",siliconFlowKey:"",siliconFlowModel:"deepseek-ai/DeepSeek-V3",siliconFlowImageModel:"Qwen/Qwen-Image",customApiUrl:"",customApiKey:"",customModelName:"gpt-3.5-turbo",customImageApiUrl:"",customImageModelName:""}),CC=i=>{localStorage.setItem(rg,JSON.stringify(i))},Th=()=>{const i=po();return i.aiProvider==="gemini"?!!i.geminiKey:i.aiProvider==="siliconflow"?!!i.siliconFlowKey:i.aiProvider==="custom"?!!i.customApiUrl:!1},AC="KizunaEngineDB",rl="gallery",Kn="saves",ul="prompts",NC=3,yi=()=>new Promise((i,t)=>{const o=indexedDB.open(AC,NC);o.onerror=()=>t("Error opening database"),o.onupgradeneeded=a=>{const u=a.target.result;if(u.objectStoreNames.contains(rl)||u.createObjectStore(rl,{keyPath:"id"}),u.objectStoreNames.contains(Kn)||u.createObjectStore(Kn,{keyPath:"id"}),!u.objectStoreNames.contains(ul)){const d=u.createObjectStore(ul,{keyPath:"id",autoIncrement:!0});d.createIndex("type","type",{unique:!1}),d.createIndex("timestamp","timestamp",{unique:!1})}},o.onsuccess=a=>{i(a.target.result)}}),Ga=async(i,t,o="event")=>{const d=(await yi()).transaction([rl],"readwrite").objectStore(rl),p={...i,imageData:t,timestamp:Date.now(),type:o};return new Promise((g,y)=>{const h=d.put(p);h.onsuccess=()=>g(),h.onerror=()=>y("Failed to save CG")})},MC=async()=>{const o=(await yi()).transaction([rl],"readonly").objectStore(rl);return new Promise((a,u)=>{const d=o.getAll();d.onsuccess=()=>{const p=d.result;a(p.sort((g,y)=>y.timestamp-g.timestamp))},d.onerror=()=>u("Failed to load gallery")})},ug=async(i,t)=>{const u=(await yi()).transaction([Kn],"readwrite").objectStore(Kn),d={id:i,timestamp:Date.now(),location:t.location,turnCount:t.turnCount,previewImage:t.currentBgImage||"",gameState:t};return new Promise((p,g)=>{const y=u.put(d);y.onsuccess=()=>p(),y.onerror=()=>g("Failed to save game")})},wC=async()=>{const o=(await yi()).transaction([Kn],"readonly").objectStore(Kn);return new Promise((a,u)=>{const d=o.getAll();d.onsuccess=()=>{const p=d.result;a(p.sort((g,y)=>y.timestamp-g.timestamp))},d.onerror=()=>u("Failed to load saves")})},bC=async i=>{const a=(await yi()).transaction([Kn],"readwrite").objectStore(Kn);return new Promise((u,d)=>{const p=a.delete(i);p.onsuccess=()=>u(),p.onerror=()=>d("Failed to delete save")})},RC=async(i,t)=>{const u=(await yi()).transaction([ul],"readwrite").objectStore(ul),d={type:i,content:t,timestamp:Date.now()};return new Promise((p,g)=>{const y=u.add(d);y.onsuccess=()=>p(),y.onerror=()=>g("Failed to save prompt")})},cg=async i=>{const u=(await yi()).transaction([ul],"readonly").objectStore(ul).index("type");return new Promise((d,p)=>{const g=u.getAll(IDBKeyRange.only(i));g.onsuccess=()=>{const y=g.result;d(y.sort((h,v)=>v.timestamp-h.timestamp))},g.onerror=()=>p("Failed to load prompt history")})},IC=async i=>{const t=await cg(i);return t&&t.length>0?t[0].content:null},fg={initial:`Start a new visual novel game.
Theme: "{{theme}}"
Player Name: "{{playerName}}"
Language: "{{language}}" (Output all narrative/text in this language)

1. Create 3 heroines fitting this theme (Archetypes, Names, Visuals).
2. Scene: Introductory scene fitting the theme.
3. Intro text: 1 sentence greeting or action from a main heroine.
4. 3 Choices for the player to start the story.
5. Suggest BGM (SliceOfLife, Sentimental, Tension, Action, Mystery, Romantic, Comical, Magical, Melancholy, Upbeat, Battle, Horror, LateNight) and Sound Effect (SchoolBell, DoorOpen, Footsteps, Heartbeat, Explosion, MagicChime, Rain, Crowd, PhoneRing, Cheer).
6. IMPORTANT: "imagePrompt" MUST be provided (cannot be null) for the first scene.`,next:`Theme: "{{theme}}"
Player Name: "{{playerName}}"
Language: "{{language}}" (Output all narrative/text in this language)
Context:
- Location: {{location}}
- Quest: {{currentQuest}}
- Heroines: {{heroinesList}}
- History: {{historySummary}}
- Current BGM: {{currentBgm}}

Action: Player chose "{{choiceText}}".

Task:
1. Write 1-2 sentences of reaction/dialogue based on the action. Use the player's name if appropriate.
2. Update stats.
3. **Choices Generation**:
   {{choiceInstruction}}
4. **Image Generation**: If the scene location or visual atmosphere changes significantly, provide a new 'imagePrompt'. 
   - **CRITICAL**: You MUST explicitly describe the physical appearance (hair, eyes, clothes) of any heroine present in the prompt, using the descriptions from the Heroines list.
   - If the background is the same, strictly return NULL for imagePrompt to save costs.
5. Suggest BGM. 
   - Options: SliceOfLife, Sentimental, Tension, Action, Mystery, Romantic, Comical, Magical, Melancholy, Upbeat, Battle, Horror, LateNight, Cyberpunk, Historical.
   - Keep the current BGM ({{currentBgm}}) if the mood hasn't changed. Change it only if necessary.
6. Suggest SFX (SchoolBell, DoorOpen, Footsteps, Heartbeat, Explosion, MagicChime, Rain, Crowd, PhoneRing, Cheer, Scream, Whistle, None) only if a specific sound occurs.`,secret:`Generate a 'Secret Memory' (Bonus CG) for {{heroineName}} (Archetype: {{heroineArchetype}}).
Theme: "{{theme}}"
Language: "{{language}}" (Output titles/descriptions in this language)
Scene: A romantic, hypothetical future date or secret moment.
Return JSON: { id, title, description, imagePrompt }.`,image:"Japanese anime art style, masterpiece, best quality, ultra detailed, 4k, vibrant, bright colors, soft lighting, beautiful composition, detailed background, visual novel CG. {{prompt}}"},yo=async i=>{try{const t=await IC(i);if(t)return t}catch(t){console.warn("Failed to fetch custom prompt, using default",t)}return fg[i]},Qa=(i,t)=>{let o=i;for(const[a,u]of Object.entries(t))o=o.replace(new RegExp(`{{${a}}}`,"g"),u);return o},DC=async(i,t)=>{await RC(i,t)},UC=async i=>await cg(i),dg={type:ge.OBJECT,properties:{narrative:{type:ge.STRING,description:"STRICTLY 1-2 sentences maximum. Dialogue or action only. No long descriptions."},choices:{type:ge.ARRAY,description:"Array of choices. If it is a conversation turn, provide exactly 1 choice 'Next'. If it is a decision point, provide 3 distinct choices.",items:{type:ge.OBJECT,properties:{id:{type:ge.STRING},text:{type:ge.STRING,description:"Short choice text."}},required:["id","text"]}},heroines:{type:ge.ARRAY,description:"The list of heroines with updated stats.",items:{type:ge.OBJECT,properties:{id:{type:ge.STRING},name:{type:ge.STRING},archetype:{type:ge.STRING},affection:{type:ge.NUMBER,description:"0 to 100"},status:{type:ge.STRING,description:"Current relationship status label"},description:{type:ge.STRING,description:"Visual description of appearance (Hair, Eyes, Clothes)"}},required:["id","name","archetype","affection","status","description"]}},inventory:{type:ge.ARRAY,items:{type:ge.STRING},description:"Current items held by the player."},currentQuest:{type:ge.STRING,description:"The immediate objective."},location:{type:ge.STRING,description:"Current location name."},imagePrompt:{type:ge.STRING,description:"A highly detailed prompt for an image generator. Return NULL if the scene background has not changed significantly from the previous turn.",nullable:!0},unlockCg:{type:ge.OBJECT,description:"Only provide this if the scene is a major romantic event (Affection > 80).",properties:{id:{type:ge.STRING},title:{type:ge.STRING},description:{type:ge.STRING}},required:["id","title","description"],nullable:!0},bgm:{type:ge.STRING,description:"The mood of the music. Select strictly from: 'SliceOfLife', 'Sentimental', 'Tension', 'Action', 'Mystery', 'Romantic', 'Comical', 'Magical', 'Melancholy', 'Upbeat', 'Battle', 'Horror', 'LateNight', 'Cyberpunk', 'Historical'."},soundEffect:{type:ge.STRING,description:"Optional sound effect. Options: 'SchoolBell', 'DoorOpen', 'Footsteps', 'Heartbeat', 'Explosion', 'MagicChime', 'Rain', 'Crowd', 'PhoneRing', 'Cheer', 'Scream', 'Whistle', 'None'.",nullable:!0}},required:["narrative","choices","heroines","inventory","currentQuest","location","imagePrompt"]},kC={type:ge.OBJECT,properties:{id:{type:ge.STRING},title:{type:ge.STRING},description:{type:ge.STRING},imagePrompt:{type:ge.STRING}},required:["id","title","description","imagePrompt"]},mg=()=>`
  You must output strictly valid JSON. 
  Follow this schema structure exactly:
  {
    "narrative": "string (1-2 sentences max, dialogue/action only)",
    "choices": [{ "id": "string", "text": "string" }],
    "heroines": [{ "id": "string", "name": "string", "archetype": "string", "affection": number, "status": "string", "description": "string" }],
    "inventory": ["string"],
    "currentQuest": "string",
    "location": "string",
    "imagePrompt": "string (OR null if scene/bg has NOT changed)",
    "unlockCg": { "id": "string", "title": "string", "description": "string" } (optional, use null),
    "bgm": "string (SliceOfLife, Sentimental, Tension, Action, Mystery, Romantic, Comical, Magical, Melancholy, Upbeat, Battle, Horror, LateNight, Cyberpunk, Historical)",
    "soundEffect": "string (SchoolBell, DoorOpen, Footsteps, Heartbeat, Explosion, MagicChime, Rain, Crowd, PhoneRing, Cheer, Scream, Whistle, None)"
  }
`,LC=()=>`
  You must output strictly valid JSON.
  Follow this schema structure exactly:
  {
    "id": "string",
    "title": "string",
    "description": "string",
    "imagePrompt": "string"
  }
`,hu=`
You are 'Kizuna Engine', a game master for an Infinite Visual Novel.
**CRITICAL STYLE RULES**:
1. **EXTREME CONCISENESS**: Output must be 1-2 sentences MAX.
2. **Dialogue-First**: Prioritize what characters say. Format: "Name: 'Dialogue'".
3. **No Prose**: Do not write long descriptions. Show, don't tell.
4. **Anime Tropes**: Lean into tropes appropriate for the theme.
5. **Audio Direction**: 
   - Select 'bgm' that fits the current mood. Vary it if the mood shifts, but keep it consistent if the scene is static.
   - Select 'soundEffect' ONLY when a specific action occurs (e.g. door opening, impact).
6. **Visual Consistency (CRITICAL)**: 
   - When generating 'imagePrompt', you MUST explicitly include the physical traits (Hair Color, Eye Color, Hairstyle, Clothing) of any character present in the scene.
   - ALWAYS refer to the 'heroines' list descriptions. Do not hallucinate new features for existing characters.
   - If a character is in the scene, the prompt MUST look like: "anime style, [Location], [Character Name] is [Action], [Visual Description: Blue hair, twin tails, school uniform], masterpiece..."
7. **Language**: You MUST output the narrative, choices, quest, location, and heroine details in the requested target language.
8. **Player Name**: Refer to the main character as the provided Player Name if needed, but prefer first-person perspective or "You".

**Game Rules**:
1. Track affection (0-100).
2. Update 'unlockCg' ONLY for major milestones (Affection > 80 events).
3. Optimize resources: Do NOT generate a new 'imagePrompt' if the visual background/characters have not changed. Use null.
4. Return JSON only.
`,qu=async(i,t,o)=>{const a=po();if(a.aiProvider==="custom"){if(!a.customApiUrl)throw new Error("CUSTOM_API_URL is missing. Please configure settings.");try{const u={"Content-Type":"application/json"};a.customApiKey&&(u.Authorization=`Bearer ${a.customApiKey}`);const d=await fetch(a.customApiUrl,{method:"POST",headers:u,body:JSON.stringify({model:a.customModelName||"gpt-3.5-turbo",messages:[{role:"system",content:hu+`

`+t},{role:"user",content:i}],response_format:{type:"json_object"},max_tokens:4096,temperature:.8})});if(!d.ok){const h=await d.text();throw console.error("Custom API Error:",h),new Error(`Custom API Error: ${d.status} - ${h}`)}const g=(await d.json()).choices?.[0]?.message?.content;if(!g)throw new Error("No content received from Custom API");const y=g.replace(/```json\n?|```/g,"").trim();return JSON.parse(y)}catch(u){throw console.error("Custom API Text Gen Failed",u),u}}else if(a.aiProvider==="siliconflow"){if(!a.siliconFlowKey)throw new Error("SiliconFlow Key is missing. Please configure settings.");try{const u=await fetch("https://api.siliconflow.cn/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${a.siliconFlowKey}`,"Content-Type":"application/json"},body:JSON.stringify({model:a.siliconFlowModel||"deepseek-ai/DeepSeek-V3",messages:[{role:"system",content:hu+`

`+t},{role:"user",content:i}],response_format:{type:"json_object"},max_tokens:4096,temperature:1})});if(!u.ok){const y=await u.text();throw console.error("SiliconFlow Error Details:",y),new Error(`SiliconFlow API Error: ${u.status}`)}const p=(await u.json()).choices?.[0]?.message?.content;if(!p)throw new Error("No content received from SiliconFlow");const g=p.replace(/```json\n?|```/g,"").trim();return JSON.parse(g)}catch(u){throw console.error("SiliconFlow Text Gen Failed",u),u}}else{if(!a.geminiKey)throw new Error("Gemini API Key is missing. Please configure settings.");const d=await new sg({apiKey:a.geminiKey}).models.generateContent({model:"gemini-2.5-flash",contents:i,config:{systemInstruction:hu,responseMimeType:"application/json",responseSchema:o,temperature:1}});if(!d.text)throw new Error("No response from Kizuna Engine");return JSON.parse(d.text)}},GC=async(i,t,o)=>{const a=await yo("initial"),u=Qa(a,{theme:i,language:t,playerName:o});return qu(u,mg(),dg)},gu=async(i,t)=>{const a=(i.turnCount+1)%4===0,u=i.choices.find(v=>v.id===t)?.text||"Unknown",d=a?"This is a MAJOR DECISION point. Provide 3 distinct, diverging choices that affect the plot or relationships.":"This is a CONVERSATION step. Provide exactly 1 linear choice: [{ 'id': 'continue', 'text': 'Next' }] to advance the dialogue naturally.",p=i.history.slice(-20).join(" | "),g=i.heroines.map(v=>`${v.name} [${v.archetype}, Status: ${v.status}] (Visuals: ${v.description}) (Affection: ${v.affection})`).join(" | "),y=await yo("next"),h=Qa(y,{theme:i.theme,playerName:i.playerName,language:i.language,location:i.location,currentQuest:i.currentQuest,heroinesList:g,historySummary:p,currentBgm:i.bgm||"None",choiceText:u,choiceInstruction:d});return qu(h,mg(),dg)},qC=async(i,t,o)=>{const a=await yo("secret"),u=Qa(a,{heroineName:i.name,heroineArchetype:i.archetype,theme:t,language:o});return qu(u,LC(),kC)},yu=async i=>{const t=await yo("image"),o=Qa(t,{prompt:i}),a=po();if(a.aiProvider==="custom")if(a.customImageApiUrl)try{const u={"Content-Type":"application/json"};a.customApiKey&&(u.Authorization=`Bearer ${a.customApiKey}`);const d={prompt:o,n:1,size:"1024x1024",response_format:"b64_json"};a.customImageModelName&&(d.model=a.customImageModelName);const p=await fetch(a.customImageApiUrl,{method:"POST",headers:u,body:JSON.stringify(d)});if(!p.ok)throw new Error("Custom Image API Error");const g=await p.json();if(g.data?.[0]?.b64_json)return`data:image/jpeg;base64,${g.data[0].b64_json}`;if(g.data?.[0]?.url)return g.data[0].url;throw new Error("Unknown response format from Custom Image API")}catch(u){return console.error("Custom Image Gen Error:",u),`https://placehold.co/1280x720/333/white?text=${encodeURIComponent("Custom API Error")}`}else return`https://placehold.co/1280x720/222/white?text=${encodeURIComponent("No Image API Configured")}`;else if(a.aiProvider==="siliconflow"){if(!a.siliconFlowKey)throw new Error("SiliconFlow Key is missing");try{const u=await fetch("https://api.siliconflow.cn/v1/images/generations",{method:"POST",headers:{Authorization:`Bearer ${a.siliconFlowKey}`,"Content-Type":"application/json"},body:JSON.stringify({model:a.siliconFlowImageModel||"Qwen/Qwen-Image",prompt:o,image_size:"1024x1024",seed:Math.floor(Math.random()*999999999)})});if(!u.ok)throw new Error("SiliconFlow Image Gen failed");const p=(await u.json()).images?.[0]?.url;if(!p)throw new Error("No image URL returned");const y=await(await fetch(p)).blob();return new Promise((h,v)=>{const x=new FileReader;x.onloadend=()=>h(x.result),x.onerror=v,x.readAsDataURL(y)})}catch(u){return console.error("SF Image Gen Error:",u),`https://placehold.co/1280x720/pink/white?text=${encodeURIComponent("SiliconFlow Error")}`}}else{if(!a.geminiKey)throw new Error("Gemini Key is missing");const u=new sg({apiKey:a.geminiKey});try{return`data:image/jpeg;base64,${(await u.models.generateImages({model:"imagen-4.0-generate-001",prompt:o,config:{numberOfImages:1,aspectRatio:"16:9",outputMimeType:"image/jpeg"}})).generatedImages?.[0]?.image?.imageBytes}`}catch(d){return console.error("Gemini Image Gen Error",d),`https://placehold.co/1280x720/pink/white?text=${encodeURIComponent("Visualizing...")}`}}};const PC=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HC=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,o,a)=>a?a.toUpperCase():o.toLowerCase()),xh=i=>{const t=HC(i);return t.charAt(0).toUpperCase()+t.slice(1)},pg=(...i)=>i.filter((t,o,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===o).join(" ").trim(),VC=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var zC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const BC=K.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:u="",children:d,iconNode:p,...g},y)=>K.createElement("svg",{ref:y,...zC,width:t,height:t,stroke:i,strokeWidth:a?Number(o)*24/Number(t):o,className:pg("lucide",u),...!d&&!VC(g)&&{"aria-hidden":"true"},...g},[...p.map(([h,v])=>K.createElement(h,v)),...Array.isArray(d)?d:[d]]));const Ce=(i,t)=>{const o=K.forwardRef(({className:a,...u},d)=>K.createElement(BC,{ref:d,iconNode:t,className:pg(`lucide-${PC(xh(i))}`,`lucide-${i}`,a),...u}));return o.displayName=xh(i),o};const OC=[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1ol0lm"}],["path",{d:"M8 10h8",key:"c7uz4u"}],["path",{d:"M8 18h8",key:"1no2b1"}],["path",{d:"M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6",key:"1fr6do"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2",key:"donm21"}]],Eh=Ce("backpack",OC);const FC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],JC=Ce("calendar",FC);const YC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hg=Ce("check",YC);const KC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],QC=Ce("chevron-down",KC);const XC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gg=Ce("chevron-right",XC);const ZC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$C=Ce("clock",ZC);const WC=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],_h=Ce("code",WC);const jC=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],eA=Ce("cpu",jC);const tA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ch=Ce("download",tA);const nA=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],iA=Ce("eye-off",nA);const lA=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z",key:"b19h5q"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z",key:"h7h5ge"}]],oA=Ce("fast-forward",lA);const aA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Pu=Ce("history",aA);const sA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ho=Ce("image",sA);const rA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Xa=Ce("loader-circle",rA);const uA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],cA=Ce("lock-open",uA);const fA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yg=Ce("map-pin",fA);const dA=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],mA=Ce("maximize",dA);const pA=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],vg=Ce("menu",pA);const hA=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],gA=Ce("palette",hA);const yA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],vA=Ce("pen",yA);const SA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Sg=Ce("play",SA);const TA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Hu=Ce("rotate-ccw",TA);const xA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],go=Ce("save",xA);const EA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_A=Ce("search",EA);const CA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vu=Ce("settings",CA);const AA=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],NA=Ce("smartphone",AA);const MA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Oa=Ce("sparkles",MA);const wA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],bA=Ce("target",wA);const RA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],IA=Ce("trash-2",RA);const DA=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],UA=Ce("user-cog",DA);const kA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Mu=Ce("user",kA);const LA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],GA=Ce("volume-2",LA);const qA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hi=Ce("x",qA);const PA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],HA=Ce("zap",PA),VA=({gameState:i,bgImage:t,onChoiceSelected:o,onToggleMenu:a,onOpenSave:u,onOpenLoad:d,onOpenGallery:p,onOpenLog:g,isProcessing:y,isImageLoading:h,t:v})=>{const[x,E]=K.useState(""),[A,G]=K.useState(!1),[P,B]=K.useState(!1),[O,J]=K.useState(!1),[z,Z]=K.useState(!1),F=20,W=K.useRef(null),Y=i.choices.length===1,me=re=>{re.indexOf(":");const Be=re.includes("")?"":":",ue=re.indexOf(Be);return ue!==-1&&ue<20?{name:re.substring(0,ue),content:re.substring(ue+1).trim()}:{name:"",content:re}},{name:te,content:le}=me(i.narrative);K.useEffect(()=>{if(P?(E(le),G(!1)):(E(""),G(!0)),i.unlockCg){J(!0);const re=setTimeout(()=>J(!1),5e3);return()=>clearTimeout(re)}else J(!1)},[i.narrative,i.unlockCg,le,P]),K.useEffect(()=>{if(A&&!P)if(x.length<le.length){const re=setTimeout(()=>{E(le.slice(0,x.length+1))},F);return()=>clearTimeout(re)}else G(!1)},[x,A,le,P]),K.useEffect(()=>{if(P&&Y&&!A&&!y){const re=setTimeout(()=>{o(i.choices[0].id)},1e3);return()=>clearTimeout(re)}},[P,Y,A,y,i.choices,o]);const ye=()=>{A?(E(le),G(!1)):Y&&!y&&o(i.choices[0].id)},se=[{icon:go,action:u,title:v.menu.actions.save},{icon:Hu,action:d,title:v.menu.actions.load},{icon:ho,action:p,title:v.menu.actions.gallery},{icon:Pu,action:g,title:v.game.log},{icon:iA,action:()=>Z(!0),title:v.game.hideUi},{icon:oA,action:()=>B(!P),title:v.game.skip,active:P},{icon:vg,action:a,title:v.game.menu}];return T.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-gray-900 select-none group font-sans",children:[T.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-all duration-1000 ease-in-out",style:{backgroundImage:t?`url(${t})`:"linear-gradient(to bottom, #2a1b2d, #1a1a2e)",filter:y?"blur(2px) brightness(0.9)":"none",transform:y?"scale(1.02)":"scale(1)"},onClick:z?()=>Z(!1):void 0}),z&&T.jsx("div",{className:"absolute inset-0 z-50 cursor-pointer",onClick:()=>Z(!1),title:"Click to restore UI"}),!z&&T.jsxs("div",{className:"absolute top-3 left-3 md:top-6 md:left-6 z-20 pointer-events-none flex flex-col items-start gap-2 animate-in fade-in slide-in-from-top-4 duration-700 scale-90 md:scale-100 origin-top-left",children:[T.jsxs("div",{className:"bg-black/50 backdrop-blur-md text-white px-3 py-1.5 md:px-5 md:py-2 rounded-full text-[10px] md:text-xs uppercase tracking-widest font-bold border border-white/10 shadow-lg flex items-center gap-2",children:[T.jsx(yg,{className:"w-3 h-3 text-pink-400"}),i.location]}),T.jsxs("div",{className:"bg-white/90 text-gray-900 px-3 py-1 md:px-4 md:py-1 rounded-full text-[9px] md:text-[10px] font-black shadow-lg border border-white/20",children:[v.game.turn," ",i.turnCount]})]}),!z&&T.jsx("div",{className:"absolute top-3 right-3 md:top-6 md:right-6 z-30 flex gap-2 md:gap-3 flex-wrap justify-end max-w-[300px] md:max-w-none animate-in fade-in slide-in-from-right-4 duration-700",children:se.map((re,Be)=>T.jsx("button",{onClick:re.action,title:re.title,className:`w-8 h-8 md:w-10 md:h-10 rounded-full backdrop-blur-md shadow-lg border border-white/10 flex items-center justify-center transition-all duration-200 transform hover:scale-110 hover:border-pink-400 ${re.active?"bg-pink-600 text-white animate-pulse ring-2 ring-pink-400 ring-offset-2 ring-offset-transparent":"bg-black/40 text-gray-200 hover:bg-pink-600 hover:text-white"}`,children:T.jsx(re.icon,{className:"w-3 h-3 md:w-4 md:h-4"})},Be))}),!z&&h&&T.jsxs("div",{className:"absolute top-16 left-3 md:top-28 md:left-6 z-20 flex items-center space-x-2 bg-black/70 backdrop-blur-md text-white px-3 py-1.5 md:px-4 md:py-2 rounded-full shadow-lg border border-white/10 animate-pulse",children:[T.jsx(Xa,{className:"w-3 h-3 md:w-4 md:h-4 animate-spin text-pink-400"}),T.jsx("span",{className:"text-[10px] md:text-xs font-bold tracking-wide",children:v.game.generatingImage})]}),O&&i.unlockCg&&!z&&T.jsx("div",{className:"absolute top-1/4 left-1/2 transform -translate-x-1/2 z-40 animate-bounce w-full max-w-xs md:max-w-none flex justify-center",children:T.jsxs("div",{className:"bg-gradient-to-r from-amber-400 to-orange-500 text-white px-6 py-3 md:px-8 md:py-4 rounded-full shadow-2xl border-2 border-white/50 flex items-center space-x-3 backdrop-blur-md",children:[T.jsx(Oa,{className:"w-5 h-5 md:w-6 md:h-6 animate-spin-slow text-yellow-200"}),T.jsxs("div",{className:"flex flex-col items-center leading-tight",children:[T.jsx("span",{className:"font-bold font-display tracking-widest text-xs md:text-sm",children:v.game.specialEvent}),T.jsx("span",{className:"text-[10px] md:text-xs opacity-90 font-sans uppercase truncate max-w-[150px] md:max-w-xs",children:i.unlockCg.title})]})]})}),!z&&!y&&(!A||P)&&!Y&&T.jsx("div",{className:"absolute inset-0 z-20 flex flex-col items-center justify-center gap-2 md:gap-4 pointer-events-none pb-20 md:pb-36",children:i.choices.map((re,Be)=>T.jsxs("button",{onClick:()=>o(re.id),className:"pointer-events-auto group relative w-[85%] md:w-full max-w-sm md:max-w-xl overflow-hidden bg-black/70 hover:bg-pink-900/80 backdrop-blur-md border-y border-pink-500/30 hover:border-pink-400 text-center py-2 px-4 md:py-4 md:px-8 transition-all duration-300 transform hover:scale-105 shadow-2xl animate-in fade-in slide-in-from-bottom-4 rounded-lg md:rounded-none",style:{animationDelay:`${Be*100}ms`},children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-pink-500/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),T.jsx("span",{className:"font-display font-bold text-sm md:text-lg text-gray-100 group-hover:text-white tracking-wide shadow-black drop-shadow-md",children:re.text})]},re.id))}),!z&&T.jsx("div",{className:"absolute bottom-0 inset-x-0 z-20 px-2 pb-2 md:px-4 md:pb-6 flex justify-center animate-in slide-in-from-bottom-10 fade-in duration-700",children:T.jsxs("div",{className:"w-full max-w-3xl relative mb-1 md:mb-6 transition-all duration-300",children:[te&&T.jsx("div",{className:"absolute -top-5 md:-top-8 left-3 md:left-6 z-30 animate-in slide-in-from-left-4 fade-in duration-500",children:T.jsx("div",{className:"bg-gradient-to-r from-pink-600/90 to-rose-600/90 backdrop-blur-md text-white px-3 py-0.5 md:px-6 md:py-1 rounded-t-lg shadow-lg border border-pink-400/50 border-b-0 font-bold text-xs md:text-base tracking-wider transform -skew-x-12 origin-bottom-left",children:T.jsx("span",{className:"block transform skew-x-12 shadow-black drop-shadow-sm",children:te})})}),T.jsxs("div",{className:"bg-black/80 md:bg-black/60 backdrop-blur-md border border-white/10 rounded-xl md:rounded-2xl shadow-2xl p-3 md:p-6 min-h-[75px] md:min-h-[140px] max-h-[130px] md:max-h-none overflow-y-auto relative cursor-pointer transition-all duration-300 hover:bg-black/70 hover:border-pink-500/30 ring-1 ring-white/5 custom-scrollbar",onClick:ye,children:[T.jsx("div",{className:"absolute top-0 right-0 w-12 h-12 md:w-24 md:h-24 bg-gradient-to-bl from-pink-500/5 to-transparent rounded-bl-full pointer-events-none"}),T.jsxs("p",{ref:W,className:"text-sm md:text-lg leading-snug md:leading-relaxed text-gray-100 font-medium font-sans tracking-wide drop-shadow-md relative z-10",children:["",x,!P&&A&&T.jsx("span",{className:"inline-block w-1.5 h-3 md:w-2 md:h-5 ml-1 bg-pink-500 animate-pulse align-middle rounded-sm"}),y&&T.jsxs("span",{className:"inline-flex items-baseline ml-2 gap-1",children:[T.jsx("span",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),T.jsx("span",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),T.jsx("span",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}),!A&&!y&&Y&&T.jsx("div",{className:"absolute bottom-1 right-2 md:bottom-3 md:right-5 animate-bounce text-pink-500/80",children:T.jsx(gg,{className:"w-4 h-4 md:w-6 md:h-6"})})]})]})})]})},zA=({state:i,isOpen:t,onClose:o,onOpenGallery:a,onUnlockBonus:u,onOpenSave:d,onOpenLoad:p,processingBonusId:g,t:y,volume:h,setVolume:v,isMuted:x,setIsMuted:E,onUpdateName:A})=>{const[G,P]=K.useState("status"),[B,O]=K.useState(!1),[J,z]=K.useState(i.playerName||"");if(!t)return null;const Z=()=>{J.trim()&&(A(J.trim()),O(!1))};return T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200 p-0 md:p-4",children:T.jsxs("div",{className:"w-full h-full md:h-[80vh] md:max-w-lg bg-white/95 rounded-none md:rounded-3xl shadow-2xl md:border-4 border-pink-200 overflow-hidden flex flex-col transform transition-transform scale-100",children:[T.jsxs("div",{className:"bg-gradient-to-r from-pink-500 to-rose-500 p-3 md:p-4 flex items-center justify-between text-white shrink-0",children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx(vg,{className:"w-5 h-5"}),T.jsx("h2",{className:"font-display font-bold text-base md:text-lg tracking-wider",children:y.menu.title})]}),T.jsx("button",{onClick:o,className:"p-1 hover:bg-white/20 rounded-full",children:T.jsx(hi,{className:"w-6 h-6"})})]}),T.jsxs("div",{className:"bg-gray-800 text-pink-100 text-[10px] md:text-xs px-4 py-1.5 md:py-2 flex justify-between items-center shrink-0",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx(yg,{className:"w-3 h-3 mr-1 text-pink-400"}),T.jsx("span",{children:i.location})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(bA,{className:"w-3 h-3 mr-1 text-pink-400"}),T.jsx("span",{className:"max-w-[150px] md:max-w-[200px] truncate",children:i.currentQuest})]})]}),T.jsxs("div",{className:"flex border-b border-gray-200 shrink-0",children:[T.jsxs("button",{onClick:()=>P("status"),className:`flex-1 py-2 md:py-3 text-xs md:text-sm font-bold flex items-center justify-center space-x-2 transition-colors ${G==="status"?"text-pink-600 border-b-2 border-pink-600 bg-pink-50":"text-gray-500 hover:text-pink-400"}`,children:[T.jsx(Mu,{className:"w-3 h-3 md:w-4 md:h-4"}),T.jsx("span",{children:y.menu.tabs.heroines})]}),T.jsxs("button",{onClick:()=>P("inventory"),className:`flex-1 py-2 md:py-3 text-xs md:text-sm font-bold flex items-center justify-center space-x-2 transition-colors ${G==="inventory"?"text-pink-600 border-b-2 border-pink-600 bg-pink-50":"text-gray-500 hover:text-pink-400"}`,children:[T.jsx(Eh,{className:"w-3 h-3 md:w-4 md:h-4"}),T.jsx("span",{children:y.menu.tabs.items})]}),T.jsxs("button",{onClick:()=>P("system"),className:`flex-1 py-2 md:py-3 text-xs md:text-sm font-bold flex items-center justify-center space-x-2 transition-colors ${G==="system"?"text-pink-600 border-b-2 border-pink-600 bg-pink-50":"text-gray-500 hover:text-pink-400"}`,children:[T.jsx(Vu,{className:"w-3 h-3 md:w-4 md:h-4"}),T.jsx("span",{children:y.menu.tabs.system})]})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-3 md:p-4 bg-gray-50 custom-scrollbar",children:[G==="status"&&T.jsx("div",{className:"space-y-2 md:space-y-3",children:i.heroines.map(F=>T.jsxs("div",{className:"bg-white rounded-xl p-3 md:p-4 shadow-sm border border-gray-100 flex flex-col gap-1 md:gap-2",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsx("p",{className:"font-bold text-gray-800 text-base md:text-lg",children:F.name}),T.jsx("p",{className:"text-[10px] md:text-xs text-pink-500 font-medium uppercase tracking-wide",children:F.archetype})]}),T.jsx("span",{className:`text-[10px] md:text-xs px-2 py-1 rounded-full font-bold ${F.affection>=100?"bg-amber-100 text-amber-600":F.affection>70?"bg-rose-100 text-rose-600":F.affection>30?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:F.status})]}),T.jsxs("div",{className:"text-[10px] md:text-xs text-gray-500 italic mb-1",children:['"',F.description,'"']}),T.jsxs("div",{className:"relative h-2 md:h-3 bg-gray-100 rounded-full overflow-hidden border border-gray-200",children:[T.jsx("div",{className:`absolute top-0 left-0 h-full transition-all duration-700 ease-out ${F.affection>=100?"bg-gradient-to-r from-amber-300 via-yellow-400 to-amber-500":"bg-gradient-to-r from-pink-300 to-rose-500"}`,style:{width:`${Math.min(100,Math.max(0,F.affection))}%`}}),T.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-[8px] font-bold text-black/40 z-10",children:[F.affection,"%"]})]}),F.affection>=100&&T.jsx("button",{onClick:()=>u(F),disabled:g===F.id,className:`mt-1 md:mt-2 w-full py-1.5 md:py-2 rounded-lg text-xs font-bold flex items-center justify-center gap-2 transition-all
                                    ${g===F.id?"bg-gray-100 text-gray-400":"bg-gradient-to-r from-amber-400 to-orange-500 text-white shadow-md hover:shadow-lg transform hover:scale-[1.01]"}`,children:g===F.id?y.menu.actions.unlocking:T.jsxs(T.Fragment,{children:[T.jsx(cA,{className:"w-3 h-3"})," ",y.menu.actions.unlock]})})]},F.id))}),G==="inventory"&&T.jsx("div",{className:"grid grid-cols-2 gap-2 md:gap-3",children:i.inventory.length===0?T.jsx("div",{className:"col-span-2 text-center py-10 text-gray-400 italic text-xs md:text-sm",children:y.menu.emptyBag}):i.inventory.map((F,W)=>T.jsxs("div",{className:"bg-white p-2 md:p-3 rounded-xl border border-gray-200 shadow-sm flex items-center space-x-2",children:[T.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 bg-pink-100 rounded-full flex items-center justify-center text-pink-500 shrink-0",children:T.jsx(Eh,{className:"w-3 h-3 md:w-4 md:h-4"})}),T.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-700 truncate",children:F})]},W))}),G==="system"&&T.jsxs("div",{className:"space-y-2 md:space-y-4",children:[T.jsxs("div",{className:"bg-white border-2 border-gray-100 p-3 md:p-4 rounded-xl shadow-sm",children:[T.jsxs("div",{className:"flex items-center text-gray-700 font-bold mb-2 md:mb-3 text-sm md:text-base",children:[T.jsx(Mu,{className:"w-4 h-4 mr-2 text-pink-500"}),y.menu.settings.playerName]}),T.jsx("div",{className:"flex items-center gap-2",children:B?T.jsxs("div",{className:"flex-1 flex gap-2",children:[T.jsx("input",{type:"text",value:J,onChange:F=>z(F.target.value),className:"flex-1 bg-gray-100 border border-pink-200 rounded px-2 py-1 text-sm focus:outline-none focus:border-pink-500",autoFocus:!0}),T.jsx("button",{onClick:Z,className:"bg-pink-500 text-white p-1.5 rounded hover:bg-pink-600",children:T.jsx(go,{className:"w-4 h-4"})})]}):T.jsxs("div",{className:"flex-1 flex justify-between items-center bg-gray-50 px-3 py-2 rounded-lg",children:[T.jsx("span",{className:"font-medium text-gray-800 text-sm",children:i.playerName}),T.jsx("button",{onClick:()=>O(!0),className:"text-gray-400 hover:text-pink-500",children:T.jsx(vA,{className:"w-4 h-4"})})]})})]}),T.jsxs("div",{className:"bg-white border-2 border-gray-100 p-3 md:p-4 rounded-xl shadow-sm",children:[T.jsxs("div",{className:"flex items-center text-gray-700 font-bold mb-2 md:mb-3 text-sm md:text-base",children:[T.jsx(GA,{className:"w-4 h-4 mr-2 text-pink-500"}),y.menu.settings.audio]}),T.jsxs("div",{className:"space-y-2 md:space-y-3",children:[T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[T.jsx("span",{children:y.menu.settings.volume}),T.jsxs("span",{children:[Math.round(h*100),"%"]})]}),T.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:h,onChange:F=>v(parseFloat(F.target.value)),disabled:x,className:`w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-pink-500 ${x?"opacity-50":""}`})]}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("span",{className:"text-xs md:text-sm text-gray-600",children:y.menu.settings.mute}),T.jsx("button",{onClick:()=>E(!x),className:`relative w-10 h-5 md:w-12 md:h-6 rounded-full transition-colors duration-200 ease-in-out focus:outline-none ${x?"bg-pink-500":"bg-gray-300"}`,children:T.jsx("span",{className:`absolute top-1 left-1 bg-white w-3 h-3 md:w-4 md:h-4 rounded-full shadow transition-transform duration-200 ease-in-out ${x?"translate-x-5 md:translate-x-6":"translate-x-0"}`})})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 gap-2 md:gap-3",children:[T.jsxs("button",{onClick:d,className:"bg-white border-2 border-gray-100 hover:border-pink-300 p-3 md:p-4 rounded-xl text-left shadow-sm transition-all group",children:[T.jsx("div",{className:"font-bold text-gray-700 group-hover:text-pink-600 text-sm md:text-base",children:y.menu.actions.save}),T.jsx("div",{className:"text-[10px] md:text-xs text-gray-400",children:y.menu.actions.saveDesc})]}),T.jsxs("button",{onClick:p,className:"bg-white border-2 border-gray-100 hover:border-pink-300 p-3 md:p-4 rounded-xl text-left shadow-sm transition-all group",children:[T.jsx("div",{className:"font-bold text-gray-700 group-hover:text-pink-600 text-sm md:text-base",children:y.menu.actions.load}),T.jsx("div",{className:"text-[10px] md:text-xs text-gray-400",children:y.menu.actions.loadDesc})]}),T.jsxs("button",{onClick:a,className:"bg-gradient-to-r from-pink-500 to-rose-600 text-white p-3 md:p-4 rounded-xl text-left shadow-lg hover:shadow-xl transition-all transform hover:scale-[1.01]",children:[T.jsxs("div",{className:"font-bold flex items-center text-sm md:text-base",children:[T.jsx(ho,{className:"w-4 h-4 mr-2"})," ",y.menu.actions.gallery]}),T.jsx("div",{className:"text-[10px] md:text-xs text-pink-100",children:y.menu.actions.galleryDesc})]})]})]})]}),T.jsxs("div",{className:"p-2 md:p-3 text-center text-[10px] text-gray-400 bg-gray-100 shrink-0",children:["Kizuna Engine v2.2  ",y.game.turn," ",i.turnCount,"  ",i.theme]})]})})},Ah={SliceOfLife:"https://cdn.pixabay.com/download/audio/2022/05/27/audio_1808fbf07a.mp3",Sentimental:"https://cdn.pixabay.com/download/audio/2021/11/24/audio_826947e594.mp3",Tension:"https://cdn.pixabay.com/download/audio/2022/03/24/audio_8e5f84442b.mp3",Action:"https://cdn.pixabay.com/download/audio/2022/03/10/audio_5480a4bf69.mp3",Mystery:"https://cdn.pixabay.com/download/audio/2022/02/07/audio_352837594d.mp3",Romantic:"https://cdn.pixabay.com/download/audio/2021/09/06/audio_766a8710c2.mp3",Comical:"https://cdn.pixabay.com/download/audio/2022/01/18/audio_d2948d7262.mp3",Magical:"https://cdn.pixabay.com/download/audio/2022/04/27/audio_6902c21b21.mp3",Melancholy:"https://cdn.pixabay.com/download/audio/2021/11/25/audio_91b085001d.mp3",Upbeat:"https://cdn.pixabay.com/download/audio/2021/08/04/audio_1474950330.mp3",Battle:"https://cdn.pixabay.com/download/audio/2020/09/14/audio_74154f2c8a.mp3",Horror:"https://cdn.pixabay.com/download/audio/2021/08/08/audio_6f018770c2.mp3",LateNight:"https://cdn.pixabay.com/download/audio/2021/11/23/audio_035a336eb6.mp3",Cyberpunk:"https://cdn.pixabay.com/download/audio/2020/11/10/audio_544a032931.mp3",Historical:"https://cdn.pixabay.com/download/audio/2022/10/25/audio_47838f4666.mp3"},Nh={SchoolBell:"https://cdn.pixabay.com/download/audio/2022/03/24/audio_1be3e0d7b4.mp3",DoorOpen:"https://cdn.pixabay.com/download/audio/2022/03/19/audio_843c038345.mp3",Footsteps:"https://cdn.pixabay.com/download/audio/2022/03/10/audio_c8c8a73467.mp3",Heartbeat:"https://cdn.pixabay.com/download/audio/2022/03/15/audio_c71d616281.mp3",MagicChime:"https://cdn.pixabay.com/download/audio/2022/03/24/audio_c3292c38b2.mp3",Explosion:"https://cdn.pixabay.com/download/audio/2022/03/10/audio_c8c8a73467.mp3",Rain:"https://cdn.pixabay.com/download/audio/2022/01/26/audio_d0c6ff1e65.mp3",Crowd:"https://cdn.pixabay.com/download/audio/2022/01/18/audio_828246117c.mp3",PhoneRing:"https://cdn.pixabay.com/download/audio/2022/03/24/audio_1be3e0d7b4.mp3",Cheer:"https://cdn.pixabay.com/download/audio/2021/08/04/audio_88e9c74079.mp3",Scream:"https://cdn.pixabay.com/download/audio/2020/10/27/audio_4520911288.mp3",Whistle:"https://cdn.pixabay.com/download/audio/2022/03/22/audio_5810904533.mp3"},Mh=({bgm:i,sfx:t,volume:o,isMuted:a})=>{const u=K.useRef(null),d=K.useRef(null),p=K.useRef(null);return K.useEffect(()=>{if(a||!i||i==="None"){u.current&&(u.current.pause(),(!i||i==="None")&&(d.current=null));return}const g=Ah[i]||Ah.SliceOfLife;if(d.current!==g){u.current&&u.current.pause();const y=new Audio(g);y.loop=!0,y.volume=a?0:o*.4;const h=y.play();h!==void 0&&h.catch(v=>{console.warn("Audio playback failed (likely needs user interaction):",v)}),u.current=y,d.current=g}else u.current&&u.current.paused&&!a&&u.current.play().catch(y=>console.warn("Resume failed:",y))},[i,a]),K.useEffect(()=>{u.current&&(u.current.volume=a?0:o*.4,a?u.current.pause():u.current.paused&&i&&i!=="None"&&u.current.play().catch(console.warn))},[o,a,i]),K.useEffect(()=>{if(a||!t||t==="None"||!Nh[t])return;const g=Date.now();if(p.current&&p.current.id===t&&g-p.current.time<100)return;const y=new Audio(Nh[t]);return y.volume=o,y.play().catch(h=>console.warn("SFX play failed:",h)),p.current={id:t,time:g},()=>{y.pause(),y.currentTime=0}},[t,o,a]),null},wh=({onClose:i,t})=>{const[o,a]=K.useState([]),[u,d]=K.useState(!0),[p,g]=K.useState(null);K.useEffect(()=>{(async()=>{try{const v=await MC();a(v)}catch(v){console.error("Failed to load gallery",v)}finally{d(!1)}})()},[]);const y=(h,v)=>{h.stopPropagation();const x=document.createElement("a");x.href=v.imageData,x.download=`kizuna_${v.type}_${v.timestamp}.jpg`,document.body.appendChild(x),x.click(),document.body.removeChild(x)};return T.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-0 md:p-4 animate-in fade-in duration-300",children:[T.jsxs("div",{className:"bg-white w-full h-full md:h-[90vh] md:max-w-6xl rounded-none md:rounded-2xl overflow-hidden flex flex-col shadow-2xl",children:[T.jsxs("div",{className:"p-4 md:p-6 bg-gradient-to-r from-pink-600 to-rose-600 flex items-center justify-between text-white shrink-0",children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx(ho,{className:"w-5 h-5 md:w-6 md:h-6"}),T.jsx("h2",{className:"text-lg md:text-2xl font-display font-bold",children:t.gallery.title})]}),T.jsx("button",{onClick:i,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:T.jsx(hi,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 bg-gray-50 custom-scrollbar",children:u?T.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[T.jsx(Xa,{className:"w-12 h-12 animate-spin mb-4 text-pink-500"}),T.jsx("p",{children:t.gallery.loading})]}):o.length===0?T.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 border-2 border-dashed border-gray-300 rounded-xl",children:[T.jsx(ho,{className:"w-16 h-16 mb-4 opacity-20"}),T.jsx("p",{className:"text-lg font-medium",children:t.gallery.empty}),T.jsx("p",{className:"text-sm",children:t.gallery.emptyDesc})]}):T.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-6",children:o.map(h=>T.jsxs("div",{onClick:()=>g(h),className:"group relative aspect-video bg-gray-200 rounded-lg md:rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all cursor-pointer transform hover:-translate-y-1",children:[T.jsx("img",{src:h.imageData,alt:h.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),T.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-3 md:p-4",children:[T.jsx("h3",{className:"text-white font-bold text-sm md:text-lg truncate",children:h.title}),T.jsx("p",{className:"text-gray-200 text-[10px] md:text-xs line-clamp-2",children:h.description}),T.jsxs("div",{className:"flex items-center justify-between mt-2",children:[T.jsxs("div",{className:"flex items-center text-gray-400 text-[10px] md:text-xs",children:[T.jsx(JC,{className:"w-3 h-3 mr-1"}),new Date(h.timestamp).toLocaleDateString()]}),T.jsx("button",{onClick:v=>y(v,h),className:"p-1.5 bg-white/20 hover:bg-white/40 rounded-full text-white transition-colors",title:t.game.download,children:T.jsx(Ch,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]})]},h.id))})})]}),p&&T.jsxs("div",{className:"absolute inset-0 z-50 bg-black flex flex-col items-center justify-center p-4 animate-in fade-in zoom-in duration-200",onClick:()=>g(null),children:[T.jsx("img",{src:p.imageData,alt:p.title,className:"max-w-full max-h-[80vh] object-contain shadow-2xl rounded-lg"}),T.jsxs("div",{className:"mt-4 text-white text-center flex flex-col items-center gap-2 md:gap-3",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl md:text-2xl font-bold",children:p.title}),T.jsx("p",{className:"text-gray-400 text-sm max-w-xl mx-auto line-clamp-2",children:p.description})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsxs("button",{onClick:h=>y(h,p),className:"flex items-center px-4 py-2 bg-pink-600 hover:bg-pink-500 rounded-full text-sm font-bold transition-colors",children:[T.jsx(Ch,{className:"w-4 h-4 mr-2"}),t.game.download]}),T.jsx("button",{className:"text-xs text-gray-500 hover:text-gray-300",children:t.gallery.close})]})]})]})]})},bh=({mode:i,currentState:t,onClose:o,onLoadGame:a,t:u})=>{const[d,p]=K.useState([]),[g,y]=K.useState(!0);K.useEffect(()=>{h()},[]);const h=async()=>{try{const B=await wC();p(B)}catch(B){console.error(B)}finally{y(!1)}},v=async B=>{if(t)try{await ug(B,t),await h(),i==="save"&&o()}catch(O){console.error("Save failed",O)}},x=B=>{a(B.gameState),o()},E=async(B,O)=>{B.stopPropagation(),confirm(u.saveload.deleteConfirm)&&(await bC(O),h())},A=(B,O,J=!1)=>{const z=d.find(W=>W.id===B),F=i==="save"?!J:!!z;return T.jsxs("div",{onClick:()=>{i==="save"&&!J?v(B):i==="load"&&z&&x(z)},className:`relative group bg-white border-2 rounded-xl p-2 md:p-4 transition-all
          ${F?"cursor-pointer":"cursor-not-allowed opacity-60"}
          ${i==="save"&&!J?"hover:border-pink-400 hover:shadow-lg":""}
          ${i==="load"&&z?"hover:border-blue-400 hover:shadow-lg":""}
          ${J?"border-amber-200 bg-amber-50/30":"border-gray-200"}
        `,children:[T.jsxs("div",{className:"flex items-start gap-3 md:gap-4",children:[T.jsx("div",{className:`w-24 h-16 md:w-32 md:h-20 rounded-lg overflow-hidden shrink-0 shadow-inner flex items-center justify-center ${J?"bg-amber-100":"bg-gray-200"}`,children:z?.previewImage?T.jsx("img",{src:z.previewImage,alt:"Save",className:"w-full h-full object-cover"}):T.jsx("span",{className:"text-gray-400 text-[10px] md:text-xs",children:u.saveload.noData})}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("h3",{className:`font-bold text-sm md:text-lg truncate ${J?"text-amber-700":"text-gray-700"}`,children:O}),J&&T.jsxs("span",{className:"bg-amber-500 text-white text-[8px] md:text-[10px] px-1.5 py-0.5 rounded-full uppercase font-bold tracking-wider flex items-center",children:[T.jsx(HA,{className:"w-3 h-3 mr-1"})," ",u.saveload.autoSave]})]}),z&&!J&&T.jsx("button",{onClick:W=>E(W,B),className:"text-gray-400 hover:text-red-500 p-1",children:T.jsx(IA,{className:"w-4 h-4"})})]}),z?T.jsxs("div",{className:"mt-1 text-xs md:text-sm text-gray-600 space-y-0.5 md:space-y-1",children:[T.jsx("p",{className:"font-medium text-pink-600 line-clamp-1",children:z.location}),T.jsxs("div",{className:"flex items-center gap-2 md:gap-3 text-[10px] md:text-xs text-gray-400",children:[T.jsxs("span",{className:"flex items-center truncate",children:[T.jsx($C,{className:"w-3 h-3 mr-1"})," ",new Date(z.timestamp).toLocaleDateString()]}),T.jsxs("span",{className:"whitespace-nowrap",children:[u.game.turn,": ",z.turnCount]})]})]}):T.jsx("p",{className:"mt-1 md:mt-2 text-gray-400 text-xs md:text-sm italic",children:u.saveload.empty})]})]}),F&&T.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity rounded-xl pointer-events-none",children:[i==="save"&&!J&&T.jsx("span",{className:"bg-pink-600 text-white px-2 py-1 md:px-3 md:py-1 rounded-full text-xs md:text-sm font-bold shadow-md",children:u.saveload.saveHere}),i==="load"&&z&&T.jsx("span",{className:"bg-blue-600 text-white px-2 py-1 md:px-3 md:py-1 rounded-full text-xs md:text-sm font-bold shadow-md",children:u.saveload.loadGame})]})]},B)},G=["slot_1","slot_2","slot_3"],P=d.some(B=>B.id==="autosave");return T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-0 md:p-4 animate-in fade-in duration-200",children:T.jsxs("div",{className:"bg-white w-full h-full md:h-auto md:max-h-[90vh] md:max-w-3xl rounded-none md:rounded-3xl overflow-hidden shadow-2xl flex flex-col",children:[T.jsxs("div",{className:"p-3 md:p-6 bg-gradient-to-r from-pink-500 to-rose-500 flex items-center justify-between text-white shrink-0",children:[T.jsxs("h2",{className:"text-lg md:text-2xl font-display font-bold flex items-center",children:[i==="save"?T.jsx(go,{className:"w-5 h-5 md:w-6 md:h-6 mr-2"}):T.jsx(Hu,{className:"w-5 h-5 md:w-6 md:h-6 mr-2"}),i==="save"?u.saveload.saveTitle:u.saveload.loadTitle]}),T.jsx("button",{onClick:o,className:"p-1 md:p-2 hover:bg-white/20 rounded-full",children:T.jsx(hi,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-3 md:p-6 bg-gray-50 space-y-2 md:space-y-4 custom-scrollbar",children:g?T.jsx("div",{className:"text-center p-10 text-gray-400",children:"Loading data..."}):T.jsxs("div",{className:"flex flex-col gap-2 md:gap-4",children:[i==="load"&&P&&T.jsxs(T.Fragment,{children:[A("autosave",u.saveload.autoSave,!0),T.jsx("div",{className:"border-t border-gray-200 my-1"})]}),G.map((B,O)=>A(B,`Slot ${O+1}`))]})})]})})},BA=({isOpen:i,onClose:t,onStart:o,selectedTheme:a,onSelectTheme:u,customTheme:d,setCustomTheme:p,isCustomTheme:g,setIsCustomTheme:y,predefinedThemes:h,t:v})=>i?T.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-sm p-0 md:p-4 animate-in fade-in duration-300",children:T.jsxs("div",{className:"bg-gray-900/90 backdrop-blur-md border-none md:border border-white/10 w-full h-full md:h-auto md:max-h-[90vh] md:max-w-2xl rounded-none md:rounded-2xl overflow-hidden shadow-2xl flex flex-col animate-in zoom-in-95 duration-300",children:[T.jsxs("div",{className:"p-4 md:p-6 border-b border-white/10 flex items-center justify-between bg-gradient-to-r from-pink-900/40 to-rose-900/40 shrink-0",children:[T.jsxs("div",{className:"flex items-center text-pink-400",children:[T.jsx(gA,{className:"w-5 h-5 md:w-6 md:h-6 mr-2 md:mr-3"}),T.jsx("h2",{className:"text-lg md:text-2xl font-display font-bold text-white tracking-wide",children:v.theme.title})]}),T.jsx("button",{onClick:t,className:"p-1.5 md:p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white transition-colors",children:T.jsx(hi,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-2 md:space-y-3 custom-scrollbar bg-black/20",children:[T.jsx("p",{className:"text-gray-400 text-xs md:text-sm mb-2 md:mb-4",children:v.theme.desc}),h.map(x=>{const E=!g&&a===x,A=v.theme.names[x]||x;return T.jsxs("button",{onClick:()=>{u(x),y(!1)},className:`w-full text-left px-4 py-2 md:px-6 md:py-4 rounded-xl transition-all duration-200 flex items-center justify-between group border relative overflow-hidden ${E?"bg-gradient-to-r from-pink-700 to-rose-700 border-pink-500 text-white shadow-lg transform scale-[1.01]":"bg-white/5 border-white/5 hover:bg-white/10 hover:border-white/20 text-gray-300"}`,children:[E&&T.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse pointer-events-none"}),T.jsx("span",{className:"font-medium text-sm md:text-lg relative z-10",children:A}),E&&T.jsx(hg,{className:"w-4 h-4 md:w-5 md:h-5 text-white relative z-10"})]},x)}),T.jsx("div",{className:`rounded-xl border transition-all duration-200 p-1 ${g?"bg-gradient-to-r from-pink-600 to-rose-600 border-pink-400 shadow-lg":"bg-white/5 border-white/5 hover:bg-white/10"}`,children:T.jsxs("div",{className:"p-2 md:p-3",children:[T.jsxs("button",{onClick:()=>y(!0),className:"w-full flex items-center text-left mb-2 md:mb-3",children:[T.jsx("div",{className:`w-5 h-5 rounded-full border mr-3 flex items-center justify-center transition-colors ${g?"border-white bg-white text-pink-600":"border-gray-500"}`,children:g&&T.jsx("div",{className:"w-2 h-2 bg-current rounded-full"})}),T.jsxs("span",{className:`font-medium text-sm md:text-lg flex items-center ${g?"text-white":"text-gray-300"}`,children:[T.jsx(Oa,{className:"w-4 h-4 mr-2"}),v.theme.custom]})]}),g&&T.jsx("div",{className:"animate-in slide-in-from-top-2 duration-200",children:T.jsx("input",{type:"text",value:d,onChange:x=>p(x.target.value),placeholder:v.theme.customPlaceholder,className:"w-full bg-black/40 border border-white/20 rounded-lg p-2 md:p-3 text-white placeholder-gray-400 focus:outline-none focus:border-white/50 transition-colors text-xs md:text-sm",autoFocus:!0})})]})})]}),T.jsxs("div",{className:"p-4 md:p-6 bg-black/40 border-t border-white/10 flex justify-end items-center space-x-3 md:space-x-4 shrink-0",children:[T.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white font-medium text-xs md:text-sm px-2 py-1 md:px-4 md:py-2",children:v.theme.cancel}),T.jsxs("button",{onClick:o,className:"bg-white text-pink-600 hover:bg-pink-50 font-bold py-2 px-4 md:py-3 md:px-8 rounded-full shadow-lg shadow-white/10 transform hover:scale-105 transition-all flex items-center text-sm md:text-base",children:[T.jsx(Sg,{className:"w-4 h-4 md:w-5 md:h-5 mr-2 fill-current"}),v.theme.start]})]})]})}):null,OA=({isOpen:i,onClose:t,onConfirm:o,initialName:a,t:u})=>{const[d,p]=K.useState(a);if(!i)return null;const g=y=>{y.preventDefault(),d.trim()&&o(d.trim())};return T.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/80 backdrop-blur-sm p-0 md:p-4 animate-in fade-in duration-300",children:T.jsx("div",{className:"bg-black/80 md:bg-white/10 backdrop-blur-md border-none md:border border-white/20 w-full h-full md:h-auto md:max-w-md rounded-none md:rounded-2xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300 flex flex-col justify-center",children:T.jsxs("div",{className:"p-6 md:p-8 flex flex-col items-center text-center",children:[T.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-gradient-to-br from-pink-500 to-rose-600 rounded-full flex items-center justify-center mb-4 md:mb-6 shadow-lg shadow-pink-500/30",children:T.jsx(Mu,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),T.jsx("h2",{className:"text-xl md:text-2xl font-display font-bold text-white mb-1 md:mb-2",children:u.start.enterName}),T.jsx("p",{className:"text-pink-200 text-xs md:text-sm mb-4 md:mb-6 opacity-80",children:"How should the heroines call you?"}),T.jsxs("form",{onSubmit:g,className:"w-full",children:[T.jsx("input",{type:"text",value:d,onChange:y=>p(y.target.value),placeholder:u.start.namePlaceholder,className:"w-full bg-black/40 border border-pink-500/30 focus:border-pink-500 rounded-xl px-4 py-3 md:py-4 text-center text-lg md:text-xl text-white placeholder-white/20 focus:outline-none transition-all mb-4 md:mb-6 font-display tracking-wide",autoFocus:!0,maxLength:20}),T.jsxs("button",{type:"submit",disabled:!d.trim(),className:`w-full group relative overflow-hidden rounded-xl py-3 md:py-4 font-bold text-base md:text-lg transition-all duration-300 
                        ${d.trim()?"bg-gradient-to-r from-pink-600 to-rose-600 text-white shadow-xl shadow-pink-900/50 hover:scale-[1.02]":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[T.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[u.start.startJourney,T.jsx(gg,{className:"w-4 h-4 md:w-5 md:h-5"})]}),d.trim()&&T.jsx("div",{className:"absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 ease-in-out"})]})]})]})})})},FA=({t:i})=>T.jsxs("div",{className:"absolute inset-0 z-50 bg-gray-900 flex flex-col items-center justify-center text-white overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-pink-900/20 via-gray-900 to-gray-900 animate-pulse"}),T.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[T.jsxs("div",{className:"relative mb-8",children:[T.jsx("div",{className:"absolute inset-0 bg-pink-500 blur-xl opacity-20 animate-pulse rounded-full"}),T.jsx(Xa,{className:"w-16 h-16 text-pink-500 animate-spin relative z-10"}),T.jsx(Oa,{className:"absolute top-0 right-0 w-6 h-6 text-yellow-400 animate-bounce",style:{animationDelay:"0.5s"}}),T.jsx(Oa,{className:"absolute bottom-0 left-0 w-4 h-4 text-pink-300 animate-bounce",style:{animationDelay:"1s"}})]}),T.jsx("h2",{className:"text-2xl font-display font-bold text-white tracking-widest uppercase mb-2 animate-pulse",children:"KIZUNA ENGINE"}),T.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm text-pink-200/70",children:[T.jsx("p",{className:"animate-fade-in-up",children:i.start.loading}),T.jsx("p",{className:"text-xs text-gray-500 animate-fade-in-up delay-300",children:i.start.preparing})]}),T.jsx("div",{className:"w-64 h-1 bg-gray-800 rounded-full mt-8 overflow-hidden",children:T.jsx("div",{className:"h-full bg-gradient-to-r from-pink-500 to-rose-500 w-full animate-[progress_2s_ease-in-out_infinite_origin-left]"})})]})]}),JA=["deepseek-ai/DeepSeek-V3","deepseek-ai/DeepSeek-R1","Pro/deepseek-ai/DeepSeek-V3","Pro/deepseek-ai/DeepSeek-R1","deepseek-ai/DeepSeek-V2.5","Qwen/Qwen2.5-72B-Instruct","Qwen/Qwen2.5-32B-Instruct","Qwen/Qwen2.5-14B-Instruct","Qwen/Qwen2.5-Coder-32B-Instruct","Qwen/QwQ-32B","THUDM/glm-4-9b-chat","internlm/internlm2_5-7b-chat","deepseek-ai/DeepSeek-V3.2-Exp","Pro/deepseek-ai/DeepSeek-V3.2-Exp","inclusionAI/Ling-1T","zai-org/GLM-4.6","moonshotai/Kimi-K2-Instruct-0905","Pro/deepseek-ai/DeepSeek-V3.1-Terminus","deepseek-ai/DeepSeek-V3.1-Terminus","Qwen/Qwen3-Next-80B-A3B-Instruct","Qwen/Qwen3-Next-80B-A3B-Thinking","inclusionAI/Ring-flash-2.0","inclusionAI/Ling-flash-2.0","inclusionAI/Ling-mini-2.0","ByteDance-Seed/Seed-OSS-36B-Instruct","stepfun-ai/step3","Qwen/Qwen3-Coder-30B-A3B-Instruct","Qwen/Qwen3-Coder-480B-A35B-Instruct","Qwen/Qwen3-30B-A3B-Thinking-2507","Qwen/Qwen3-30B-A3B-Instruct-2507","Qwen/Qwen3-235B-A22B-Thinking-2507","Qwen/Qwen3-235B-A22B-Instruct-2507","zai-org/GLM-4.5-Air","zai-org/GLM-4.5","baidu/ERNIE-4.5-300B-A47B","ascend-tribe/pangu-pro-moe","tencent/Hunyuan-A13B-Instruct","MiniMaxAI/MiniMax-M1-80k","Tongyi-Zhiwen/QwenLong-L1-32B","Qwen/Qwen3-30B-A3B","Qwen/Qwen3-32B","Qwen/Qwen3-14B","Qwen/Qwen3-8B","Qwen/Qwen3-235B-A22B","THUDM/GLM-Z1-32B-0414","THUDM/GLM-4-32B-0414","THUDM/GLM-Z1-Rumination-32B-0414","THUDM/GLM-4-9B-0414","deepseek-ai/DeepSeek-R1-0528-Qwen3-8B","deepseek-ai/DeepSeek-R1-Distill-Qwen-32B","deepseek-ai/DeepSeek-R1-Distill-Qwen-14B","deepseek-ai/DeepSeek-R1-Distill-Qwen-7B","Pro/deepseek-ai/DeepSeek-R1-Distill-Qwen-7B","Qwen/Qwen2.5-72B-Instruct-128K","Qwen/Qwen2.5-7B-Instruct","Qwen/Qwen2.5-Coder-7B-Instruct","Qwen/Qwen2-7B-Instruct","Pro/Qwen/Qwen2.5-7B-Instruct","Pro/Qwen/Qwen2-7B-Instruct","Pro/THUDM/glm-4-9b-chat"],YA=["Qwen/Qwen-Image","Kwai-Kolors/Kolors"],Rh=({label:i,value:t,onChange:o,options:a,placeholder:u="Select...",searchable:d=!1,isOpen:p,onToggle:g})=>{const[y,h]=K.useState(""),v=K.useRef(null),x=K.useRef(null);K.useEffect(()=>{p&&d&&x.current&&x.current.focus(),p||h("")},[p,d]);const E=a.filter(A=>A.toLowerCase().includes(y.toLowerCase()));return T.jsxs("div",{className:"relative",ref:v,children:[T.jsx("label",{className:"block text-xs md:text-sm font-bold text-gray-700 mb-1",children:i}),T.jsxs("button",{onClick:g,className:`w-full p-2 md:p-3 rounded-xl border text-left flex items-center justify-between transition-all text-sm ${p?"border-pink-500 bg-white ring-2 ring-pink-100":"border-gray-200 bg-gray-50 hover:bg-white hover:border-gray-300"}`,children:[T.jsx("span",{className:`truncate ${t?"text-gray-800":"text-gray-400"}`,children:t||u}),T.jsx(QC,{className:`w-4 h-4 text-gray-400 transition-transform ${p?"rotate-180 text-pink-500":""}`})]}),p&&T.jsxs("div",{className:"absolute z-20 w-full mt-1 bg-white border border-gray-200 rounded-xl shadow-xl max-h-40 md:max-h-60 overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[d&&T.jsx("div",{className:"p-2 border-b border-gray-100 bg-gray-50 sticky top-0",children:T.jsxs("div",{className:"relative",children:[T.jsx(_A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400"}),T.jsx("input",{ref:x,type:"text",value:y,onChange:A=>h(A.target.value),placeholder:"Search...",className:"w-full pl-8 pr-3 py-1 text-xs bg-white border border-gray-200 rounded-lg focus:outline-none focus:border-pink-400",onClick:A=>A.stopPropagation()})]})}),T.jsxs("div",{className:"overflow-y-auto flex-1 p-1 custom-scrollbar",children:[d&&y&&T.jsx("button",{onClick:()=>o(y),className:"w-full px-2 py-2 text-left text-xs rounded-lg hover:bg-gray-50 text-pink-600 italic flex items-center",children:T.jsxs("span",{className:"truncate",children:['Use custom: "',y,'"']})}),E.length>0?E.map(A=>T.jsxs("button",{onClick:()=>o(A),className:`w-full px-2 py-1.5 text-left text-xs md:text-sm rounded-lg transition-colors flex items-center justify-between group ${t===A?"bg-pink-50 text-pink-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[T.jsx("span",{className:"truncate",children:A}),t===A&&T.jsx(hg,{className:"w-3 h-3 text-pink-500"})]},A)):T.jsx("div",{className:"px-3 py-4 text-center text-xs text-gray-400",children:"No matching models found"})]})]})]})},KA=({isOpen:i,onClose:t,onSave:o,t:a})=>{const[u,d]=K.useState(po()),[p,g]=K.useState("gemini"),[y,h]=K.useState(null),[v,x]=K.useState("general"),[E,A]=K.useState(!1),[G,P]=K.useState("initial"),[B,O]=K.useState(""),[J,z]=K.useState([]),[Z,F]=K.useState(!1),[W,Y]=K.useState(null);K.useEffect(()=>{if(i){const k=po();d(k),g(k.aiProvider),x("general"),A(!1),Y(null)}},[i]),K.useEffect(()=>{E&&me(G)},[G,E]);const me=async k=>{const ee=await yo(k);O(ee);const _e=await UC(k);z(_e)};if(K.useEffect(()=>{const k=ee=>{y&&!ee.target.closest(".relative")&&h(null)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[y]),!i)return null;const te=()=>{const k={...u,aiProvider:p};CC(k),o()},le=(k,ee)=>{d(_e=>({..._e,[k]:ee})),h(null)},ye=k=>{h(ee=>ee===k?null:k)},se=async()=>{await DC(G,B),await me(G),ue(a.config.dev.savedToast)},re=k=>{O(k),F(!1),ue(a.config.dev.restoredToast)},Be=()=>{O(fg[G])},ue=k=>{Y(k),setTimeout(()=>Y(null),3e3)},D="w-full p-2 md:p-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-700 focus:bg-white focus:border-pink-500 focus:ring-2 focus:ring-pink-200 outline-none transition-all text-sm";return T.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/80 backdrop-blur-md p-0 md:p-4 animate-in fade-in duration-300",children:T.jsxs("div",{className:"bg-white w-full h-full md:h-auto md:max-h-[90vh] md:max-w-3xl rounded-none md:rounded-3xl overflow-hidden shadow-2xl flex flex-col animate-in zoom-in-95",children:[T.jsxs("div",{className:"p-3 md:p-6 bg-gray-900 flex items-center justify-between text-white shrink-0",children:[T.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[T.jsx(Vu,{className:"w-5 h-5 md:w-6 md:h-6 text-pink-400"}),T.jsx("h2",{className:"text-base md:text-xl font-bold",children:a.config.title})]}),T.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[T.jsxs("div",{className:"flex bg-gray-800 rounded-lg p-0.5 md:p-1",children:[T.jsx("button",{onClick:()=>x("general"),className:`px-3 py-1 md:px-4 md:py-1.5 rounded-md text-xs md:text-sm font-bold transition-all ${v==="general"?"bg-gray-700 text-white shadow":"text-gray-400 hover:text-gray-200"}`,children:"General"}),T.jsxs("button",{onClick:()=>x("dev"),className:`px-3 py-1 md:px-4 md:py-1.5 rounded-md text-xs md:text-sm font-bold transition-all flex items-center gap-1 md:gap-2 ${v==="dev"?"bg-pink-900/50 text-pink-200 shadow":"text-gray-400 hover:text-gray-200"}`,children:[T.jsx(_h,{className:"w-3 h-3"}),"Dev"]})]}),T.jsx("button",{onClick:t,className:"p-1.5 md:p-2 hover:bg-white/20 rounded-full transition-colors",children:T.jsx(hi,{className:"w-5 h-5"})})]})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 bg-white space-y-4 md:space-y-6 custom-scrollbar",children:[v==="general"&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs md:text-sm font-bold text-gray-700 mb-2",children:a.config.provider}),T.jsx("div",{className:"grid grid-cols-3 gap-2 md:gap-3",children:["gemini","siliconflow","custom"].map(k=>T.jsxs("button",{onClick:()=>g(k),className:`py-2 md:py-3 px-2 rounded-xl text-xs md:text-sm font-bold border-2 transition-all capitalize flex flex-col items-center gap-1 ${p===k?"border-pink-500 bg-pink-50 text-pink-700":"border-gray-100 bg-white text-gray-400 hover:border-gray-200 hover:text-gray-600"}`,children:[T.jsx(eA,{className:`w-4 h-4 md:w-5 md:h-5 ${p===k?"text-pink-500":"text-current"}`}),k]},k))})]}),T.jsx("div",{className:"border-t border-gray-100 my-1 md:my-2"}),p==="gemini"&&T.jsx("div",{className:"space-y-3 md:space-y-4 animate-in fade-in slide-in-from-bottom-2",children:T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs md:text-sm font-bold text-gray-700 mb-1",children:a.config.gemini.key}),T.jsx("input",{type:"password",value:u.geminiKey,onChange:k=>le("geminiKey",k.target.value),className:D,placeholder:"AI..."}),T.jsxs("p",{className:"text-[10px] md:text-xs text-gray-400 mt-1 md:mt-2 flex items-center gap-1",children:[T.jsx("span",{className:"inline-block w-1 h-1 rounded-full bg-pink-500"}),a.config.gemini.desc]})]})}),p==="siliconflow"&&T.jsxs("div",{className:"space-y-3 md:space-y-4 animate-in fade-in slide-in-from-bottom-2",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs md:text-sm font-bold text-gray-700 mb-1",children:a.config.siliconflow.key}),T.jsx("input",{type:"password",value:u.siliconFlowKey,onChange:k=>le("siliconFlowKey",k.target.value),className:D,placeholder:"sk-..."})]}),T.jsx(Rh,{label:a.config.siliconflow.model,value:u.siliconFlowModel,options:JA,onChange:k=>le("siliconFlowModel",k),searchable:!0,isOpen:y==="sf_text",onToggle:()=>ye("sf_text")}),T.jsx(Rh,{label:a.config.siliconflow.imageModel,value:u.siliconFlowImageModel,options:YA,onChange:k=>le("siliconFlowImageModel",k),isOpen:y==="sf_image",onToggle:()=>ye("sf_image")}),T.jsxs("p",{className:"text-[10px] md:text-xs text-gray-400 mt-1 flex items-center gap-1",children:[T.jsx("span",{className:"inline-block w-1 h-1 rounded-full bg-pink-500"}),a.config.siliconflow.desc]})]}),p==="custom"&&T.jsxs("div",{className:"space-y-3 md:space-y-4 animate-in fade-in slide-in-from-bottom-2",children:[T.jsx("div",{className:"bg-blue-50 text-blue-600 px-3 py-2 md:px-4 md:py-3 rounded-xl text-xs md:text-sm flex items-start gap-2 border border-blue-100",children:a.config.custom.desc}),T.jsxs("div",{className:"grid grid-cols-1 gap-3 md:gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs md:text-sm font-bold text-gray-700 mb-1",children:a.config.custom.textApiUrl}),T.jsx("input",{type:"text",value:u.customApiUrl,onChange:k=>le("customApiUrl",k.target.value),className:D,placeholder:"http://localhost:11434/v1/chat/completions"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs md:text-sm font-bold text-gray-700 mb-1",children:a.config.custom.textModel}),T.jsx("input",{type:"text",value:u.customModelName,onChange:k=>le("customModelName",k.target.value),className:D,placeholder:"llama3"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs md:text-sm font-bold text-gray-700 mb-1",children:a.config.custom.textApiKey}),T.jsx("input",{type:"password",value:u.customApiKey,onChange:k=>le("customApiKey",k.target.value),className:D,placeholder:"Optional"})]}),T.jsx("div",{className:"border-t border-gray-100 my-1 md:my-2"}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs md:text-sm font-bold text-gray-700 mb-1",children:a.config.custom.imageApiUrl}),T.jsx("input",{type:"text",value:u.customImageApiUrl,onChange:k=>le("customImageApiUrl",k.target.value),className:D,placeholder:"http://localhost:11434/v1/images/generations"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs md:text-sm font-bold text-gray-700 mb-1",children:a.config.custom.imageModel}),T.jsx("input",{type:"text",value:u.customImageModelName,onChange:k=>le("customImageModelName",k.target.value),className:D,placeholder:"dall-e-3 / stable-diffusion-xl"})]})]})]})]}),v==="dev"&&T.jsx("div",{className:"animate-in fade-in",children:E?T.jsxs("div",{className:"space-y-3 md:space-y-4",children:[T.jsxs("div",{className:"bg-amber-50 text-amber-700 px-3 py-2 rounded-lg text-[10px] md:text-xs border border-amber-100 flex items-center gap-2",children:[T.jsx("span",{className:"font-bold",children:""})," ",a.config.dev.warning]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-[10px] md:text-xs font-bold text-gray-500 mb-1 uppercase tracking-wide",children:a.config.dev.promptType}),T.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:["initial","next","secret","image"].map(k=>T.jsx("button",{onClick:()=>P(k),className:`px-3 py-1.5 rounded-lg text-xs md:text-sm font-bold whitespace-nowrap transition-all ${G===k?"bg-pink-100 text-pink-700 border border-pink-200":"bg-white border border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:a.config.dev.types[k]},k))})]}),T.jsxs("div",{className:"relative",children:[T.jsxs("label",{className:"flex justify-between items-center text-[10px] md:text-xs font-bold text-gray-500 mb-1 uppercase tracking-wide",children:[T.jsx("span",{children:a.config.dev.editor}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("button",{onClick:Be,className:"text-gray-400 hover:text-gray-600 flex items-center gap-1",title:a.config.dev.reset,children:[T.jsx(Hu,{className:"w-3 h-3"}),"Reset"]}),T.jsxs("button",{onClick:()=>F(!Z),className:`flex items-center gap-1 ${Z?"text-pink-600":"text-gray-400 hover:text-gray-600"}`,children:[T.jsx(Pu,{className:"w-3 h-3"}),a.config.dev.history]})]})]}),T.jsxs("div",{className:"relative",children:[T.jsx("textarea",{value:B,onChange:k=>O(k.target.value),className:"w-full h-32 md:h-64 p-3 rounded-xl border border-gray-200 bg-gray-900 text-gray-100 font-mono text-[10px] md:text-xs leading-relaxed focus:ring-2 focus:ring-pink-400 outline-none resize-y",spellCheck:!1}),Z&&T.jsxs("div",{className:"absolute top-0 right-0 bottom-0 w-64 bg-white border-l border-gray-200 shadow-xl z-10 flex flex-col animate-in slide-in-from-right-10",children:[T.jsxs("div",{className:"p-3 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:[T.jsx("span",{className:"text-xs font-bold text-gray-600",children:"Version History"}),T.jsx("button",{onClick:()=>F(!1),children:T.jsx(hi,{className:"w-4 h-4 text-gray-400"})})]}),T.jsx("div",{className:"flex-1 overflow-y-auto",children:J.length===0?T.jsx("div",{className:"p-4 text-center text-xs text-gray-400",children:"No history found."}):J.map((k,ee)=>T.jsxs("button",{onClick:()=>re(k.content),className:"w-full text-left p-3 border-b border-gray-50 hover:bg-pink-50 transition-colors group",children:[T.jsx("div",{className:"text-xs font-bold text-gray-700",children:new Date(k.timestamp).toLocaleString()}),T.jsxs("div",{className:"text-[10px] text-gray-400 mt-1 line-clamp-2 font-mono bg-gray-100 p-1 rounded group-hover:bg-white",children:[k.content.substring(0,50),"..."]})]},ee))})]})]}),T.jsx("div",{className:"flex justify-end mt-2",children:T.jsxs("button",{onClick:se,className:"bg-pink-600 text-white px-3 py-1.5 rounded-lg font-bold text-xs md:text-sm flex items-center gap-2 hover:bg-pink-700 transition-colors shadow-md",children:[T.jsx(go,{className:"w-4 h-4"}),a.config.dev.save]})})]})]}):T.jsxs("div",{className:"flex flex-col items-center justify-center py-6 md:py-10 text-center space-y-4",children:[T.jsx("div",{className:"bg-gray-100 p-4 rounded-full",children:T.jsx(_h,{className:"w-8 h-8 text-gray-500"})}),T.jsx("h3",{className:"text-base md:text-lg font-bold text-gray-800",children:a.config.dev.title}),T.jsx("p",{className:"text-gray-500 max-w-xs text-xs md:text-sm",children:a.config.dev.warning}),T.jsx("button",{onClick:()=>A(!0),className:"bg-gray-800 text-white px-6 py-2 rounded-lg hover:bg-black transition-colors font-bold text-sm",children:a.config.dev.enable})]})})]}),v==="general"&&T.jsxs("div",{className:"p-3 md:p-6 bg-gray-50 border-t border-gray-100 flex justify-end gap-2 md:gap-3 shrink-0",children:[T.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-500 font-bold hover:bg-gray-200 hover:text-gray-700 rounded-xl transition-colors text-xs md:text-sm",children:a.config.cancel}),T.jsxs("button",{onClick:te,className:"px-5 py-2 bg-gradient-to-r from-pink-600 to-rose-600 text-white font-bold rounded-xl shadow-lg shadow-pink-200 hover:shadow-pink-300 hover:-translate-y-0.5 transition-all flex items-center gap-2 text-xs md:text-sm",children:[T.jsx(go,{className:"w-4 h-4"}),a.config.save]})]}),W&&T.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white px-4 py-2 rounded-full shadow-lg text-sm font-bold animate-in slide-in-from-bottom-4 fade-in",children:W})]})})},Ih=({t:i})=>{const t=()=>{const o=document.documentElement;if(!document.fullscreenElement)try{o.requestFullscreen?o.requestFullscreen():o.webkitRequestFullscreen&&o.webkitRequestFullscreen()}catch(a){console.log("Fullscreen not supported or blocked",a)}};return T.jsxs(T.Fragment,{children:[T.jsx("style",{children:`
        #portrait-overlay { display: none; }
        @media only screen and (orientation: portrait) and (max-width: 1024px) {
          #portrait-overlay { display: flex; }
        }
      `}),T.jsxs("div",{id:"portrait-overlay",onClick:t,className:"fixed inset-0 z-[100] bg-gray-950 text-white flex-col items-center justify-center p-8 text-center animate-in fade-in duration-300 cursor-pointer",children:[T.jsxs("div",{className:"animate-bounce mb-8 relative",children:[T.jsx(NA,{className:"w-16 h-16 text-pink-500 rotate-90 transition-transform"}),T.jsx(mA,{className:"w-6 h-6 text-white absolute -top-2 -right-2 animate-pulse"})]}),T.jsx("h2",{className:"text-2xl font-display font-bold mb-2 text-pink-100",children:i.mobile.rotate}),T.jsx("p",{className:"text-gray-400 text-sm max-w-xs leading-relaxed mb-6",children:i.mobile.desc}),T.jsx("div",{className:"bg-pink-600/20 border border-pink-500/50 text-pink-200 px-4 py-2 rounded-full text-sm font-bold animate-pulse shadow-lg shadow-pink-900/50",children:i.mobile.tapToFullscreen})]})]})},QA=({logs:i,onClose:t,t:o})=>{const a=K.useRef(null);return K.useEffect(()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)},[]),T.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-sm p-0 md:p-4 animate-in fade-in duration-200",children:T.jsxs("div",{className:"relative w-full h-full md:h-[85vh] md:max-w-3xl bg-black/90 md:border border-gray-700 rounded-none md:rounded-xl shadow-2xl flex flex-col overflow-hidden",children:[T.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800 bg-gray-900/50",children:[T.jsxs("div",{className:"flex items-center gap-3 text-pink-400",children:[T.jsx(Pu,{className:"w-5 h-5"}),T.jsx("h2",{className:"text-lg font-display font-bold tracking-wider",children:o.game.log})]}),T.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full text-gray-400 hover:text-white transition-colors",children:T.jsx(hi,{className:"w-6 h-6"})})]}),T.jsx("div",{ref:a,className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar",children:i.length===0?T.jsx("div",{className:"text-center text-gray-600 italic mt-10",children:"No history available."}):i.map(u=>T.jsx("div",{className:`flex flex-col ${u.type==="choice"?"items-end":"items-start"}`,children:u.type==="choice"?T.jsxs("div",{className:"max-w-[80%]",children:[T.jsx("div",{className:"text-[10px] text-pink-400 font-bold mb-1 text-right uppercase tracking-widest",children:"Selection"}),T.jsx("div",{className:"bg-pink-900/30 border border-pink-500/30 text-pink-100 px-4 py-2 rounded-lg rounded-tr-none text-sm md:text-base",children:u.text})]}):T.jsxs("div",{className:"max-w-[90%]",children:[u.speaker&&T.jsx("div",{className:"text-sm font-bold text-amber-400 mb-1 shadow-black drop-shadow-sm",children:u.speaker}),T.jsx("div",{className:"text-gray-300 text-sm md:text-base leading-relaxed whitespace-pre-wrap",children:u.text})]})},u.id))}),T.jsx("div",{className:"p-2 bg-gray-900/50 border-t border-gray-800 text-center text-[10px] text-gray-600",children:"History Log"})]})})},Dh={en:{start:{title:"KIZUNA",subtitle:"Infinite Visual Novel",newGame:"Start New Game",load:"Load",gallery:"Gallery",config:"Config",poweredBy:"Powered by",enterName:"Enter Your Name",namePlaceholder:"Protagonist",startJourney:"Start Journey",loading:"Weaving your destiny...",preparing:"Summoning heroines..."},config:{title:"Engine Configuration",provider:"AI Provider",gemini:{key:"Gemini API Key",desc:"Get free key from AI Studio (Google)"},siliconflow:{key:"SiliconFlow API Key",model:"Text Model",imageModel:"Image Model",desc:"DeepSeek & Qwen models"},custom:{textApiUrl:"Text API URL",textApiKey:"Text API Key (Optional)",textModel:"Text Model Name",imageApiUrl:"Image API URL (Optional)",imageModel:"Image Model Name (Optional)",desc:"Compatible with OpenAI format (Ollama, vLLM, etc.)"},dev:{title:"Developer Mode",enable:"Enable Developer Mode",warning:"Advanced: Modifying prompts may break game logic. Use with caution.",promptType:"Prompt Type",editor:"Prompt Editor",save:"Save Version",history:"History / Restore",reset:"Load Default",types:{initial:"Initial Scene",next:"Next Scene",secret:"Secret Memory",image:"Image Generation"},savedToast:"Prompt version saved!",restoredToast:"Version restored!"},save:"Save Configuration",cancel:"Cancel",saved:"Settings Saved!"},theme:{title:"Select Story Theme",desc:"Choose the setting for your visual novel adventure:",custom:"Custom Scenario",customPlaceholder:"E.g. Cyberpunk Detective, Zombie Survival...",cancel:"Cancel",start:"Next",names:{"Japanese High School":"Japanese High School","School & Magic Academy":"School & Magic Academy","Cat Girl & Maid Cafe":"Cat Girl & Maid Cafe","Isekai Fantasy Adventure":"Isekai Fantasy Adventure","Cyberpunk Dystopia":"Cyberpunk Dystopia","Post-Apocalyptic Survival":"Post-Apocalyptic Survival","Sci-Fi Space Opera":"Sci-Fi Space Opera","Historical Dynasty":"Historical Dynasty","Mythological Fantasy":"Mythological Fantasy","Supernatural Horror":"Supernatural Horror"}},game:{turn:"Turn",skip:"Skip",skipping:"Skipping",log:"Log",auto:"Auto",hideUi:"Hide UI",specialEvent:"SPECIAL EVENT",menu:"Menu",generatingImage:"Generating new background...",download:"Download"},menu:{title:"SYSTEM MENU",tabs:{heroines:"Heroines",items:"Items",system:"System"},actions:{save:"Save Game",saveDesc:"Record your progress manually.",load:"Load Game",loadDesc:"Return to a previous timeline.",gallery:"Memory Gallery",galleryDesc:"View unlocked CGs and Events.",unlock:"Unlock Special Memory",unlocking:"Reading Memory..."},settings:{audio:"Audio Settings",volume:"Master Volume",mute:"Mute All Sound",playerName:"Player Name",changeName:"Update Name"},emptyBag:"Your bag is empty."},gallery:{title:"Event CG Gallery",loading:"Loading Memories...",empty:"No memories unlocked yet.",emptyDesc:"Play the story to unlock special events.",close:"Close"},saveload:{saveTitle:"Save Game",loadTitle:"Load Game",autoSave:"Auto Save",empty:"Empty Slot",noData:"No Data",deleteConfirm:"Are you sure you want to delete this save?",saveHere:"Save Here",loadGame:"Load Game"},mobile:{rotate:"Please Rotate Your Device",tapToFullscreen:"Tap screen to enter Fullscreen",desc:"Designed for landscape mode."}},zh:{start:{title:"",subtitle:"",newGame:"",load:"",gallery:"",config:"",poweredBy:"POWERED BY",enterName:"",namePlaceholder:"",startJourney:"",loading:"...",preparing:"..."},config:{title:"",provider:"AI ",gemini:{key:"Gemini API Key",desc:" Google AI Studio  Key"},siliconflow:{key:"SiliconFlow API Key",model:"",imageModel:"",desc:"DeepSeek  Qwen "},custom:{textApiUrl:" API URL",textApiKey:" API Key ()",textModel:"",imageApiUrl:" API URL ()",imageModel:" ()",desc:" OpenAI  (Ollama, vLLM )"},dev:{title:"",enable:"",warning:"",promptType:"",editor:"",save:"",history:" / ",reset:"",types:{initial:" (Initial Scene)",next:" (Next Scene)",secret:" (Secret Memory)",image:" (Image Gen)"},savedToast:"",restoredToast:""},save:"",cancel:"",saved:""},theme:{title:"",desc:"",custom:"",customPlaceholder:"...",cancel:"",start:"",names:{"Japanese High School":"","School & Magic Academy":"","Cat Girl & Maid Cafe":"","Isekai Fantasy Adventure":"","Cyberpunk Dystopia":"","Post-Apocalyptic Survival":"","Sci-Fi Space Opera":"","Historical Dynasty":"","Mythological Fantasy":"","Supernatural Horror":""}},game:{turn:"",skip:"",skipping:"",log:"",auto:"",hideUi:"UI",specialEvent:"",menu:"",generatingImage:"...",download:""},menu:{title:"",tabs:{heroines:"",items:"",system:""},actions:{save:"",saveDesc:"",load:"",loadDesc:"",gallery:"",galleryDesc:"CG",unlock:"",unlocking:"..."},settings:{audio:"",volume:"",mute:"",playerName:"",changeName:""},emptyBag:""},gallery:{title:"CG",loading:"...",empty:"",emptyDesc:"",close:""},saveload:{saveTitle:"",loadTitle:"",autoSave:"",empty:"",noData:"",deleteConfirm:"",saveHere:"",loadGame:""},mobile:{rotate:"",tapToFullscreen:"",desc:""}},ja:{start:{title:"",subtitle:"",newGame:"",load:"",gallery:"",config:"",poweredBy:"Powered by",enterName:"",namePlaceholder:"",startJourney:"",loading:"...",preparing:"..."},config:{title:"",provider:"AI ",gemini:{key:"Gemini API Key",desc:"Google AI Studio"},siliconflow:{key:"SiliconFlow API Key",model:"",imageModel:"",desc:"DeepSeek & Qwen "},custom:{textApiUrl:" API URL",textApiKey:" API Key ()",textModel:"",imageApiUrl:" API URL ()",imageModel:" ()",desc:"OpenAI (Ollama, vLLM)"},dev:{title:"",enable:"",warning:"",promptType:"",editor:"",save:"",history:" / ",reset:"",types:{initial:" (Initial Scene)",next:" (Next Scene)",secret:" (Secret Memory)",image:" (Image Gen)"},savedToast:"",restoredToast:""},save:"",cancel:"",saved:""},theme:{title:"",desc:"",custom:"",customPlaceholder:"...",cancel:"",start:"",names:{"Japanese High School":"","School & Magic Academy":"","Cat Girl & Maid Cafe":"","Isekai Fantasy Adventure":"","Cyberpunk Dystopia":"","Post-Apocalyptic Survival":"","Sci-Fi Space Opera":"SF","Historical Dynasty":"","Mythological Fantasy":"","Supernatural Horror":""}},game:{turn:"",skip:"",skipping:"",log:"",auto:"",hideUi:"UI",specialEvent:"",menu:"",generatingImage:"...",download:""},menu:{title:"",tabs:{heroines:"",items:"",system:""},actions:{save:"",saveDesc:"",load:"",loadDesc:"",gallery:"",galleryDesc:"CG",unlock:"",unlocking:"..."},settings:{audio:"",volume:"",mute:"",playerName:"",changeName:""},emptyBag:""},gallery:{title:"CG",loading:"...",empty:"",emptyDesc:"",close:""},saveload:{saveTitle:"",loadTitle:"",autoSave:"",empty:"",noData:"",deleteConfirm:"",saveHere:"",loadGame:""},mobile:{rotate:"",tapToFullscreen:"",desc:""}},ru:{start:{title:"KIZUNA",subtitle:"  ",newGame:" ",load:"",gallery:"",config:"",poweredBy:" ",enterName:"  ",namePlaceholder:"",startJourney:" ",loading:" ...",preparing:" ..."},config:{title:" ",provider:"AI ",gemini:{key:"Gemini API Key",desc:"   AI Studio"},siliconflow:{key:"SiliconFlow API Key",model:" ",imageModel:" ",desc:" DeepSeek & Qwen"},custom:{textApiUrl:"URL  API",textApiKey:"  API (.)",textModel:"  ",imageApiUrl:"URL  API (.)",imageModel:"   (.)",desc:"  OpenAI (Ollama, vLLM)"},dev:{title:" ",enable:"  ",warning:":      .",promptType:" ",editor:" ",save:" ",history:" / ",reset:" ",types:{initial:" ",next:" ",secret:" ",image:" "},savedToast:" !",restoredToast:" !"},save:"",cancel:"",saved:"!"},theme:{title:" ",desc:"    :",custom:" ",customPlaceholder:".: -, ...",cancel:"",start:"",names:{"Japanese High School":" ","School & Magic Academy":" ","Cat Girl & Maid Cafe":"-  ","Isekai Fantasy Adventure":" ","Cyberpunk Dystopia":"-","Post-Apocalyptic Survival":"","Sci-Fi Space Opera":" ","Historical Dynasty":" ","Mythological Fantasy":" ","Supernatural Horror":" "}},game:{turn:"",skip:"",skipping:"...",log:"",auto:"",hideUi:" UI",specialEvent:" ",menu:"",generatingImage:" ...",download:""},menu:{title:" ",tabs:{heroines:"",items:"",system:""},actions:{save:"",saveDesc:"  .",load:"",loadDesc:"   .",gallery:"",galleryDesc:"  CG  .",unlock:" ",unlocking:" ..."},settings:{audio:" ",volume:"",mute:" ",playerName:" ",changeName:""},emptyBag:"  ."},gallery:{title:" CG",loading:"...",empty:"  .",emptyDesc:",    .",close:""},saveload:{saveTitle:" ",loadTitle:" ",autoSave:"",empty:" ",noData:" ",deleteConfirm:" ,     ?",saveHere:" ",loadGame:""},mobile:{rotate:" ",tapToFullscreen:"   ",desc:"  ."}},fr:{start:{title:"KIZUNA",subtitle:"Visual Novel Infini",newGame:"Nouvelle Partie",load:"Charger",gallery:"Galerie",config:"Config",poweredBy:"Propuls par",enterName:"Entrez votre nom",namePlaceholder:"Protagoniste",startJourney:"Commencer l'aventure",loading:"Tissage de votre destin...",preparing:"Invocation des hrones..."},config:{title:"Configuration du Moteur",provider:"Fournisseur IA",gemini:{key:"Cl API Gemini",desc:"Obtenir gratuitement via Google AI Studio"},siliconflow:{key:"Cl API SiliconFlow",model:"Modle Texte",imageModel:"Modle Image",desc:"Modles DeepSeek & Qwen"},custom:{textApiUrl:"URL API Texte",textApiKey:"Cl API Texte (Opt.)",textModel:"Modle Texte",imageApiUrl:"URL API Image (Opt.)",imageModel:"Modle Image (Opt.)",desc:"Compatible format OpenAI (Ollama, vLLM...)"},dev:{title:"Mode Dveloppeur",enable:"Activer le mode dveloppeur",warning:"Avanc : Modifier les prompts peut casser la logique du jeu.",promptType:"Type de Prompt",editor:"diteur de Prompt",save:"Sauvegarder Version",history:"Historique / Restaurer",reset:"Charger Dfaut",types:{initial:"Scne Initiale",next:"Scne Suivante",secret:"Souvenir Secret",image:"Gnration d'Image"},savedToast:"Version sauvegarde !",restoredToast:"Version restaure !"},save:"Sauvegarder",cancel:"Annuler",saved:"Paramtres sauvegards!"},theme:{title:"Choisir un Thme",desc:"Choisissez le cadre de votre aventure :",custom:"Scnario Personnalis",customPlaceholder:"Ex: Dtective Cyberpunk, Survie Zombie...",cancel:"Annuler",start:"Suivant",names:{"Japanese High School":"Lyce Japonais","School & Magic Academy":"Acadmie de Magie","Cat Girl & Maid Cafe":"Neko Maid Caf","Isekai Fantasy Adventure":"Aventure Isekai Fantasy","Cyberpunk Dystopia":"Dystopie Cyberpunk","Post-Apocalyptic Survival":"Survie Post-Apocalyptique","Sci-Fi Space Opera":"Space Opera Sci-Fi","Historical Dynasty":"Dynastie Historique","Mythological Fantasy":"Fantasy Mythologique","Supernatural Horror":"Horreur Surnaturelle"}},game:{turn:"Tour",skip:"Passer",skipping:"Avance rapide",log:"Journal",auto:"Auto",hideUi:"Masquer UI",specialEvent:"VNEMENT SPCIAL",menu:"Menu",generatingImage:"Gnration du fond...",download:"Tlcharger"},menu:{title:"MENU SYSTME",tabs:{heroines:"Hrones",items:"Objets",system:"Systme"},actions:{save:"Sauvegarder",saveDesc:"Enregistrer votre progression.",load:"Charger",loadDesc:"Retourner  un moment prcdent.",gallery:"Galerie Souvenirs",galleryDesc:"Voir les CG et vnements dbloqus.",unlock:"Dbloquer Souvenir",unlocking:"Lecture du souvenir..."},settings:{audio:"Paramtres Audio",volume:"Volume Principal",mute:"Muet",playerName:"Nom du Joueur",changeName:"Changer"},emptyBag:"Votre sac est vide."},gallery:{title:"Galerie CG",loading:"Chargement...",empty:"Aucun souvenir dbloqu.",emptyDesc:"Jouez pour dbloquer des vnements spciaux.",close:"Fermer"},saveload:{saveTitle:"Sauvegarder",loadTitle:"Charger",autoSave:"Sauvegarde Auto",empty:"Emplacement Vide",noData:"Aucune Donne",deleteConfirm:"Voulez-vous vraiment supprimer cette sauvegarde ?",saveHere:"Sauvegarder ici",loadGame:"Charger"},mobile:{rotate:"Tournez votre appareil",tapToFullscreen:"Appuyez pour le plein cran",desc:"Conu pour le mode paysage."}}},XA=i=>new Promise(t=>{const o=new Image;o.src=i,o.onload=()=>t(),o.onerror=()=>t()}),ZA=i=>{i.indexOf(":");const t=i.includes("")?"":":",o=i.indexOf(t);return o!==-1&&o<20?{speaker:i.substring(0,o),content:i.substring(o+1).trim()}:{speaker:"",content:i}},$A=()=>{const[i,t]=K.useState($t.START_SCREEN),[o,a]=K.useState(null),[u,d]=K.useState(""),[p,g]=K.useState(!1),[y,h]=K.useState(!1),[v,x]=K.useState(null),[E,A]=K.useState(!1),[G,P]=K.useState(!1),[B,O]=K.useState(!1),[J,z]=K.useState(!1),[Z,F]=K.useState(!1),[W,Y]=K.useState(null),[me,te]=K.useState(null),[le,ye]=K.useState(!1),se=K.useRef(null),[re,Be]=K.useState("zh"),ue=Dh[re];K.useEffect(()=>{Th()||O(!0)},[]);const[D,k]=K.useState(()=>localStorage.getItem("ke_player_name")||"Protagonist"),[ee,_e]=K.useState(()=>{const ie=localStorage.getItem("ke_volume");return ie!==null?parseFloat(ie):.5}),[Ae,M]=K.useState(()=>localStorage.getItem("ke_muted")==="true");K.useEffect(()=>{localStorage.setItem("ke_volume",ee.toString()),localStorage.setItem("ke_muted",Ae.toString())},[ee,Ae]),K.useEffect(()=>{localStorage.setItem("ke_player_name",D)},[D]);const[V,Q]=K.useState("Japanese High School"),[$,ce]=K.useState(""),[he,Ne]=K.useState(!1),nt=["Japanese High School","School & Magic Academy","Cat Girl & Maid Cafe","Isekai Fantasy Adventure","Cyberpunk Dystopia","Post-Apocalyptic Survival","Sci-Fi Space Opera","Historical Dynasty","Mythological Fantasy","Supernatural Horror"],Oe=()=>{A(!1),P(!0)},Xn=async ie=>{k(ie),P(!1),F(!0),Y(null),se.current=null;const je=he&&$?$:V;try{const it=await GC(je,re,ie);let qe="";if(it.imagePrompt)try{qe=await yu(it.imagePrompt),qe&&!qe.includes("placehold.co")&&await XA(qe)}catch(Wt){console.error("Initial image failed",Wt),qe=""}d(qe),await pl(it,je,re,!0,ie,qe),t($t.PLAYING)}catch(it){console.error(it),Y(it.message||"Failed to start game. Please check your API Key or Provider settings."),t($t.START_SCREEN),(it.message.includes("Key")||it.message.includes("Auth"))&&O(!0)}finally{F(!1)}},vi=async ie=>{if(!o)return;const je=o.choices.find(qe=>qe.id===ie),it=je?je.text:"";t($t.LOADING_SCENE);try{let qe;if(se.current&&o.choices.length===1&&o.choices[0].id===ie)try{qe=await se.current,console.log("Used preloaded scene")}catch(Wt){console.warn("Preload failed, retrying normally",Wt),qe=await gu(o,ie)}else qe=await gu(o,ie);se.current=null,await pl(qe,o.theme,o.language,!1,o.playerName,void 0,it)}catch(qe){console.error(qe),Y("The engine encountered a glitch. Trying to recover..."),t($t.PLAYING)}},ml=async ie=>{if(!(me||!o)){te(ie.id);try{const je=await qC(ie,o.theme,o.language),it=await yu(je.imagePrompt),qe=`${je.id}_${Date.now()}`;await Ga({...je,id:qe},it,"event"),h(!0)}catch(je){console.error("Failed to unlock bonus:",je),alert("Failed to visualize the memory. Please try again.")}finally{te(null)}}},pl=async(ie,je,it,qe=!1,Wt=D,Zn,Si)=>{const Za=qe?Zn||"":o?.currentBgImage,lt=ie.imagePrompt;let jt=o?[...o.logs]:[];!qe&&Si&&Si!=="Next"&&Si!=="Continue"&&jt.push({id:`choice_${Date.now()}`,speaker:"",text:Si,type:"choice"});const{speaker:vo,content:So}=ZA(ie.narrative);jt.push({id:`narrative_${Date.now()}`,speaker:vo,text:So,type:"narrative"}),jt.length>100&&(jt=jt.slice(jt.length-100));let mt={playerName:Wt,narrative:ie.narrative,choices:ie.choices,heroines:ie.heroines,inventory:ie.inventory,currentQuest:ie.currentQuest,location:ie.location,imagePrompt:lt||o?.imagePrompt||"",turnCount:qe?1:(o?.turnCount||0)+1,history:o?[...o.history,ie.narrative]:[ie.narrative],logs:jt,unlockCg:ie.unlockCg,currentBgImage:Za,theme:je,bgm:ie.bgm,soundEffect:ie.soundEffect,language:it};if(a(mt),t($t.PLAYING),ie.choices.length===1){const Rt=ie.choices[0].id;console.log("Preloading next scene..."),se.current=gu(mt,Rt).catch(gl=>{throw console.error("Preload error (silenced)",gl),gl})}else se.current=null;if(Zn)Ga({id:`bg_${Date.now()}`,title:ie.location,description:`Turn ${mt.turnCount}: ${ie.currentQuest}`},Zn,"scene").catch(console.error);else if(lt){ye(!0);try{const Rt=await yu(lt);d(Rt),mt={...mt,currentBgImage:Rt},a(mt),await Ga({id:`bg_${Date.now()}`,title:ie.location,description:`Turn ${mt.turnCount}: ${ie.currentQuest}`},Rt,"scene"),ie.unlockCg&&Ga(ie.unlockCg,Rt,"event").catch(console.error)}catch(Rt){console.error("Image gen failed",Rt)}finally{ye(!1)}}mt.currentBgImage&&ug("autosave",mt).catch(Rt=>console.warn("Auto-save failed:",Rt))},Yt=ie=>{se.current=null,ie.logs||(ie.logs=[]),a(ie),k(ie.playerName||"Protagonist");const je=ie.language;Dh[je]&&Be(je),ie.currentBgImage&&d(ie.currentBgImage),t($t.PLAYING),x(null),g(!1)},hl=ie=>{k(ie),o&&a({...o,playerName:ie})};return i===$t.START_SCREEN||Z?T.jsxs("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center relative overflow-hidden font-sans",children:[T.jsx(Ih,{t:ue}),Z&&T.jsx(FA,{t:ue}),T.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center opacity-30 blur-sm transform scale-105"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/20 via-transparent to-black/80"}),T.jsx(Mh,{bgm:o?.bgm,sfx:o?.soundEffect,volume:ee,isMuted:Ae}),T.jsxs("div",{className:"absolute top-4 right-4 md:top-6 md:right-6 z-50 flex gap-2",children:[T.jsx("button",{onClick:()=>O(!0),className:"bg-black/40 hover:bg-black/60 text-gray-400 hover:text-white rounded-full p-1.5 transition-all",title:ue.start.config,children:T.jsx(UA,{className:"w-4 h-4"})}),["zh","en","ru","fr","ja"].map(ie=>T.jsx("button",{onClick:()=>Be(ie),className:`px-2 py-1 md:px-3 rounded-full text-[10px] md:text-xs font-bold uppercase transition-all ${re===ie?"bg-pink-600 text-white shadow-lg":"bg-black/40 text-gray-400 hover:bg-black/60 hover:text-white"}`,children:ie},ie))]}),!Z&&T.jsxs("div",{className:"relative z-10 max-w-4xl w-full p-6 md:p-8 flex flex-col items-center justify-center h-full",children:[T.jsxs("div",{className:"text-center mb-6 md:mb-12 animate-in fade-in slide-in-from-top-10 duration-1000",children:[T.jsx("h1",{className:"text-5xl md:text-9xl font-bold text-transparent bg-clip-text bg-gradient-to-br from-pink-400 via-rose-500 to-pink-600 mb-1 md:mb-2 font-display filter drop-shadow-[0_0_15px_rgba(236,72,153,0.5)] tracking-tight",children:ue.start.title}),T.jsx("p",{className:"text-lg md:text-3xl text-pink-100 font-light tracking-[0.2em] uppercase opacity-90",children:ue.start.subtitle})]}),W&&T.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-3 md:p-4 rounded-lg mb-4 md:mb-8 w-full max-w-md text-center backdrop-blur-md animate-in fade-in flex flex-col gap-1 md:gap-2 text-xs md:text-sm",children:[T.jsx("span",{children:W}),T.jsx("button",{onClick:()=>O(!0),className:"underline text-red-300 hover:text-white",children:"Open Configuration"})]}),T.jsxs("div",{className:"flex flex-col items-center w-full max-w-[280px] md:max-w-md space-y-3 md:space-y-4 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200",children:[T.jsxs("button",{onClick:()=>A(!0),className:"w-full group relative bg-gradient-to-r from-pink-600 to-rose-600 hover:from-pink-500 hover:to-rose-500 text-white text-lg md:text-xl font-bold py-3 px-6 md:py-5 md:px-8 rounded-xl md:rounded-2xl shadow-xl shadow-pink-900/40 transform hover:scale-[1.02] transition-all duration-300 overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),T.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[T.jsx(Sg,{className:"w-5 h-5 md:w-6 md:h-6 fill-current"}),T.jsx("span",{children:ue.start.newGame})]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4 w-full",children:[T.jsxs("button",{onClick:()=>x("load"),className:"bg-white/5 hover:bg-white/10 backdrop-blur-sm text-pink-100 font-semibold py-3 px-4 md:py-4 md:px-6 rounded-xl md:rounded-2xl border border-white/10 transition-all hover:border-pink-500/50 hover:text-white flex items-center justify-center space-x-2 group text-sm md:text-base",children:[T.jsx(Vu,{className:"w-4 h-4 md:w-5 md:h-5 group-hover:rotate-90 transition-transform"}),T.jsx("span",{children:ue.start.load})]}),T.jsxs("button",{onClick:()=>h(!0),className:"bg-white/5 hover:bg-white/10 backdrop-blur-sm text-pink-100 font-semibold py-3 px-4 md:py-4 md:px-6 rounded-xl md:rounded-2xl border border-white/10 transition-all hover:border-pink-500/50 hover:text-white flex items-center justify-center space-x-2 text-sm md:text-base",children:[T.jsx(ho,{className:"w-4 h-4 md:w-5 md:h-5"}),T.jsx("span",{children:ue.start.gallery})]})]})]}),T.jsxs("div",{className:"mt-6 md:mt-12 text-gray-500 text-[10px] md:text-xs tracking-widest uppercase opacity-60",children:[ue.start.poweredBy," ",Th()?"AI Engine":"..."]})]}),E&&T.jsx(BA,{isOpen:E,onClose:()=>A(!1),onStart:Oe,selectedTheme:V,onSelectTheme:Q,customTheme:$,setCustomTheme:ce,isCustomTheme:he,setIsCustomTheme:Ne,predefinedThemes:nt,t:ue}),G&&T.jsx(OA,{isOpen:G,onClose:()=>P(!1),onConfirm:Xn,initialName:D,t:ue}),B&&T.jsx(KA,{isOpen:B,onClose:()=>O(!1),onSave:()=>O(!1),t:ue}),y&&T.jsx(wh,{onClose:()=>h(!1),t:ue}),v&&T.jsx(bh,{mode:v,onClose:()=>x(null),onLoadGame:Yt,t:ue})]}):T.jsxs("div",{className:"h-screen w-screen overflow-hidden bg-black relative font-sans",children:[T.jsx(Ih,{t:ue}),T.jsx(Mh,{bgm:o?.bgm,sfx:o?.soundEffect,volume:ee,isMuted:Ae}),T.jsx("div",{className:"absolute inset-0 z-10",children:o&&T.jsx(VA,{gameState:o,bgImage:u,onChoiceSelected:vi,onToggleMenu:()=>g(!0),onOpenSave:()=>x("save"),onOpenLoad:()=>x("load"),onOpenGallery:()=>h(!0),onOpenLog:()=>z(!0),isProcessing:i===$t.LOADING_SCENE,isImageLoading:le,t:ue})}),o&&T.jsx(zA,{state:o,isOpen:p,onClose:()=>g(!1),onOpenGallery:()=>{g(!1),h(!0)},onUnlockBonus:ml,onOpenSave:()=>{g(!1),x("save")},onOpenLoad:()=>{g(!1),x("load")},processingBonusId:me,t:ue,volume:ee,setVolume:_e,isMuted:Ae,setIsMuted:M,onUpdateName:hl}),J&&o&&T.jsx(QA,{logs:o.logs,onClose:()=>z(!1),t:ue}),me&&T.jsx("div",{className:"fixed inset-0 z-[60] bg-black/60 backdrop-blur-sm flex items-center justify-center",children:T.jsxs("div",{className:"bg-white/90 p-6 md:p-8 rounded-2xl shadow-2xl flex flex-col items-center animate-pulse max-w-xs md:max-w-sm text-center",children:[T.jsx(Xa,{className:"w-10 h-10 md:w-12 md:h-12 text-amber-500 animate-spin mb-3 md:mb-4"}),T.jsx("div",{className:"text-amber-600 font-bold text-lg md:text-xl font-display tracking-wide",children:ue.menu.actions.unlock}),T.jsx("p",{className:"text-gray-500 text-xs mt-2",children:ue.menu.actions.unlocking})]})}),y&&T.jsx(wh,{onClose:()=>h(!1),t:ue}),v&&o&&T.jsx(bh,{mode:v,currentState:o,onClose:()=>x(null),onLoadGame:Yt,t:ue})]})},Tg=document.getElementById("root");if(!Tg)throw new Error("Could not find root element to mount to");const WA=Z0.createRoot(Tg);WA.render(T.jsx(B0.StrictMode,{children:T.jsx($A,{})}));
